import{j as ei}from"./jsx-runtime.391947bd.js";import{r as di}from"./index.ed373d49.js";class ce{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),Dt.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let i=[];return this.decompose(e,t,i,0),Dt.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new Mn(this),s=new Mn(e);for(let o=t,l=t;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(l+=r.value.length,r.done||l>=i)return!0}}iter(e=1){return new Mn(this,e)}iterRange(e,t=this.length){return new Fc(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Hc(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?ce.empty:e.length<=32?new Ce(e):Dt.from(Ce.split(e,[]))}}class Ce extends ce{constructor(e,t=ep(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.text[s],l=r+o.length;if((t?i:l)>=e)return new tp(r,l,i,o);r=l+1,i++}}decompose(e,t,i,r){let s=e<=0&&t>=this.length?this:new Ce(za(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let o=i.pop(),l=Mr(s.text,o.text.slice(),0,s.length);if(l.length<=32)i.push(new Ce(l,o.length+s.length));else{let h=l.length>>1;i.push(new Ce(l.slice(0,h)),new Ce(l.slice(h)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof Ce))return super.replace(e,t,i);let r=Mr(this.text,Mr(i.text,za(this.text,0,e)),t),s=this.length+i.length-(t-e);return r.length<=32?new Ce(r,s):Dt.from(Ce.split(r,[]),s)}sliceString(e,t=this.length,i=`
`){let r="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let l=this.text[o],h=s+l.length;s>e&&o&&(r+=i),e<h&&t>s&&(r+=l.slice(Math.max(0,e-s),t-s)),s=h+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(t.push(new Ce(i,r)),i=[],r=-1);return r>-1&&t.push(new Ce(i,r)),t}}class Dt extends ce{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.children[s],l=r+o.length,h=i+o.lines-1;if((t?h:l)>=e)return o.lineInner(e,t,i,r);r=l+1,i=h+1}}decompose(e,t,i,r){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let l=this.children[s],h=o+l.length;if(e<=h&&t>=o){let f=r&((o<=e?1:0)|(h>=t?2:0));o>=e&&h<=t&&!f?i.push(l):l.decompose(e-o,t-o,i,f)}o=h+1}}replace(e,t,i){if(i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.length;if(e>=s&&t<=l){let h=o.replace(e-s,t-s,i),f=this.lines-o.lines+h.lines;if(h.lines<f>>5-1&&h.lines>f>>5+1){let O=this.children.slice();return O[r]=h,new Dt(O,this.length-(t-e)+i.length)}return super.replace(s,l,h)}s=l+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){let r="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let l=this.children[s],h=o+l.length;o>e&&s&&(r+=i),e<h&&t>o&&(r+=l.sliceString(e-o,t-o,i)),o=h+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Dt))return 0;let i=0,[r,s,o,l]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,s+=t){if(r==o||s==l)return i;let h=this.children[r],f=e.children[s];if(h!=f)return i+h.scanIdentical(f,t);i+=h.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let y of e)i+=y.lines;if(i<32){let y=[];for(let w of e)w.flatten(y);return new Ce(y,t)}let r=Math.max(32,i>>5),s=r<<1,o=r>>1,l=[],h=0,f=-1,O=[];function p(y){let w;if(y.lines>s&&y instanceof Dt)for(let X of y.children)p(X);else y.lines>o&&(h>o||!h)?(v(),l.push(y)):y instanceof Ce&&h&&(w=O[O.length-1])instanceof Ce&&y.lines+w.lines<=32?(h+=y.lines,f+=y.length+1,O[O.length-1]=new Ce(w.text.concat(y.text),w.length+1+y.length)):(h+y.lines>r&&v(),h+=y.lines,f+=y.length+1,O.push(y))}function v(){h!=0&&(l.push(O.length==1?O[0]:Dt.from(O,f)),f=-1,h=O.length=0)}for(let y of e)p(y);return v(),l.length==1?l[0]:new Dt(l,t)}}ce.empty=new Ce([""],0);function ep(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Mr(n,e,t=0,i=1e9){for(let r=0,s=0,o=!0;s<n.length&&r<=i;s++){let l=n[s],h=r+l.length;h>=t&&(h>i&&(l=l.slice(0,i-r)),r<t&&(l=l.slice(t-r)),o?(e[e.length-1]+=l,o=!1):e.push(l)),r=h+1}return e}function za(n,e,t){return Mr(n,[""],e,t)}class Mn{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Ce?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,l=r instanceof Ce?r.text.length:r.children.length;if(o==(t>0?l:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof Ce){let h=r.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,h.length>Math.max(0,e))return this.value=e==0?h:t>0?h.slice(e):h.slice(0,h.length-e),this;e-=h.length}else{let h=r.children[o+(t<0?-1:0)];e>h.length?(e-=h.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(h),this.offsets.push(t>0?1:(h instanceof Ce?h.text.length:h.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Fc{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Mn(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Hc{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(ce.prototype[Symbol.iterator]=function(){return this.iter()},Mn.prototype[Symbol.iterator]=Fc.prototype[Symbol.iterator]=Hc.prototype[Symbol.iterator]=function(){return this});class tp{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}}let nn="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<nn.length;n++)nn[n]+=nn[n-1];function ip(n){for(let e=1;e<nn.length;e+=2)if(nn[e]>n)return nn[e-1]<=n;return!1}function qa(n){return n>=127462&&n<=127487}const La=8205;function Ge(n,e,t=!0,i=!0){return(t?Kc:np)(n,e,i)}function Kc(n,e,t){if(e==n.length)return e;e&&Jc(n.charCodeAt(e))&&ef(n.charCodeAt(e-1))&&e--;let i=Be(n,e);for(e+=bt(i);e<n.length;){let r=Be(n,e);if(i==La||r==La||t&&ip(r))e+=bt(r),i=r;else if(qa(r)){let s=0,o=e-2;for(;o>=0&&qa(Be(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function np(n,e,t){for(;e>0;){let i=Kc(n,e-2,t);if(i<e)return i;e--}return 0}function Jc(n){return n>=56320&&n<57344}function ef(n){return n>=55296&&n<56320}function Be(n,e){let t=n.charCodeAt(e);if(!ef(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return Jc(i)?(t-55296<<10)+(i-56320)+65536:t}function Sl(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function bt(n){return n<65536?1:2}const So=/\r\n?|\n/;var Ne=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(Ne||(Ne={}));class It{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(i,r,s),r+=s):r+=o,i+=s}}iterChangedRanges(e,t=!1){wo(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new It(e)}composeDesc(e){return this.empty?e:e.empty?this:tf(this,e)}mapDesc(e,t=!1){return e.empty?this:Qo(this,e,t)}mapPos(e,t=-1,i=Ne.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let l=this.sections[o++],h=this.sections[o++],f=r+l;if(h<0){if(f>e)return s+(e-r);s+=l}else{if(i!=Ne.Simple&&f>=e&&(i==Ne.TrackDel&&r<e&&f>e||i==Ne.TrackBefore&&r<e||i==Ne.TrackAfter&&f>e))return null;if(f>e||f==e&&t<0&&!l)return e==r||t<0?s:s+h;s+=h}r=f}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let s=this.sections[i++],o=this.sections[i++],l=r+s;if(o>=0&&r<=t&&l>=e)return r<e&&l>t?"cover":!0;r=l}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new It(e)}static create(e){return new It(e)}}class Me extends It{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return wo(this,(t,i,r,s,o)=>e=e.replace(r,r+(i-t),o),!1),e}mapDesc(e,t=!1){return Qo(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,s=0;r<t.length;r+=2){let o=t[r],l=t[r+1];if(l>=0){t[r]=l,t[r+1]=o;let h=r>>1;for(;i.length<h;)i.push(ce.empty);i.push(o?e.slice(s,s+o):ce.empty)}s+=o}return new Me(t,i)}compose(e){return this.empty?e:e.empty?this:tf(this,e,!0)}map(e,t=!1){return e.empty?this:Qo(this,e,t,!0)}iterChanges(e,t=!1){wo(this,e,t)}get desc(){return It.create(this.sections)}filter(e){let t=[],i=[],r=[],s=new Ln(this);e:for(let o=0,l=0;;){let h=o==e.length?1e9:e[o++];for(;l<h||l==h&&s.len==0;){if(s.done)break e;let O=Math.min(s.len,h-l);Ke(r,O,-1);let p=s.ins==-1?-1:s.off==0?s.ins:0;Ke(t,O,p),p>0&&vi(i,t,s.text),s.forward(O),l+=O}let f=e[o++];for(;l<f;){if(s.done)break e;let O=Math.min(s.len,f-l);Ke(t,O,-1),Ke(r,O,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(O),l+=O}}return{changes:new Me(t,i),filtered:It.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],s=[],o=0,l=null;function h(O=!1){if(!O&&!r.length)return;o<t&&Ke(r,t-o,-1);let p=new Me(r,s);l=l?l.compose(p.map(l)):p,r=[],s=[],o=0}function f(O){if(Array.isArray(O))for(let p of O)f(p);else if(O instanceof Me){if(O.length!=t)throw new RangeError(`Mismatched change set length (got ${O.length}, expected ${t})`);h(),l=l?l.compose(O.map(l)):O}else{let{from:p,to:v=p,insert:y}=O;if(p>v||p<0||v>t)throw new RangeError(`Invalid change range ${p} to ${v} (in doc of length ${t})`);let w=y?typeof y=="string"?ce.of(y.split(i||So)):y:ce.empty,X=w.length;if(p==v&&X==0)return;p<o&&h(),p>o&&Ke(r,p-o,-1),Ke(r,v-p,X),vi(s,r,w),o=v}}return f(e),h(!l),l}static empty(e){return new Me(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,l)=>l&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<r;)i.push(ce.empty);i[r]=ce.of(s.slice(1)),t.push(s[0],i[r].length)}}}return new Me(t,i)}static createSet(e,t){return new Me(e,t)}}function Ke(n,e,t,i=!1){if(e==0&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:e==0&&n[r]==0?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function vi(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(ce.empty);n.push(t)}}function wo(n,e,t){let i=n.inserted;for(let r=0,s=0,o=0;o<n.sections.length;){let l=n.sections[o++],h=n.sections[o++];if(h<0)r+=l,s+=l;else{let f=r,O=s,p=ce.empty;for(;f+=l,O+=h,h&&i&&(p=p.append(i[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)l=n.sections[o++],h=n.sections[o++];e(r,f,s,O,p),r=f,s=O}}}function Qo(n,e,t,i=!1){let r=[],s=i?[]:null,o=new Ln(n),l=new Ln(e);for(let h=-1;;)if(o.ins==-1&&l.ins==-1){let f=Math.min(o.len,l.len);Ke(r,f,-1),o.forward(f),l.forward(f)}else if(l.ins>=0&&(o.ins<0||h==o.i||o.off==0&&(l.len<o.len||l.len==o.len&&!t))){let f=l.len;for(Ke(r,l.ins,-1);f;){let O=Math.min(o.len,f);o.ins>=0&&h<o.i&&o.len<=O&&(Ke(r,0,o.ins),s&&vi(s,r,o.text),h=o.i),o.forward(O),f-=O}l.next()}else if(o.ins>=0){let f=0,O=o.len;for(;O;)if(l.ins==-1){let p=Math.min(O,l.len);f+=p,O-=p,l.forward(p)}else if(l.ins==0&&l.len<O)O-=l.len,l.next();else break;Ke(r,f,h<o.i?o.ins:0),s&&h<o.i&&vi(s,r,o.text),h=o.i,o.forward(o.len-O)}else{if(o.done&&l.done)return s?Me.createSet(r,s):It.create(r);throw new Error("Mismatched change set lengths")}}function tf(n,e,t=!1){let i=[],r=t?[]:null,s=new Ln(n),o=new Ln(e);for(let l=!1;;){if(s.done&&o.done)return r?Me.createSet(i,r):It.create(i);if(s.ins==0)Ke(i,s.len,0,l),s.next();else if(o.len==0&&!o.done)Ke(i,0,o.ins,l),r&&vi(r,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let h=Math.min(s.len2,o.len),f=i.length;if(s.ins==-1){let O=o.ins==-1?-1:o.off?0:o.ins;Ke(i,h,O,l),r&&O&&vi(r,i,o.text)}else o.ins==-1?(Ke(i,s.off?0:s.len,h,l),r&&vi(r,i,s.textBit(h))):(Ke(i,s.off?0:s.len,o.off?0:o.ins,l),r&&!o.off&&vi(r,i,o.text));l=(s.ins>h||o.ins>=0&&o.len>h)&&(l||i.length>f),s.forward2(h),o.forward(h)}}}}class Ln{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?ce.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?ce.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Zi{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new Zi(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Y.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Y.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Y.range(e.anchor,e.head)}static create(e,t,i){return new Zi(e,t,i)}}class Y{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Y.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Y([this.main],0)}addRange(e,t=!0){return Y.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,Y.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Y(e.ranges.map(t=>Zi.fromJSON(t)),e.main)}static single(e,t=e){return new Y([Y.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return Y.normalized(e.slice(),t);i=s.to}return new Y(e,t)}static cursor(e,t=0,i,r){return Zi.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(e,t,i,r){let s=(i??16777215)<<6|(r==null?7:Math.min(6,r));return t<e?Zi.create(t,e,48|s):Zi.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((r,s)=>r.from-s.from),t=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let l=o.from,h=Math.max(s.to,o.to);r<=t&&t--,e.splice(--r,2,s.anchor>s.head?Y.range(h,l):Y.range(l,h))}}return new Y(e,t)}}function nf(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let wl=0;class B{constructor(e,t,i,r,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.id=wl++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new B(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:Ql),!!e.static,e.enables)}of(e){return new Zr([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Zr(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Zr(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function Ql(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class Zr{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=wl++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,l=this.type==2,h=!1,f=!1,O=[];for(let p of this.dependencies)p=="doc"?h=!0:p=="selection"?f=!0:((t=e[p.id])!==null&&t!==void 0?t:1)&1||O.push(e[p.id]);return{create(p){return p.values[o]=i(p),1},update(p,v){if(h&&v.docChanged||f&&(v.docChanged||v.selection)||$o(p,O)){let y=i(p);if(l?!Ea(y,p.values[o],r):!r(y,p.values[o]))return p.values[o]=y,1}return 0},reconfigure:(p,v)=>{let y,w=v.config.address[s];if(w!=null){let X=Gr(v,w);if(this.dependencies.every(P=>P instanceof B?v.facet(P)===p.facet(P):P instanceof Le?v.field(P,!1)==p.field(P,!1):!0)||(l?Ea(y=i(p),X,r):r(y=i(p),X)))return p.values[o]=X,0}else y=i(p);return p.values[o]=y,1}}}}function Ea(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function $o(n,e){let t=!1;for(let i of e)Zn(n,i)&1&&(t=!0);return t}function rp(n,e,t){let i=t.map(h=>n[h.id]),r=t.map(h=>h.type),s=i.filter(h=>!(h&1)),o=n[e.id]>>1;function l(h){let f=[];for(let O=0;O<i.length;O++){let p=Gr(h,i[O]);if(r[O]==2)for(let v of p)f.push(v);else f.push(p)}return e.combine(f)}return{create(h){for(let f of i)Zn(h,f);return h.values[o]=l(h),1},update(h,f){if(!$o(h,s))return 0;let O=l(h);return e.compare(O,h.values[o])?0:(h.values[o]=O,1)},reconfigure(h,f){let O=$o(h,i),p=f.config.facets[e.id],v=f.facet(e);if(p&&!O&&Ql(t,p))return h.values[o]=v,0;let y=l(h);return e.compare(y,v)?(h.values[o]=v,0):(h.values[o]=y,1)}}}const ja=B.define({static:!0});class Le{constructor(e,t,i,r,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let t=new Le(wl++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(ja).find(i=>i.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let s=i.values[t],o=this.updateF(s,r);return this.compareF(s,o)?0:(i.values[t]=o,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,ja.of({field:this,create:e})]}get extension(){return this}}const Vi={lowest:4,low:3,default:2,high:1,highest:0};function wn(n){return e=>new rf(e,n)}const _i={highest:wn(Vi.highest),high:wn(Vi.high),default:wn(Vi.default),low:wn(Vi.low),lowest:wn(Vi.lowest)};class rf{constructor(e,t){this.inner=e,this.prec=t}}class pn{of(e){return new ko(this,e)}reconfigure(e){return pn.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class ko{constructor(e,t){this.compartment=e,this.inner=t}}class Nr{constructor(e,t,i,r,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],s=Object.create(null),o=new Map;for(let v of sp(e,t,o))v instanceof Le?r.push(v):(s[v.facet.id]||(s[v.facet.id]=[])).push(v);let l=Object.create(null),h=[],f=[];for(let v of r)l[v.id]=f.length<<1,f.push(y=>v.slot(y));let O=i?.config.facets;for(let v in s){let y=s[v],w=y[0].facet,X=O&&O[v]||[];if(y.every(P=>P.type==0))if(l[w.id]=h.length<<1|1,Ql(X,y))h.push(i.facet(w));else{let P=w.combine(y.map(U=>U.value));h.push(i&&w.compare(P,i.facet(w))?i.facet(w):P)}else{for(let P of y)P.type==0?(l[P.id]=h.length<<1|1,h.push(P.value)):(l[P.id]=f.length<<1,f.push(U=>P.dynamicSlot(U)));l[w.id]=f.length<<1,f.push(P=>rp(P,w,y))}}let p=f.map(v=>v(l));return new Nr(e,o,p,l,h,s)}}function sp(n,e,t){let i=[[],[],[],[],[]],r=new Map;function s(o,l){let h=r.get(o);if(h!=null){if(h<=l)return;let f=i[h].indexOf(o);f>-1&&i[h].splice(f,1),o instanceof ko&&t.delete(o.compartment)}if(r.set(o,l),Array.isArray(o))for(let f of o)s(f,l);else if(o instanceof ko){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(o.compartment)||o.inner;t.set(o.compartment,f),s(f,l)}else if(o instanceof rf)s(o.inner,o.prec);else if(o instanceof Le)i[l].push(o),o.provides&&s(o.provides,l);else if(o instanceof Zr)i[l].push(o),o.facet.extensions&&s(o.facet.extensions,Vi.default);else{let f=o.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(f,l)}}return s(n,Vi.default),i.reduce((o,l)=>o.concat(l))}function Zn(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function Gr(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const sf=B.define(),Xo=B.define({combine:n=>n.some(e=>e),static:!0}),of=B.define({combine:n=>n.length?n[0]:void 0,static:!0}),lf=B.define(),af=B.define(),hf=B.define(),cf=B.define({combine:n=>n.length?n[0]:!1});class li{constructor(e,t){this.type=e,this.value=t}static define(){return new op}}class op{of(e){return new li(this,e)}}class lp{constructor(e){this.map=e}of(e){return new te(this,e)}}class te{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new te(this.type,t)}is(e){return this.type==e}static define(e={}){return new lp(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(t);s&&i.push(s)}return i}}te.reconfigure=te.define();te.appendConfig=te.define();class Ze{constructor(e,t,i,r,s,o){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&nf(i,t.newLength),s.some(l=>l.type==Ze.time)||(this.annotations=s.concat(Ze.time.of(Date.now())))}static create(e,t,i,r,s,o){return new Ze(e,t,i,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Ze.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Ze.time=li.define();Ze.userEvent=li.define();Ze.addToHistory=li.define();Ze.remote=li.define();function ap(n,e){let t=[];for(let i=0,r=0;;){let s,o;if(i<n.length&&(r==e.length||e[r]>=n[i]))s=n[i++],o=n[i++];else if(r<e.length)s=e[r++],o=e[r++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function ff(n,e,t){var i;let r,s,o;return t?(r=e.changes,s=Me.empty(e.changes.length),o=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:te.mapEffects(n.effects,r).concat(te.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Po(n,e,t){let i=e.selection,r=rn(e.annotations);return e.userEvent&&(r=r.concat(Ze.userEvent.of(e.userEvent))),{changes:e.changes instanceof Me?e.changes:Me.of(e.changes||[],t,n.facet(of)),selection:i&&(i instanceof Y?i:Y.single(i.anchor,i.head)),effects:rn(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function uf(n,e,t){let i=Po(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;i=ff(i,Po(n,e[s],o?i.changes.newLength:n.doc.length),o)}let r=Ze.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return cp(t?hp(r):r)}function hp(n){let e=n.startState,t=!0;for(let r of e.facet(lf)){let s=r(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:ap(t,s))}if(t!==!0){let r,s;if(t===!1)s=n.changes.invertedDesc,r=Me.empty(e.doc.length);else{let o=n.changes.filter(t);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=Ze.create(e,r,n.selection&&n.selection.map(s),te.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let i=e.facet(af);for(let r=i.length-1;r>=0;r--){let s=i[r](n);s instanceof Ze?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Ze?n=s[0]:n=uf(e,rn(s),!1)}return n}function cp(n){let e=n.startState,t=e.facet(hf),i=n;for(let r=t.length-1;r>=0;r--){let s=t[r](n);s&&Object.keys(s).length&&(i=ff(i,Po(e,s,n.changes.newLength),!0))}return i==n?n:Ze.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const fp=[];function rn(n){return n==null?fp:Array.isArray(n)?n:[n]}var we=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(we||(we={}));const up=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Co;try{Co=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Op(n){if(Co)return Co.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||up.test(t)))return!0}return!1}function dp(n){return e=>{if(!/\S/.test(e))return we.Space;if(Op(e))return we.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return we.Word;return we.Other}}class he{constructor(e,t,i,r,s,o){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)Zn(this,l<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Zn(this,i),Gr(this,i)}update(...e){return uf(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:r}=t;for(let l of e.effects)l.is(pn.reconfigure)?(t&&(r=new Map,t.compartments.forEach((h,f)=>r.set(f,h)),t=null),r.set(l.value.compartment,l.value.extension)):l.is(te.reconfigure)?(t=null,i=l.value):l.is(te.appendConfig)&&(t=null,i=rn(i).concat(l.value));let s;t?s=e.startState.values.slice():(t=Nr.resolve(i,r,this),s=new he(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(h,f)=>f.reconfigure(h,this),null).values);let o=e.startState.facet(Xo)?e.newSelection:e.newSelection.asSingle();new he(t,e.newDoc,o,s,(l,h)=>h.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Y.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),s=[i.range],o=rn(i.effects);for(let l=1;l<t.ranges.length;l++){let h=e(t.ranges[l]),f=this.changes(h.changes),O=f.map(r);for(let v=0;v<l;v++)s[v]=s[v].map(O);let p=r.mapDesc(f,!0);s.push(h.range.map(p)),r=r.compose(O),o=te.mapEffects(o,O).concat(te.mapEffects(rn(h.effects),p))}return{changes:r,selection:Y.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Me?e:Me.of(e,this.doc.length,this.facet(he.lineSeparator))}toText(e){return ce.of(e.split(this.facet(he.lineSeparator)||So))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Zn(this,t),Gr(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof Le&&this.config.address[r.id]!=null&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],l=e[s];r.push(o.init(h=>o.spec.fromJSON(l,h)))}}return he.create({doc:e.doc,selection:Y.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=Nr.resolve(e.extensions||[],new Map),i=e.doc instanceof ce?e.doc:ce.of((e.doc||"").split(t.staticFacet(he.lineSeparator)||So)),r=e.selection?e.selection instanceof Y?e.selection:Y.single(e.selection.anchor,e.selection.head):Y.single(0);return nf(r,i.length),t.staticFacet(Xo)||(r=r.asSingle()),new he(t,i,r,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(he.tabSize)}get lineBreak(){return this.facet(he.lineSeparator)||`
`}get readOnly(){return this.facet(cf)}phrase(e,...t){for(let i of this.facet(he.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let r=[];for(let s of this.facet(sf))for(let o of s(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return dp(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,l=e-i;for(;o>0;){let h=Ge(t,o,!1);if(s(t.slice(h,o))!=we.Word)break;o=h}for(;l<r;){let h=Ge(t,l);if(s(t.slice(l,h))!=we.Word)break;l=h}return o==l?null:Y.range(o+i,l+i)}}he.allowMultipleSelections=Xo;he.tabSize=B.define({combine:n=>n.length?n[0]:4});he.lineSeparator=of;he.readOnly=cf;he.phrases=B.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(r=>n[r]==e[r])}});he.languageData=sf;he.changeFilter=lf;he.transactionFilter=af;he.transactionExtender=hf;pn.reconfigure=te.define();function Nt(n,e,t={}){let i={};for(let r of n)for(let s of Object.keys(r)){let o=r[s],l=i[s];if(l===void 0)i[s]=o;else if(!(l===o||o===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](l,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class Li{eq(e){return this==e}range(e,t=e){return To.create(e,t,this)}}Li.prototype.startSide=Li.prototype.endSide=0;Li.prototype.point=!1;Li.prototype.mapMode=Ne.TrackDel;let To=class Of{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new Of(e,t,i)}};function Uo(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class $l{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let s=i?this.to:this.from;for(let o=r,l=s.length;;){if(o==l)return o;let h=o+l>>1,f=s[h]-e||(i?this.value[h].endSide:this.value[h].startSide)-t;if(h==o)return f>=0?o:l;f>=0?l=h:o=h+1}}between(e,t,i,r){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],r=[],s=[],o=-1,l=-1;for(let h=0;h<this.value.length;h++){let f=this.value[h],O=this.from[h]+e,p=this.to[h]+e,v,y;if(O==p){let w=t.mapPos(O,f.startSide,f.mapMode);if(w==null||(v=y=w,f.startSide!=f.endSide&&(y=t.mapPos(O,f.endSide),y<v)))continue}else if(v=t.mapPos(O,f.startSide),y=t.mapPos(p,f.endSide),v>y||v==y&&f.startSide>0&&f.endSide<=0)continue;(y-v||f.endSide-f.startSide)<0||(o<0&&(o=v),f.point&&(l=Math.max(l,y-v)),i.push(f),r.push(v-o),s.push(y-o))}return{mapped:i.length?new $l(r,s,i,l):null,pos:o}}}class Oe{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new Oe(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(Uo)),this.isEmpty)return t.length?Oe.of(t):this;let l=new df(this,null,-1).goto(0),h=0,f=[],O=new ii;for(;l.value||h<t.length;)if(h<t.length&&(l.from-t[h].from||l.startSide-t[h].value.startSide)>=0){let p=t[h++];O.addInner(p.from,p.to,p.value)||f.push(p)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(h==t.length||this.chunkEnd(l.chunkIndex)<t[h].from)&&(!o||r>this.chunkEnd(l.chunkIndex)||s<this.chunkPos[l.chunkIndex])&&O.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!o||r>l.to||s<l.from||o(l.from,l.to,l.value))&&(O.addInner(l.from,l.to,l.value)||f.push(To.create(l.from,l.to,l.value))),l.next());return O.finishInner(this.nextLayer.isEmpty&&!f.length?Oe.empty:this.nextLayer.update({add:f,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let o=0;o<this.chunk.length;o++){let l=this.chunkPos[o],h=this.chunk[o],f=e.touchesRange(l,l+h.length);if(f===!1)r=Math.max(r,h.maxPoint),t.push(h),i.push(e.mapPos(l));else if(f===!0){let{mapped:O,pos:p}=h.map(l,e);O&&(r=Math.max(r,O.maxPoint),t.push(O),i.push(p))}}let s=this.nextLayer.map(e);return t.length==0?s:new Oe(i,t,s||Oe.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return En.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return En.from(e).goto(t)}static compare(e,t,i,r,s=-1){let o=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),l=t.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),h=Da(o,l,i),f=new Qn(o,h,s),O=new Qn(l,h,s);i.iterGaps((p,v,y)=>_a(f,p,O,v,y,r)),i.empty&&i.length==0&&_a(f,0,O,0,0,r)}static eq(e,t,i=0,r){r==null&&(r=1e9-1);let s=e.filter(O=>!O.isEmpty&&t.indexOf(O)<0),o=t.filter(O=>!O.isEmpty&&e.indexOf(O)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let l=Da(s,o),h=new Qn(s,l,0).goto(i),f=new Qn(o,l,0).goto(i);for(;;){if(h.to!=f.to||!Ro(h.active,f.active)||h.point&&(!f.point||!h.point.eq(f.point)))return!1;if(h.to>r)return!0;h.next(),f.next()}}static spans(e,t,i,r,s=-1){let o=new Qn(e,null,s).goto(t),l=t,h=o.openStart;for(;;){let f=Math.min(o.to,i);if(o.point){let O=o.activeForPoint(o.to),p=o.pointFrom<t?O.length+1:Math.min(O.length,h);r.point(l,f,o.point,O,p,o.pointRank),h=Math.min(o.openEnd(f),O.length)}else f>l&&(r.span(l,f,o.active,h),h=o.openEnd(f));if(o.to>i)return h+(o.point&&o.to>i?1:0);l=o.to,o.next()}}static of(e,t=!1){let i=new ii;for(let r of e instanceof To?[e]:t?pp(e):e)i.add(r.from,r.to,r.value);return i.finish()}}Oe.empty=new Oe([],[],null,-1);function pp(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(Uo(e,i)>0)return n.slice().sort(Uo);e=i}return n}Oe.empty.nextLayer=Oe.empty;class ii{finishChunk(e){this.chunks.push(new $l(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new ii)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Oe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Oe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Da(n,e,t){let i=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let l=i.get(s.chunk[o]);l!=null&&(t?t.mapPos(l):l)==s.chunkPos[o]&&!t?.touchesRange(l,l+s.chunk[o].length)&&r.add(s.chunk[o])}return r}class df{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class En{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new df(o,t,i,s));return r.length==1?r[0]:new En(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Ds(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Ds(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Ds(this.heap,0)}}}function Ds(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class Qn{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=En.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Or(this.active,e),Or(this.activeTo,e),Or(this.activeRank,e),this.minActive=Ba(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:s}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;dr(this.active,t,i),dr(this.activeTo,t,r),dr(this.activeRank,t,s),e&&dr(e,t,this.cursor.from),this.minActive=Ba(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&Or(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function _a(n,e,t,i,r,s){n.goto(e),t.goto(i);let o=i+r,l=i,h=i-e;for(;;){let f=n.to+h-t.to||n.endSide-t.endSide,O=f<0?n.to+h:t.to,p=Math.min(O,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Ro(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(l,p,n.point,t.point):p>l&&!Ro(n.active,t.active)&&s.compareRange(l,p,n.active,t.active),O>o)break;l=O,f<=0&&n.next(),f>=0&&t.next()}}function Ro(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Or(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function dr(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function Ba(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function gn(n,e,t=n.length){let i=0;for(let r=0;r<t;)n.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=Ge(n,r));return i}function Wo(n,e,t,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==n.length)break;s+=n.charCodeAt(r)==9?t-s%t:1,r=Ge(n,r)}return i===!0?-1:n.length}const Yo="ͼ",Ia=typeof Symbol>"u"?"__"+Yo:Symbol.for(Yo),Ao=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Na=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class $i{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,l,h,f){let O=[],p=/^@(\w+)\b/.exec(o[0]),v=p&&p[1]=="keyframes";if(p&&l==null)return h.push(o[0]+";");for(let y in l){let w=l[y];if(/&/.test(y))s(y.split(/,\s*/).map(X=>o.map(P=>X.replace(/&/,P))).reduce((X,P)=>X.concat(P)),w,h);else if(w&&typeof w=="object"){if(!p)throw new RangeError("The value of a property ("+y+") should be a primitive value.");s(r(y),w,O,v)}else w!=null&&O.push(y.replace(/_.*/,"").replace(/[A-Z]/g,X=>"-"+X.toLowerCase())+": "+w+";")}(O.length||v)&&h.push((i&&!p&&!f?o.map(i):o).join(", ")+" {"+O.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Na[Ia]||1;return Na[Ia]=e+1,Yo+e.toString(36)}static mount(e,t,i){let r=e[Ao],s=i&&i.nonce;r?s&&r.setNonce(s):r=new gp(e,s),r.mount(Array.isArray(t)?t:[t])}}let Ga=new Map;class gp{constructor(e,t){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=Ga.get(i);if(s)return e.adoptedStyleSheets=[s.sheet,...e.adoptedStyleSheets],e[Ao]=s;this.sheet=new r.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],Ga.set(i,this)}else{this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);let s=e.head||e;s.insertBefore(this.styleTag,s.firstChild)}this.modules=[],e[Ao]=this}mount(e){let t=this.sheet,i=0,r=0;for(let s=0;s<e.length;s++){let o=e[s],l=this.modules.indexOf(o);if(l<r&&l>-1&&(this.modules.splice(l,1),r--,l=-1),l==-1){if(this.modules.splice(r++,0,o),t)for(let h=0;h<o.rules.length;h++)t.insertRule(o.rules[h],i++)}else{for(;r<l;)i+=this.modules[r++].rules.length;i+=o.rules.length,r++}}if(!t){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ki={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},jn={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mp=typeof navigator<"u"&&/Mac/.test(navigator.platform),vp=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ie=0;Ie<10;Ie++)ki[48+Ie]=ki[96+Ie]=String(Ie);for(var Ie=1;Ie<=24;Ie++)ki[Ie+111]="F"+Ie;for(var Ie=65;Ie<=90;Ie++)ki[Ie]=String.fromCharCode(Ie+32),jn[Ie]=String.fromCharCode(Ie);for(var _s in ki)jn.hasOwnProperty(_s)||(jn[_s]=ki[_s]);function yp(n){var e=mp&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||vp&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?jn:ki)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Fr(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Vo(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function xp(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function zr(n,e){if(!e.anchorNode)return!1;try{return Vo(n,e.anchorNode)}catch{return!1}}function Dn(n){return n.nodeType==3?Ei(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Hr(n,e,t,i){return t?Fa(n,e,t,i,-1)||Fa(n,e,t,i,1):!1}function _n(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Fa(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:ni(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=_n(n)+(r<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?ni(n):0}else return!1}}function ni(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function kl(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function bp(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function Sp(n,e,t,i,r,s,o,l){let h=n.ownerDocument,f=h.defaultView||window;for(let O=n,p=!1;O&&!p;)if(O.nodeType==1){let v,y=O==h.body,w=1,X=1;if(y)v=bp(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(O).position)&&(p=!0),O.scrollHeight<=O.clientHeight&&O.scrollWidth<=O.clientWidth){O=O.assignedSlot||O.parentNode;continue}let M=O.getBoundingClientRect();w=M.width/O.offsetWidth,X=M.height/O.offsetHeight,v={left:M.left,right:M.left+O.clientWidth*w,top:M.top,bottom:M.top+O.clientHeight*X}}let P=0,U=0;if(r=="nearest")e.top<v.top?(U=-(v.top-e.top+o),t>0&&e.bottom>v.bottom+U&&(U=e.bottom-v.bottom+U+o)):e.bottom>v.bottom&&(U=e.bottom-v.bottom+o,t<0&&e.top-U<v.top&&(U=-(v.top+U-e.top+o)));else{let M=e.bottom-e.top,q=v.bottom-v.top;U=(r=="center"&&M<=q?e.top+M/2-q/2:r=="start"||r=="center"&&t<0?e.top-o:e.bottom-q+o)-v.top}if(i=="nearest"?e.left<v.left?(P=-(v.left-e.left+s),t>0&&e.right>v.right+P&&(P=e.right-v.right+P+s)):e.right>v.right&&(P=e.right-v.right+s,t<0&&e.left<v.left+P&&(P=-(v.left+P-e.left+s))):P=(i=="center"?e.left+(e.right-e.left)/2-(v.right-v.left)/2:i=="start"==l?e.left-s:e.right-(v.right-v.left)+s)-v.left,P||U)if(y)f.scrollBy(P,U);else{let M=0,q=0;if(U){let Z=O.scrollTop;O.scrollTop+=U/X,q=(O.scrollTop-Z)*X}if(P){let Z=O.scrollLeft;O.scrollLeft+=P/w,M=(O.scrollLeft-Z)*w}e={left:e.left-M,top:e.top-q,right:e.right-M,bottom:e.bottom-q},M&&Math.abs(M-P)<1&&(i="nearest"),q&&Math.abs(q-U)<1&&(r="nearest")}if(y)break;O=O.assignedSlot||O.parentNode}else if(O.nodeType==11)O=O.host;else break}function wp(n){let e=n.ownerDocument;for(let t=n.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class Qp{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?ni(t):0),i,Math.min(e.focusOffset,i?ni(i):0))}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let Ni=null;function pf(n){if(n.setActive)return n.setActive();if(Ni)return n.focus(Ni);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Ni==null?{get preventScroll(){return Ni={preventScroll:!0},!0}}:void 0),!Ni){Ni=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],s=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let Ha;function Ei(n,e,t=e){let i=Ha||(Ha=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function sn(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,n.dispatchEvent(r);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,n.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}function $p(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function gf(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function kp(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,ni(t));;)if(i){if(t.nodeType!=1)return!1;let r=t.childNodes[i-1];r.contentEditable=="false"?i--:(t=r,i=ni(t))}else{if(t==n)return!0;i=_n(t),t=t.parentNode}}function mf(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}class Je{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Je(e.parentNode,_n(e),t)}static after(e,t){return new Je(e.parentNode,_n(e)+1,t)}}const Xl=[];class Se{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,r=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=r?r.nextSibling:i.firstChild)){let l=Se.get(s);(!l||!l.parent&&l.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=r?r.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&s!=o.dom&&(t.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=Ka(s);else i.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:i.firstChild,s&&t&&t.node==i&&(t.written=!0);s;)s=Ka(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=ni(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Se.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,s=-1,o=-1,l=-1;for(let h=0,f=i,O=i;h<this.children.length;h++){let p=this.children[h],v=f+p.length;if(f<e&&v>t)return p.domBoundsAround(e,t,f);if(v>=e&&r==-1&&(r=h,s=f),f>t&&p.dom.parentNode==this.dom){o=h,l=O;break}O=v,f=v+p.breakAfter}return{from:s,to:l<0?i+this.length:l,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=Xl){this.markDirty();for(let r=e;r<t;r++){let s=this.children[r];s.parent==this&&i.indexOf(s)<0&&s.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new vf(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,r,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.destroy();this.parent=null}}Se.prototype.breakAfter=0;function Ka(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class vf{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function yf(n,e,t,i,r,s,o,l,h){let{children:f}=n,O=f.length?f[e]:null,p=s.length?s[s.length-1]:null,v=p?p.breakAfter:o;if(!(e==i&&O&&!o&&!v&&s.length<2&&O.merge(t,r,s.length?p:null,t==0,l,h))){if(i<f.length){let y=f[i];y&&(r<y.length||y.breakAfter&&p?.breakAfter)?(e==i&&(y=y.split(r),r=0),!v&&p&&y.merge(0,r,p,!0,0,h)?s[s.length-1]=y:((r||y.children.length&&!y.children[0].length)&&y.merge(0,r,null,!1,0,h),s.push(y))):y?.breakAfter&&(p?p.breakAfter=1:o=1),i++}for(O&&(O.breakAfter=o,t>0&&(!o&&s.length&&O.merge(t,O.length,s[0],!1,l,0)?O.breakAfter=s.shift().breakAfter:(t<O.length||O.children.length&&O.children[O.children.length-1].length==0)&&O.merge(t,O.length,null,!1,l,0),e++));e<i&&s.length;)if(f[i-1].become(s[s.length-1]))i--,s.pop(),h=s.length?0:l;else if(f[e].become(s[0]))e++,s.shift(),l=s.length?0:h;else break;!s.length&&e&&i<f.length&&!f[e-1].breakAfter&&f[i].merge(0,0,f[e-1],!1,l,h)&&e--,(e<i||s.length)&&n.replaceChildren(e,i,s)}}function xf(n,e,t,i,r,s){let o=n.childCursor(),{i:l,off:h}=o.findPos(t,1),{i:f,off:O}=o.findPos(e,-1),p=e-t;for(let v of i)p+=v.length;n.length+=p,yf(n,f,O,l,h,i,0,r,s)}let mt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Mo=typeof document<"u"?document:{documentElement:{style:{}}};const Zo=/Edge\/(\d+)/.exec(mt.userAgent),bf=/MSIE \d/.test(mt.userAgent),zo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(mt.userAgent),Ss=!!(bf||zo||Zo),Ja=!Ss&&/gecko\/(\d+)/i.test(mt.userAgent),Bs=!Ss&&/Chrome\/(\d+)/.exec(mt.userAgent),eh="webkitFontSmoothing"in Mo.documentElement.style,Sf=!Ss&&/Apple Computer/.test(mt.vendor),th=Sf&&(/Mobile\/\w+/.test(mt.userAgent)||mt.maxTouchPoints>2);var I={mac:th||/Mac/.test(mt.platform),windows:/Win/.test(mt.platform),linux:/Linux|X11/.test(mt.platform),ie:Ss,ie_version:bf?Mo.documentMode||6:zo?+zo[1]:Zo?+Zo[1]:0,gecko:Ja,gecko_version:Ja?+(/Firefox\/(\d+)/.exec(mt.userAgent)||[0,0])[1]:0,chrome:!!Bs,chrome_version:Bs?+Bs[1]:0,ios:th,android:/Android\b/.test(mt.userAgent),webkit:eh,safari:Sf,webkit_version:eh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Mo.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Xp=256;class ri extends Se{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof ri)||this.length-(t-e)+i.length>Xp||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new ri(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Je(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Pp(this.dom,e,t)}}class si extends Se{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(gf(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,r,s,o){return i&&(!(i instanceof si&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(xf(this,e,t,i?i.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,s=0;for(let l of this.children){let h=i+l.length;h>e&&t.push(i<e?l.split(e-i):l),r<0&&i>=e&&(r=s),i=h,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new si(this.mark,t,o)}domAtPos(e){return wf(this,e)}coordsAt(e,t){return $f(this,e,t)}}function Pp(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;e==0&&t<0||e==i&&t>=0?I.chrome||I.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):t<0?r--:s<i&&s++;let l=Ei(n,r,s).getClientRects();if(!l.length)return null;let h=l[(o?o<0:t>=0)?0:l.length-1];return I.safari&&!o&&h.width==0&&(h=Array.prototype.find.call(l,f=>f.width)||h),o?kl(h,o<0):h||null}class yi extends Se{static create(e,t,i){return new yi(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=yi.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,s,o){return i&&(!(i instanceof yi)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof yi&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return ce.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):ce.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Je.before(this.dom):Je.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let r=this.dom.getClientRects(),s=null;if(!r.length)return null;let o=this.side?this.side<0:e>0;for(let l=o?r.length-1:0;s=r[l],!(e>0?l==0:l==r.length-1||s.top<s.bottom);l+=o?-1:1);return kl(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class cn extends Se{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof cn&&e.side==this.side}split(){return new cn(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Je.before(this.dom):Je.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return ce.empty}get isHidden(){return!0}}ri.prototype.children=yi.prototype.children=cn.prototype.children=Xl;function wf(n,e){let t=n.dom,{children:i}=n,r=0;for(let s=0;r<i.length;r++){let o=i[r],l=s+o.length;if(!(l==s&&o.getSide()<=0)){if(e>s&&e<l&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=l}}for(let s=r;s>0;s--){let o=i[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=r;s<i.length;s++){let o=i[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new Je(t,0)}function Qf(n,e,t){let i,{children:r}=n;t>0&&e instanceof si&&r.length&&(i=r[r.length-1])instanceof si&&i.mark.eq(e.mark)?Qf(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function $f(n,e,t){let i=null,r=-1,s=null,o=-1;function l(f,O){for(let p=0,v=0;p<f.children.length&&v<=O;p++){let y=f.children[p],w=v+y.length;w>=O&&(y.children.length?l(y,O-v):(!s||s.isHidden&&t>0)&&(w>O||v==w&&y.getSide()>0)?(s=y,o=O-v):(v<O||v==w&&y.getSide()<0&&!y.isHidden)&&(i=y,r=O-v)),v=w}}l(n,e);let h=(t<0?i:s)||i||s;return h?h.coordsAt(Math.max(0,h==i?r:o),t):Cp(n)}function Cp(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Dn(e);return t[t.length-1]||null}function qo(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const ih=Object.create(null);function Pl(n,e,t){if(n==e)return!0;n||(n=ih),e||(e=ih);let i=Object.keys(n),r=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=r.length-(t&&r.indexOf(t)>-1?1:0))return!1;for(let s of i)if(s!=t&&(r.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function Lo(n,e,t){let i=!1;if(e)for(let r in e)t&&r in t||(i=!0,r=="style"?n.style.cssText="":n.removeAttribute(r));if(t)for(let r in t)e&&e[r]==t[r]||(i=!0,r=="style"?n.style.cssText=t[r]:n.setAttribute(r,t[r]));return i}function Tp(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class Ve extends Se{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,s,o){if(i){if(!(i instanceof Ve))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),xf(this,e,t,i?i.children:[],s,o),!0}split(e){let t=new Ve;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Pl(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Qf(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=qo(t,this.attrs||{})),i&&(this.attrs=qo({class:i},this.attrs||{}))}domAtPos(e){return wf(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(gf(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Lo(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&Se.get(r)instanceof si;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=Se.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!I.ios||!this.children.some(s=>s instanceof ri))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof ri)||/[^ -~]/.test(i.text))return null;let r=Dn(i.dom);if(r.length!=1)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=$f(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-r.lineHeight)<2&&r.textHeight<s){let o=(s-r.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return!1}covers(){return!0}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],o=r+s.length;if(o>=t){if(s instanceof Ve)return s;if(o>t)break}r=o+s.breakAfter}return null}}class Si extends Se{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,s,o){return i&&(!(i instanceof Si)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Je.before(this.dom):Je.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Si(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return Xl}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ce.empty}domBoundsAround(){return null}become(e){return e instanceof Si&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class Ui{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}destroy(e){}}var ot=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(ot||(ot={}));class H extends Li{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new er(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Xi(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:o}=kf(e,t);i=(s?t?-3e8:-1:5e8)-1,r=(o?t?2e8:1:-6e8)+1}return new Xi(e,i,r,t,e.widget||null,!0)}static line(e){return new tr(e)}static set(e,t=!1){return Oe.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}H.none=Oe.empty;class er extends H{constructor(e){let{start:t,end:i}=kf(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof er&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&Pl(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}er.prototype.point=!1;class tr extends H{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof tr&&this.spec.class==e.spec.class&&Pl(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}tr.prototype.mapMode=Ne.TrackBefore;tr.prototype.point=!0;class Xi extends H{constructor(e,t,i,r,s,o){super(t,i,s,e),this.block=r,this.isReplace=o,this.mapMode=r?t<=0?Ne.TrackBefore:Ne.TrackAfter:Ne.TrackDel}get type(){return this.startSide!=this.endSide?ot.WidgetRange:this.startSide<=0?ot.WidgetBefore:ot.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Xi&&Up(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Xi.prototype.point=!0;function kf(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function Up(n,e){return n==e||!!(n&&e&&n.compare(e))}function Eo(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}class zn{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Si&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ve),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(pr(new cn(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Si)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(pr(new ri(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof Xi){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(i instanceof Xi)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Si(i.widget||new nh("div"),l,i));else{let h=yi.create(i.widget||new nh("span"),l,l?0:i.startSide),f=this.atCursorPos&&!h.isEditable&&s<=r.length&&(e<t||i.startSide>0),O=!h.isEditable&&(e<t||s>r.length||i.startSide<=0),p=this.getLine();this.pendingBuffer==2&&!f&&!h.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),f&&(p.append(pr(new cn(1),r),s),s=r.length+Math.max(0,s-r.length)),p.append(pr(h,r),s),this.atCursorPos=O,this.pendingBuffer=O?e<t||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,r,s){let o=new zn(e,t,i,s);return o.openEnd=Oe.spans(r,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function pr(n,e){for(let t of e)n=new si(t,[n],n.length);return n}class nh extends Ui{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const Xf=B.define(),Pf=B.define(),Cf=B.define(),Tf=B.define(),jo=B.define(),Uf=B.define(),Rf=B.define(),Wf=B.define({combine:n=>n.some(e=>e)}),Yf=B.define({combine:n=>n.some(e=>e)});class on{constructor(e,t="nearest",i="nearest",r=5,s=5,o=!1){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new on(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new on(Y.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const gr=te.define({map:(n,e)=>n.map(e)});function $t(n,e,t){let i=n.facet(Tf);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const ws=B.define({combine:n=>n.length?n[0]:!0});let Rp=0;const Un=B.define();class Te{constructor(e,t,i,r,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=r,this.extension=s(this)}static define(e,t){const{eventHandlers:i,eventObservers:r,provide:s,decorations:o}=t||{};return new Te(Rp++,e,i,r,l=>{let h=[Un.of(l)];return o&&h.push(Bn.of(f=>{let O=f.plugin(l);return O?o(O):H.none})),s&&h.push(s(l)),h})}static fromClass(e,t){return Te.define(i=>new e(i),t)}}class Is{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if($t(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){$t(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){$t(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Af=B.define(),Cl=B.define(),Bn=B.define(),Tl=B.define(),Vf=B.define();function rh(n,e,t){let i=n.state.facet(Vf);if(!i.length)return i;let r=i.map(o=>o instanceof Function?o(n):o),s=[];return Oe.spans(r,e,t,{point(){},span(o,l,h,f){let O=s;for(let p=h.length-1;p>=0;p--,f--){let v=h[p].spec.bidiIsolate,y;if(v!=null)if(f>0&&O.length&&(y=O[O.length-1]).to==o&&y.direction==v)y.to=l,O=y.inner;else{let w={from:o,to:l,direction:v,inner:[]};O.push(w),O=w.inner}}}}),s}const Mf=B.define();function Zf(n){let e=0,t=0,i=0,r=0;for(let s of n.state.facet(Mf)){let o=s(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(r=Math.max(r,o.bottom)))}return{left:e,right:t,top:i,bottom:r}}const Rn=B.define();class kt{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new kt(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,s=0,o=0,l=0;;r++){let h=r==e.length?null:e[r],f=o-l,O=h?h.fromB:1e9;for(;s<t.length&&t[s]<O;){let p=t[s],v=t[s+1],y=Math.max(l,p),w=Math.min(O,v);if(y<=w&&new kt(y+f,w+f,y,w).addToSet(i),v>O)break;s+=2}if(!h)return i;new kt(h.fromA,h.toA,h.fromB,h.toB).addToSet(i),o=h.toA,l=h.toB}}}class Kr{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Me.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,o,l,h)=>r.push(new kt(s,o,l,h))),this.changedRanges=r}static create(e,t,i){return new Kr(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Qe=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Qe||(Qe={}));const In=Qe.LTR,zf=Qe.RTL;function qf(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const Wp=qf("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Yp=qf("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Do=Object.create(null),Zt=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);Do[e]=t,Do[t]=-e}function Ap(n){return n<=247?Wp[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?Yp[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203?256:64336<=n&&n<=65023?4:n==8204?256:1}const Vp=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class xi{get dir(){return this.level%2?zf:In}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let s=-1;for(let o=0;o<e.length;o++){let l=e[o];if(l.from<=t&&l.to>=t){if(l.level==i)return o;(s<0||(r!=0?r<0?l.from<t:l.to>t:e[s].level>l.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function Lf(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],r=e[t];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!Lf(i.inner,r.inner))return!1}return!0}const me=[];function Mp(n,e,t,i,r){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,l=s<i.length?i[s].from:t,h=s?256:r;for(let f=o,O=h,p=h;f<l;f++){let v=Ap(n.charCodeAt(f));v==512?v=O:v==8&&p==4&&(v=16),me[f]=v==4?2:v,v&7&&(p=v),O=v}for(let f=o,O=h,p=h;f<l;f++){let v=me[f];if(v==128)f<l-1&&O==me[f+1]&&O&24?v=me[f]=O:me[f]=256;else if(v==64){let y=f+1;for(;y<l&&me[y]==64;)y++;let w=f&&O==8||y<t&&me[y]==8?p==1?1:8:256;for(let X=f;X<y;X++)me[X]=w;f=y-1}else v==8&&p==1&&(me[f]=1);O=v,v&7&&(p=v)}}}function Zp(n,e,t,i,r){let s=r==1?2:1;for(let o=0,l=0,h=0;o<=i.length;o++){let f=o?i[o-1].to:e,O=o<i.length?i[o].from:t;for(let p=f,v,y,w;p<O;p++)if(y=Do[v=n.charCodeAt(p)])if(y<0){for(let X=l-3;X>=0;X-=3)if(Zt[X+1]==-y){let P=Zt[X+2],U=P&2?r:P&4?P&1?s:r:0;U&&(me[p]=me[Zt[X]]=U),l=X;break}}else{if(Zt.length==189)break;Zt[l++]=p,Zt[l++]=v,Zt[l++]=h}else if((w=me[p])==2||w==1){let X=w==r;h=X?0:1;for(let P=l-3;P>=0;P-=3){let U=Zt[P+2];if(U&2)break;if(X)Zt[P+2]|=2;else{if(U&4)break;Zt[P+2]|=4}}}}}function zp(n,e,t,i){for(let r=0,s=i;r<=t.length;r++){let o=r?t[r-1].to:n,l=r<t.length?t[r].from:e;for(let h=o;h<l;){let f=me[h];if(f==256){let O=h+1;for(;;)if(O==l){if(r==t.length)break;O=t[r++].to,l=r<t.length?t[r].from:e}else if(me[O]==256)O++;else break;let p=s==1,v=(O<e?me[O]:i)==1,y=p==v?p?1:2:i;for(let w=O,X=r,P=X?t[X-1].to:n;w>h;)w==P&&(w=t[--X].from,P=X?t[X-1].to:n),me[--w]=y;h=O}else s=f,h++}}}function _o(n,e,t,i,r,s,o){let l=i%2?2:1;if(i%2==r%2)for(let h=e,f=0;h<t;){let O=!0,p=!1;if(f==s.length||h<s[f].from){let X=me[h];X!=l&&(O=!1,p=X==16)}let v=!O&&l==1?[]:null,y=O?i:i+1,w=h;e:for(;;)if(f<s.length&&w==s[f].from){if(p)break e;let X=s[f];if(!O)for(let P=X.to,U=f+1;;){if(P==t)break e;if(U<s.length&&s[U].from==P)P=s[U++].to;else{if(me[P]==l)break e;break}}if(f++,v)v.push(X);else{X.from>h&&o.push(new xi(h,X.from,y));let P=X.direction==In!=!(y%2);Bo(n,P?i+1:i,r,X.inner,X.from,X.to,o),h=X.to}w=X.to}else{if(w==t||(O?me[w]!=l:me[w]==l))break;w++}v?_o(n,h,w,i+1,r,v,o):h<w&&o.push(new xi(h,w,y)),h=w}else for(let h=t,f=s.length;h>e;){let O=!0,p=!1;if(!f||h>s[f-1].to){let X=me[h-1];X!=l&&(O=!1,p=X==16)}let v=!O&&l==1?[]:null,y=O?i:i+1,w=h;e:for(;;)if(f&&w==s[f-1].to){if(p)break e;let X=s[--f];if(!O)for(let P=X.from,U=f;;){if(P==e)break e;if(U&&s[U-1].to==P)P=s[--U].from;else{if(me[P-1]==l)break e;break}}if(v)v.push(X);else{X.to<h&&o.push(new xi(X.to,h,y));let P=X.direction==In!=!(y%2);Bo(n,P?i+1:i,r,X.inner,X.from,X.to,o),h=X.from}w=X.from}else{if(w==e||(O?me[w-1]!=l:me[w-1]==l))break;w--}v?_o(n,w,h,i+1,r,v,o):w<h&&o.push(new xi(w,h,y)),h=w}}function Bo(n,e,t,i,r,s,o){let l=e%2?2:1;Mp(n,r,s,i,l),Zp(n,r,s,i,l),zp(r,s,i,l),_o(n,r,s,e,t,i,o)}function qp(n,e,t){if(!n)return[new xi(0,0,e==zf?1:0)];if(e==In&&!t.length&&!Vp.test(n))return Ef(n.length);if(t.length)for(;n.length>me.length;)me[me.length]=256;let i=[],r=e==In?0:1;return Bo(n,r,r,t,0,n.length,i),i}function Ef(n){return[new xi(0,n,0)]}let jf="";function Lp(n,e,t,i,r){var s;let o=i.head-n.from,l=-1;if(o==0){if(!r||!n.length)return null;e[0].level!=t&&(o=e[0].side(!1,t),l=0)}else if(o==n.length){if(r)return null;let v=e[e.length-1];v.level!=t&&(o=v.side(!0,t),l=e.length-1)}l<0&&(l=xi.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc));let h=e[l];o==h.side(r,t)&&(h=e[l+=r?1:-1],o=h.side(!r,t));let f=r==(h.dir==t),O=Ge(n.text,o,f);if(jf=n.text.slice(Math.min(o,O),Math.max(o,O)),O!=h.side(r,t))return Y.cursor(O+n.from,f?-1:1,h.level);let p=l==(r?e.length-1:0)?null:e[l+(r?1:-1)];return!p&&h.level!=t?Y.cursor(r?n.to:n.from,r?-1:1,t):p&&p.level<h.level?Y.cursor(p.side(!r,t)+n.from,r?1:-1,p.level):Y.cursor(O+n.from,r?-1:1,h.level)}class sh extends Se{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Ve],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new kt(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:f,toA:O})=>O<this.minWidthFrom||f>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=-1;this.view.inputState.composing>=0&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?r=this.domChanged.newSel.head:!Np(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let s=r>-1?jp(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:f,to:O}=this.hasComposition;i=new kt(f,O,e.changes.mapPos(f,-1),e.changes.mapPos(O,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(I.ie||I.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,l=this.updateDeco(),h=Bp(o,l,e.changes);return i=kt.extendWithRanges(i,h),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=I.chrome||I.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Si&&o.widget instanceof oh&&s.push(o.dom);r.updateGaps(s)}updateChildren(e,t,i){let r=i?i.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=r.length-1;;o--){let l=o>=0?r[o]:null;if(!l)break;let{fromA:h,toA:f,fromB:O,toB:p}=l,v,y,w,X;if(i&&i.range.fromB<p&&i.range.toB>O){let Z=zn.build(this.view.state.doc,O,i.range.fromB,this.decorations,this.dynamicDecorationMap),V=zn.build(this.view.state.doc,i.range.toB,p,this.decorations,this.dynamicDecorationMap);y=Z.breakAtStart,w=Z.openStart,X=V.openEnd;let L=this.compositionView(i);V.breakAtStart?L.breakAfter=1:V.content.length&&L.merge(L.length,L.length,V.content[0],!1,V.openStart,0)&&(L.breakAfter=V.content[0].breakAfter,V.content.shift()),Z.content.length&&L.merge(0,0,Z.content[Z.content.length-1],!0,0,Z.openEnd)&&Z.content.pop(),v=Z.content.concat(L).concat(V.content)}else({content:v,breakAtStart:y,openStart:w,openEnd:X}=zn.build(this.view.state.doc,O,p,this.decorations,this.dynamicDecorationMap));let{i:P,off:U}=s.findPos(f,1),{i:M,off:q}=s.findPos(h,-1);yf(this,M,q,P,U,v,y,w,X)}i&&this.fixCompositionDOM(i)}compositionView(e){let t=new ri(e.text.nodeValue);t.flags|=8;for(let{deco:r}of e.marks)t=new si(r,[t],t.length);let i=new Ve;return i.append(t,0),i}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(h=>h.flags&7)?1:0),this.markedForComposition.add(o);let l=Se.get(s);l&&l!=o&&(l.dom=null),o.setDOM(s)},i=this.childPos(e.range.fromB,1),r=this.children[i.i];t(e.line,r);for(let s=e.marks.length-1;s>=-1;s--)i=r.childPos(i.off,1),r=r.children[i.i],t(s>=0?e.marks[s].node:e.text,r)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,s=!r&&zr(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,h=this.moveToLine(this.domAtPos(l.anchor)),f=l.empty?h:this.moveToLine(this.domAtPos(l.head));if(I.gecko&&l.empty&&!this.hasComposition&&Ep(h)){let p=document.createTextNode("");this.view.observer.ignore(()=>h.node.insertBefore(p,h.node.childNodes[h.offset]||null)),h=f=new Je(p,0),o=!0}let O=this.view.observer.selectionRange;(o||!O.focusNode||!Hr(h.node,h.offset,O.anchorNode,O.anchorOffset)||!Hr(f.node,f.offset,O.focusNode,O.focusOffset))&&(this.view.observer.ignore(()=>{I.android&&I.chrome&&this.dom.contains(O.focusNode)&&Ip(O.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let p=Fr(this.view.root);if(p)if(l.empty){if(I.gecko){let v=Dp(h.node,h.offset);if(v&&v!=3){let y=_f(h.node,h.offset,v==1?1:-1);y&&(h=new Je(y.node,y.offset))}}p.collapse(h.node,h.offset),l.bidiLevel!=null&&p.caretBidiLevel!==void 0&&(p.caretBidiLevel=l.bidiLevel)}else if(p.extend){p.collapse(h.node,h.offset);try{p.extend(f.node,f.offset)}catch{}}else{let v=document.createRange();l.anchor>l.head&&([h,f]=[f,h]),v.setEnd(f.node,f.offset),v.setStart(h.node,h.offset),p.removeAllRanges(),p.addRange(v)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(h,f)),this.impreciseAnchor=h.precise?null:new Je(O.anchorNode,O.anchorOffset),this.impreciseHead=f.precise?null:new Je(O.focusNode,O.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=Fr(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=Ve.find(this,t.head);if(!o)return;let l=o.posAtStart;if(t.head==l||t.head==l+o.length)return;let h=this.coordsAt(t.head,-1),f=this.coordsAt(t.head,1);if(!h||!f||h.bottom>f.top)return;let O=this.domAtPos(t.head+t.assoc);i.collapse(O.node,O.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let p=e.observer.selectionRange;e.docView.posFromDOM(p.anchorNode,p.anchorOffset)!=t.from&&i.collapse(r,s)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let r=e.offset;!i&&r<t.childNodes.length;r++){let s=Se.get(t.childNodes[r]);s instanceof Ve&&(i=s.domAtPos(0))}for(let r=e.offset-1;!i&&r>=0;r--){let s=Se.get(t.childNodes[r]);s instanceof Ve&&(i=s.domAtPos(s.length))}return i?new Je(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=Se.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof Ve)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,r=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let l=this.children[o],h=s-l.breakAfter,f=h-l.length;if(h<e)break;f<=e&&(f<e||l.covers(-1))&&(h>e||l.covers(1))&&(!i||l instanceof Ve&&!(i instanceof Ve&&t>=0))&&(i=l,r=f),s=f}return i?i.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),r=this.children[t];if(!(r instanceof Ve))return null;for(;r.children.length;){let{i:l,off:h}=r.childPos(i,1);for(;;l++){if(l==r.children.length)return null;if((r=r.children[l]).length)break}i=h}if(!(r instanceof ri))return null;let s=Ge(r.text,i);if(s==i)return null;let o=Ei(r.dom,i,s).getClientRects();for(let l=0;l<o.length;l++){let h=o[l];if(l==o.length-1||h.top<h.bottom&&h.left<h.right)return h}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,h=this.view.textDirection==Qe.LTR;for(let f=0,O=0;O<this.children.length;O++){let p=this.children[O],v=f+p.length;if(v>r)break;if(f>=i){let y=p.dom.getBoundingClientRect();if(t.push(y.height),o){let w=p.dom.lastChild,X=w?Dn(w):[];if(X.length){let P=X[X.length-1],U=h?P.right-y.left:y.right-P.left;U>l&&(l=U,this.minWidth=s,this.minWidthFrom=f,this.minWidthTo=v)}}}f=v+p.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Qe.RTL:Qe.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Ve){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Dn(e.firstChild)[0];t=e.getBoundingClientRect().height,i=s?s.width/27:7,r=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:r}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new vf(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let s=r==t.viewports.length?null:t.viewports[r],o=s?s.from-1:this.length;if(o>i){let l=(t.lineBlockAt(o).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(H.replace({widget:new oh(l),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return H.set(e)}updateDeco(){let e=this.view.state.facet(Bn).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=Zf(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:l,offsetHeight:h}=this.view.scrollDOM;Sp(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,h),-h),this.view.textDirection==Qe.LTR)}}function Ep(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}class oh extends Ui{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Df(n,e){let t=n.observer.selectionRange,i=t.focusNode&&_f(t.focusNode,t.focusOffset,0);if(!i)return null;let r=e-i.offset;return{from:r,to:r+i.node.nodeValue.length,node:i.node}}function jp(n,e,t){let i=Df(n,t);if(!i)return null;let{node:r,from:s,to:o}=i,l=r.nodeValue;if(/[\n\r]/.test(l)||n.state.doc.sliceString(i.from,i.to)!=l)return null;let h=e.invertedDesc,f=new kt(h.mapPos(s),h.mapPos(o),s,o),O=[];for(let p=r.parentNode;;p=p.parentNode){let v=Se.get(p);if(v instanceof si)O.push({node:p,deco:v.mark});else{if(v instanceof Ve||p.nodeName=="DIV"&&p.parentNode==n.contentDOM)return{range:f,text:r,marks:O,line:p};if(p!=n.contentDOM)O.push({node:p,deco:new er({inclusive:!0,attributes:Tp(p),tagName:p.tagName.toLowerCase()})});else return null}}}function _f(n,e,t){if(t<=0)for(let i=n,r=e;;){if(i.nodeType==3)return{node:i,offset:r};if(i.nodeType==1&&r>0)i=i.childNodes[r-1],r=ni(i);else break}if(t>=0)for(let i=n,r=e;;){if(i.nodeType==3)return{node:i,offset:r};if(i.nodeType==1&&r<i.childNodes.length&&t>=0)i=i.childNodes[r],r=0;else break}return null}function Dp(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let _p=class{constructor(){this.changes=[]}compareRange(e,t){Eo(e,t,this.changes)}comparePoint(e,t){Eo(e,t,this.changes)}};function Bp(n,e,t){let i=new _p;return Oe.compare(n,e,t,i),i.changes}function Ip(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function Np(n,e){let t=!1;return e&&n.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(t=!0)}),t}function Gp(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),s=e-r.from;if(r.length==0)return Y.cursor(e);s==0?t=1:s==r.length&&(t=-1);let o=s,l=s;t<0?o=Ge(r.text,s,!1):l=Ge(r.text,s);let h=i(r.text.slice(o,l));for(;o>0;){let f=Ge(r.text,o,!1);if(i(r.text.slice(f,o))!=h)break;o=f}for(;l<r.length;){let f=Ge(r.text,l);if(i(r.text.slice(l,f))!=h)break;l=f}return Y.range(o+r.from,l+r.from)}function Fp(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function Hp(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function Ns(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function lh(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function ah(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function Io(n,e,t){let i,r,s,o,l=!1,h,f,O,p;for(let w=n.firstChild;w;w=w.nextSibling){let X=Dn(w);for(let P=0;P<X.length;P++){let U=X[P];r&&Ns(r,U)&&(U=lh(ah(U,r.bottom),r.top));let M=Fp(e,U),q=Hp(t,U);if(M==0&&q==0)return w.nodeType==3?hh(w,e,t):Io(w,e,t);if(!i||o>q||o==q&&s>M){i=w,r=U,s=M,o=q;let Z=q?t<U.top?-1:1:M?e<U.left?-1:1:0;l=!Z||(Z>0?P<X.length-1:P>0)}M==0?t>U.bottom&&(!O||O.bottom<U.bottom)?(h=w,O=U):t<U.top&&(!p||p.top>U.top)&&(f=w,p=U):O&&Ns(O,U)?O=ah(O,U.bottom):p&&Ns(p,U)&&(p=lh(p,U.top))}}if(O&&O.bottom>=t?(i=h,r=O):p&&p.top<=t&&(i=f,r=p),!i)return{node:n,offset:0};let v=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return hh(i,v,t);if(l&&i.contentEditable!="false")return Io(i,v,t);let y=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:y}}function hh(n,e,t){let i=n.nodeValue.length,r=-1,s=1e9,o=0;for(let l=0;l<i;l++){let h=Ei(n,l,l+1).getClientRects();for(let f=0;f<h.length;f++){let O=h[f];if(O.top==O.bottom)continue;o||(o=e-O.left);let p=(O.top>t?O.top-t:t-O.bottom)-1;if(O.left-1<=e&&O.right+1>=e&&p<s){let v=e>=(O.left+O.right)/2,y=v;if((I.chrome||I.gecko)&&Ei(n,l).getBoundingClientRect().left==O.right&&(y=!v),p<=0)return{node:n,offset:l+(y?1:0)};r=l+(y?1:0),s=p}}}return{node:n,offset:r>-1?r:o>0?n.nodeValue.length:0}}function Bf(n,e,t,i=-1){var r,s;let o=n.contentDOM.getBoundingClientRect(),l=o.top+n.viewState.paddingTop,h,{docHeight:f}=n.viewState,{x:O,y:p}=e,v=p-l;if(v<0)return 0;if(v>f)return n.state.doc.length;for(let Z=n.viewState.heightOracle.textHeight/2,V=!1;h=n.elementAtHeight(v),h.type!=ot.Text;)for(;v=i>0?h.bottom+Z:h.top-Z,!(v>=0&&v<=f);){if(V)return t?null:0;V=!0,i=-i}p=l+v;let y=h.from;if(y<n.viewport.from)return n.viewport.from==0?0:t?null:ch(n,o,h,O,p);if(y>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:ch(n,o,h,O,p);let w=n.dom.ownerDocument,X=n.root.elementFromPoint?n.root:w,P=X.elementFromPoint(O,p);P&&!n.contentDOM.contains(P)&&(P=null),P||(O=Math.max(o.left+1,Math.min(o.right-1,O)),P=X.elementFromPoint(O,p),P&&!n.contentDOM.contains(P)&&(P=null));let U,M=-1;if(P&&((r=n.docView.nearest(P))===null||r===void 0?void 0:r.isEditable)!=!1){if(w.caretPositionFromPoint){let Z=w.caretPositionFromPoint(O,p);Z&&({offsetNode:U,offset:M}=Z)}else if(w.caretRangeFromPoint){let Z=w.caretRangeFromPoint(O,p);Z&&({startContainer:U,startOffset:M}=Z,(!n.contentDOM.contains(U)||I.safari&&Kp(U,M,O)||I.chrome&&Jp(U,M,O))&&(U=void 0))}}if(!U||!n.docView.dom.contains(U)){let Z=Ve.find(n.docView,y);if(!Z)return v>h.top+h.height/2?h.to:h.from;({node:U,offset:M}=Io(Z.dom,O,p))}let q=n.docView.nearest(U);if(!q)return null;if(q.isWidget&&((s=q.dom)===null||s===void 0?void 0:s.nodeType)==1){let Z=q.dom.getBoundingClientRect();return e.y<Z.top||e.y<=Z.bottom&&e.x<=(Z.left+Z.right)/2?q.posAtStart:q.posAtEnd}else return q.localPosFromDOM(U,M)+q.posAtStart}function ch(n,e,t,i,r){let s=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let l=n.viewState.heightOracle.textHeight,h=Math.floor((r-t.top-(n.defaultLineHeight-l)*.5)/l);s+=h*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+Wo(o,s,n.state.tabSize)}function Kp(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return Ei(n,i-1,i).getBoundingClientRect().left>t}function Jp(n,e,t){if(e!=0)return!1;for(let r=n;;){let s=r.parentNode;if(!s||s.nodeType!=1||s.firstChild!=r)return!1;if(s.classList.contains("cm-line"))break;r=s}let i=n.nodeType==1?n.getBoundingClientRect():Ei(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function No(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==ot.Text))return i}return t}function eg(n,e,t,i){let r=No(n,e.head),s=!i||r.type!=ot.Text||!(n.lineWrapping||r.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let o=n.dom.getBoundingClientRect(),l=n.textDirectionAt(r.from),h=n.posAtCoords({x:t==(l==Qe.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(h!=null)return Y.cursor(h,t?-1:1)}return Y.cursor(t?r.to:r.from,t?-1:1)}function fh(n,e,t,i){let r=n.state.doc.lineAt(e.head),s=n.bidiSpans(r),o=n.textDirectionAt(r.from);for(let l=e,h=null;;){let f=Lp(r,s,o,l,t),O=jf;if(!f){if(r.number==(t?n.state.doc.lines:1))return l;O=`
`,r=n.state.doc.line(r.number+(t?1:-1)),s=n.bidiSpans(r),f=Y.cursor(t?r.from:r.to)}if(h){if(!h(O))return l}else{if(!i)return f;h=i(O)}l=f}}function tg(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return s=>{let o=i(s);return r==we.Space&&(r=o),r==o}}function ig(n,e,t,i){let r=e.head,s=t?1:-1;if(r==(t?n.state.doc.length:0))return Y.cursor(r,e.assoc);let o=e.goalColumn,l,h=n.contentDOM.getBoundingClientRect(),f=n.coordsAtPos(r,e.assoc||-1),O=n.documentTop;if(f)o==null&&(o=f.left-h.left),l=s<0?f.top:f.bottom;else{let y=n.viewState.lineBlockAt(r);o==null&&(o=Math.min(h.right-h.left,n.defaultCharacterWidth*(r-y.from))),l=(s<0?y.top:y.bottom)+O}let p=h.left+o,v=i??n.viewState.heightOracle.textHeight>>1;for(let y=0;;y+=10){let w=l+(v+y)*s,X=Bf(n,{x:p,y:w},!1,s);if(w<h.top||w>h.bottom||(s<0?X<r:X>r)){let P=n.docView.coordsForChar(X),U=!P||w<P.top?-1:1;return Y.cursor(X,U,void 0,o)}}}function qr(n,e,t){for(;;){let i=0;for(let r of n)r.between(e-1,e+1,(s,o,l)=>{if(e>s&&e<o){let h=i||t||(e-s<o-e?-1:1);e=h<0?s:o,i=h}});if(!i)return e}}function Gs(n,e,t){let i=qr(n.state.facet(Tl).map(r=>r(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:Y.cursor(i,i<t.from?1:-1)}class ng{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,I.safari&&e.contentDOM.addEventListener("input",()=>null),I.gecko&&yg(e.contentDOM.ownerDocument)}handleEvent(e){!fg(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let i=this.handlers[e];if(i){for(let r of i.observers)r(this.view,t);for(let r of i.handlers){if(t.defaultPrevented)break;if(r(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=rg(e),i=this.handlers,r=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,l=i[s];l&&o!=!l.handlers.length&&(r.removeEventListener(s,this.handleEvent),l=null),l||r.addEventListener(s,this.handleEvent,{passive:o})}for(let s in i)s!="scroll"&&!t[s]&&r.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&Nf.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),I.android&&I.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return I.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=If.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||sg.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,sn(this.view.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:I.safari&&!I.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function uh(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(r){$t(t.state,r)}}}function rg(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let r=i.spec;if(r&&r.domEventHandlers)for(let s in r.domEventHandlers){let o=r.domEventHandlers[s];o&&t(s).handlers.push(uh(i.value,o))}if(r&&r.domEventObservers)for(let s in r.domEventObservers){let o=r.domEventObservers[s];o&&t(s).observers.push(uh(i.value,o))}}for(let i in Rt)t(i).handlers.push(Rt[i]);for(let i in Wt)t(i).observers.push(Wt[i]);return e}const If=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],sg="dthko",Nf=[16,17,18,20,91,92,224,225],mr=6;function vr(n){return Math.max(0,n)*.7+8}function og(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class lg{constructor(e,t,i,r){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=wp(e.contentDOM),this.atoms=e.state.facet(Tl).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(he.allowMultipleSelections)&&ag(e,t),this.dragging=cg(e,t)&&Kf(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&og(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let i=0,r=0,s=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=Zf(this.view);e.clientX-o.left<=s.left+mr?i=-vr(s.left-e.clientX):e.clientX+o.right>=s.right-mr&&(i=vr(e.clientX-s.right)),e.clientY-o.top<=s.top+mr?r=-vr(s.top-e.clientY):e.clientY+o.bottom>=s.bottom-mr&&(r=vr(e.clientY-s.bottom)),this.setScrollSpeed(i,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],s=null;if(r.empty){let o=qr(this.atoms,r.from,0);o!=r.from&&(s=Y.cursor(o,-1))}else{let o=qr(this.atoms,r.from,-1),l=qr(this.atoms,r.to,1);(o!=r.from||l!=r.to)&&(s=Y.range(r.from==r.anchor?o:l,r.from==r.head?o:l))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?Y.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection)||i.main.assoc!=t.state.selection.main.assoc&&this.dragging===!1)&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function ag(n,e){let t=n.state.facet(Xf);return t.length?t[0](e):I.mac?e.metaKey:e.ctrlKey}function hg(n,e){let t=n.state.facet(Pf);return t.length?t[0](e):I.mac?!e.altKey:!e.ctrlKey}function cg(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=Fr(n.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function fg(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=Se.get(t))&&i.ignoreEvent(e))return!1;return!0}const Rt=Object.create(null),Wt=Object.create(null),Gf=I.ie&&I.ie_version<15||I.ios&&I.webkit_version<604;function ug(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),Ff(n,t.value)},50)}function Ff(n,e){let{state:t}=n,i,r=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(Go!=null&&t.selection.ranges.every(h=>h.empty)&&Go==s.toString()){let h=-1;i=t.changeByRange(f=>{let O=t.doc.lineAt(f.from);if(O.from==h)return{range:f};h=O.from;let p=t.toText((o?s.line(r++).text:e)+t.lineBreak);return{changes:{from:O.from,insert:p},range:Y.cursor(f.from+p.length)}})}else o?i=t.changeByRange(h=>{let f=s.line(r++);return{changes:{from:h.from,to:h.to,insert:f.text},range:Y.cursor(h.from+f.length)}}):i=t.replaceSelection(s);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Wt.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Rt.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&(n.inputState.lastEscPress=Date.now()),!1);Wt.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Wt.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Rt.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(Cf))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=pg(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new lg(n,e,t,i)),i&&n.observer.ignore(()=>pf(n.contentDOM));let r=n.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}return!1};function Oh(n,e,t,i){if(i==1)return Y.cursor(e,t);if(i==2)return Gp(n.state,e,t);{let r=Ve.find(n.docView,e),s=n.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,l=r?r.posAtEnd:s.to;return l<n.state.doc.length&&l==s.to&&l++,Y.range(o,l)}}let Hf=(n,e)=>n>=e.top&&n<=e.bottom,dh=(n,e,t)=>Hf(e,t)&&n>=t.left&&n<=t.right;function Og(n,e,t,i){let r=Ve.find(n.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&dh(t,i,o))return-1;let l=r.coordsAt(s,1);return l&&dh(t,i,l)?1:o&&Hf(i,o)?-1:1}function ph(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:Og(n,t,e.clientX,e.clientY)}}const dg=I.ie&&I.ie_version<=11;let gh=null,mh=0,vh=0;function Kf(n){if(!dg)return n.detail;let e=gh,t=vh;return gh=n,vh=Date.now(),mh=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(mh+1)%3:1}function pg(n,e){let t=ph(n,e),i=Kf(e),r=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),r=r.map(s.changes))},get(s,o,l){let h=ph(n,s),f,O=Oh(n,h.pos,h.bias,i);if(t.pos!=h.pos&&!o){let p=Oh(n,t.pos,t.bias,i),v=Math.min(p.from,O.from),y=Math.max(p.to,O.to);O=v<O.from?Y.range(v,y):Y.range(y,v)}return o?r.replaceRange(r.main.extend(O.from,O.to)):l&&i==1&&r.ranges.length>1&&(f=gg(r,h.pos))?f:l?r.addRange(O):Y.create([O])}}}function gg(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:r}=n.ranges[t];if(i<=e&&r>=e)return Y.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Rt.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let r=n.docView.nearest(e.target);if(r&&r.isWidget){let s=r.posAtStart,o=s+r.length;(s>=t.to||o<=t.from)&&(t=Y.range(s,o))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove"),!1};Rt.dragend=n=>(n.inputState.draggedContent=null,!1);function yh(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,o=i&&s&&hg(n,e)?{from:s.from,to:s.to}:null,l={from:r,insert:t},h=n.state.changes(o?[o,l]:l);n.focus(),n.dispatch({changes:h,selection:{anchor:h.mapPos(r,-1),head:h.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Rt.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),r=0,s=()=>{++r==t.length&&yh(n,e,i.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let l=new FileReader;l.onerror=s,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(i[o]=l.result),s()},l.readAsText(t[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return yh(n,e,i,!0),!0}return!1};Rt.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=Gf?null:e.clipboardData;return t?(Ff(n,t.getData("text/plain")||t.getData("text/uri-text")),!0):(ug(n),!1)};function mg(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function vg(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>r&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),r=o.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let Go=null;Rt.copy=Rt.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=vg(n.state);if(!t&&!r)return!1;Go=r?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=Gf?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(mg(n,t),!1)};const Jf=li.define();function eu(n,e){let t=[];for(let i of n.facet(Rf)){let r=i(n,e);r&&t.push(r)}return t?n.update({effects:t,annotations:Jf.of(!0)}):null}function tu(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=eu(n.state,e);t?n.dispatch(t):n.update([])}},10)}Wt.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),tu(n)};Wt.blur=n=>{n.observer.clearSelectionRange(),tu(n)};Wt.compositionstart=Wt.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)};Wt.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,I.chrome&&I.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50)};Wt.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Rt.beforeinput=(n,e)=>{var t;let i;if(I.chrome&&I.android&&(i=If.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return!1};const xh=new Set;function yg(n){xh.has(n)||(xh.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const bh=["pre-wrap","normal","pre-line","break-spaces"];class xg{constructor(e){this.lineWrapping=e,this.doc=ce.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return bh.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,s,o){let l=bh.indexOf(e)>-1,h=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=t,this.charWidth=i,this.textHeight=r,this.lineLength=s,h){this.heightSamples={};for(let f=0;f<o.length;f++){let O=o[f];O<0?f++:this.heightSamples[Math.floor(O*10)]=!0}}return h}}class bg{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class _t{constructor(e,t,i,r,s){this.from=e,this.length=t,this.top=i,this.height=r,this._content=s}get type(){return typeof this._content=="number"?ot.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Xi?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new _t(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var be=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(be||(be={}));const Lr=.001;class lt{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Lr&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return lt.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let s=this,o=i.doc;for(let l=r.length-1;l>=0;l--){let{fromA:h,toA:f,fromB:O,toB:p}=r[l],v=s.lineAt(h,be.ByPosNoHeight,i.setDoc(t),0,0),y=v.to>=f?v:s.lineAt(f,be.ByPosNoHeight,i,0,0);for(p+=y.to-f,f=y.to;l>0&&v.from<=r[l-1].toA;)h=r[l-1].fromA,O=r[l-1].fromB,l--,h<v.from&&(v=s.lineAt(h,be.ByPosNoHeight,i,0,0));O+=v.from-h,h=v.from;let w=Ul.build(i.setDoc(o),e,O,p);s=s.replace(h,f,w)}return s.updateHeight(i,0)}static empty(){return new pt(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,s=0;for(;;)if(t==i)if(r>s*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),i+=1+l.break,r-=l.size}else if(s>r*2){let l=e[i];l.break?e.splice(i,1,l.left,null,l.right):e.splice(i,1,l.left,l.right),i+=2+l.break,s-=l.size}else break;else if(r<s){let l=e[t++];l&&(r+=l.size)}else{let l=e[--i];l&&(s+=l.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new Sg(lt.of(e.slice(0,t)),o,lt.of(e.slice(i)))}}lt.prototype.size=1;class iu extends lt{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,r){return new _t(r,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,r,s){return this.blockAt(0,i,r,s)}forEachLine(e,t,i,r,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,i,r,s))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class pt extends iu{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,r){return new _t(r,this.length,i,this.height,this.breaks)}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof pt||r instanceof _e&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof _e?r=new pt(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):lt.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class _e extends lt{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,r=e.doc.lineAt(t+this.length).number,s=r-i+1,o,l=0;if(e.lineWrapping){let h=Math.min(this.height,e.lineHeight*s);o=h/s,this.length>s+1&&(l=(this.height-h)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:r,perLine:o,perChar:l}}blockAt(e,t,i,r){let{firstLine:s,lastLine:o,perLine:l,perChar:h}=this.heightMetrics(t,r);if(t.lineWrapping){let f=r+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),O=t.doc.lineAt(f),p=l+O.length*h,v=Math.max(i,e-p/2);return new _t(O.from,O.length,v,p,0)}else{let f=Math.max(0,Math.min(o-s,Math.floor((e-i)/l))),{from:O,length:p}=t.doc.line(s+f);return new _t(O,p,i+l*f,l,0)}}lineAt(e,t,i,r,s){if(t==be.ByHeight)return this.blockAt(e,i,r,s);if(t==be.ByPosNoHeight){let{from:y,to:w}=i.doc.lineAt(e);return new _t(y,w-y,0,0,0)}let{firstLine:o,perLine:l,perChar:h}=this.heightMetrics(i,s),f=i.doc.lineAt(e),O=l+f.length*h,p=f.number-o,v=r+l*p+h*(f.from-s-p);return new _t(f.from,f.length,Math.max(r,Math.min(v,r+this.height-O)),O,0)}forEachLine(e,t,i,r,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:l,perLine:h,perChar:f}=this.heightMetrics(i,s);for(let O=e,p=r;O<=t;){let v=i.doc.lineAt(O);if(O==e){let w=v.number-l;p+=h*w+f*(e-s-w)}let y=h+f*v.length;o(new _t(v.from,v.length,p,y,0)),p+=y,O=v.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let s=i[i.length-1];s instanceof _e?i[i.length-1]=new _e(s.length+r):i.push(null,new _e(r-1))}if(e>0){let s=i[0];s instanceof _e?i[0]=new _e(e+s.length):i.unshift(new _e(e-1),null)}return lt.of(i)}decomposeLeft(e,t){t.push(new _e(e-1),null)}decomposeRight(e,t){t.push(null,new _e(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let s=t+this.length;if(r&&r.from<=t+this.length&&r.more){let o=[],l=Math.max(t,r.from),h=-1;for(r.from>t&&o.push(new _e(r.from-t-1).updateHeight(e,t));l<=s&&r.more;){let O=e.doc.lineAt(l).length;o.length&&o.push(null);let p=r.heights[r.index++];h==-1?h=p:Math.abs(p-h)>=Lr&&(h=-2);let v=new pt(O,p);v.outdated=!1,o.push(v),l+=O+1}l<=s&&o.push(null,new _e(s-l).updateHeight(e,l));let f=lt.of(o);return(h<0||Math.abs(f.height-this.height)>=Lr||Math.abs(h-this.heightMetrics(e,t).perLine)>=Lr)&&(e.heightChanged=!0),f}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Sg extends lt{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,s,r+this.left.length+this.break)}lineAt(e,t,i,r,s){let o=r+this.left.height,l=s+this.left.length+this.break,h=t==be.ByHeight?e<o:e<l,f=h?this.left.lineAt(e,t,i,r,s):this.right.lineAt(e,t,i,o,l);if(this.break||(h?f.to<l:f.from>l))return f;let O=t==be.ByPosNoHeight?be.ByPosNoHeight:be.ByPos;return h?f.join(this.right.lineAt(l,O,i,o,l)):this.left.lineAt(l,O,i,r,s).join(f)}forEachLine(e,t,i,r,s,o){let l=r+this.left.height,h=s+this.left.length+this.break;if(this.break)e<h&&this.left.forEachLine(e,t,i,r,s,o),t>=h&&this.right.forEachLine(e,t,i,l,h,o);else{let f=this.lineAt(h,be.ByPos,i,r,s);e<f.from&&this.left.forEachLine(e,f.from-1,i,r,s,o),f.to>=e&&f.from<=t&&o(f),t>f.to&&this.right.forEachLine(f.to+1,t,i,l,h,o)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let l of i)s.push(l);if(e>0&&Sh(s,o-1),t<this.length){let l=s.length;this.decomposeRight(t,s),Sh(s,l)}return lt.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?lt.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:s,right:o}=this,l=t+s.length+this.break,h=null;return r&&r.from<=t+s.length&&r.more?h=s=s.updateHeight(e,t,i,r):s.updateHeight(e,t,i),r&&r.from<=l+o.length&&r.more?h=o=o.updateHeight(e,l,i,r):o.updateHeight(e,l,i),h?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Sh(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof _e&&(i=n[e+1])instanceof _e&&n.splice(e-1,3,new _e(t.length+1+i.length))}const wg=5;class Ul{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof pt?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new pt(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new iu(o,r,i)):(o||s||r>=wg)&&this.addLineDeco(r,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new pt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new _e(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof pt)return e;let t=new pt(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof pt)&&!this.isCovered?this.nodes.push(new pt(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof pt&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let s=new Ul(i,e);return Oe.spans(t,i,r,s,0),s.finish(i)}}function Qg(n,e,t){let i=new $g;return Oe.compare(n,e,t,i,0),i.changes}class $g{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&Eo(e,t,this.changes,5)}}function kg(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,r=i.defaultView||window,s=Math.max(0,t.left),o=Math.min(r.innerWidth,t.right),l=Math.max(0,t.top),h=Math.min(r.innerHeight,t.bottom);for(let f=n.parentNode;f&&f!=i.body;)if(f.nodeType==1){let O=f,p=window.getComputedStyle(O);if((O.scrollHeight>O.clientHeight||O.scrollWidth>O.clientWidth)&&p.overflow!="visible"){let v=O.getBoundingClientRect();s=Math.max(s,v.left),o=Math.min(o,v.right),l=Math.max(l,v.top),h=f==n.parentNode?v.bottom:Math.min(h,v.bottom)}f=p.position=="absolute"||p.position=="fixed"?O.offsetParent:O.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:l-(t.top+e),bottom:Math.max(l,h)-(t.top+e)}}function Xg(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Fs{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,t){return H.replace({widget:new Pg(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class Pg extends Ui{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class wh{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Qh,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Qe.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Cl).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new xg(t),this.stateDeco=e.facet(Bn).filter(i=>typeof i!="function"),this.heightMap=lt.empty().applyChanges(this.stateDeco,ce.empty,this.heightOracle.setDoc(e.doc),[new kt(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=H.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new yr(s,o))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?Qh:new Ug(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Wn(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Bn).filter(O=>typeof O!="function");let r=e.changedRanges,s=kt.extendWithRanges(r,Qg(i,this.stateDeco,e?e.changes:Me.empty(this.state.doc.length))),o=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let h=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<h.from||t.range.head>h.to)||!this.viewportIsAppropriate(h))&&(h=this.getViewport(0,t));let f=!e.changes.empty||e.flags&2||h.from!=this.viewport.from||h.to!=this.viewport.to;this.viewport=h,this.updateForViewport(),f&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Yf)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Qe.RTL:Qe.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),l=t.getBoundingClientRect(),h=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let f=0,O=0;if(l.width&&l.height){let Z=l.width/t.offsetWidth,V=l.height/t.offsetHeight;(Z>.995&&Z<1.005||!isFinite(Z)||Math.abs(l.width-t.offsetWidth)<1)&&(Z=1),(V>.995&&V<1.005||!isFinite(V)||Math.abs(l.height-t.offsetHeight)<1)&&(V=1),(this.scaleX!=Z||this.scaleY!=V)&&(this.scaleX=Z,this.scaleY=V,f|=8,o=h=!0)}let p=(parseInt(i.paddingTop)||0)*this.scaleY,v=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=p||this.paddingBottom!=v)&&(this.paddingTop=p,this.paddingBottom=v,f|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(h=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=8);let y=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=y&&(this.scrollAnchorHeight=-1,this.scrollTop=y),this.scrolledToBottom=mf(e.scrollDOM);let w=(this.printing?Xg:kg)(t,this.paddingTop),X=w.top-this.pixelViewport.top,P=w.bottom-this.pixelViewport.bottom;this.pixelViewport=w;let U=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(U!=this.inView&&(this.inView=U,U&&(h=!0)),!this.inView&&!this.scrollTarget)return 0;let M=l.width;if((this.contentDOMWidth!=M||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,f|=8),h){let Z=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(Z)&&(o=!0),o||r.lineWrapping&&Math.abs(M-this.contentDOMWidth)>r.charWidth){let{lineHeight:V,charWidth:L,textHeight:j}=e.docView.measureTextSize();o=V>0&&r.refresh(s,V,L,j,M/L,Z),o&&(e.docView.minWidth=0,f|=8)}X>0&&P>0?O=Math.max(X,P):X<0&&P<0&&(O=Math.min(X,P)),r.heightChanged=!1;for(let V of this.viewports){let L=V.from==this.viewport.from?Z:e.docView.measureVisibleLineHeights(V);this.heightMap=(o?lt.empty().applyChanges(this.stateDeco,ce.empty,this.heightOracle,[new kt(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new bg(V.from,L))}r.heightChanged&&(f|=2)}let q=!this.viewportIsAppropriate(this.viewport,O)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return q&&(this.viewport=this.getViewport(O,this.scrollTarget)),this.updateForViewport(),(f&2||q)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:l}=this,h=new yr(r.lineAt(o-i*1e3,be.ByHeight,s,0,0).from,r.lineAt(l+(1-i)*1e3,be.ByHeight,s,0,0).to);if(t){let{head:f}=t.range;if(f<h.from||f>h.to){let O=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=r.lineAt(f,be.ByPos,s,0,0),v;t.y=="center"?v=(p.top+p.bottom)/2-O/2:t.y=="start"||t.y=="nearest"&&f<h.from?v=p.top:v=p.bottom-O,h=new yr(r.lineAt(v-1e3/2,be.ByHeight,s,0,0).from,r.lineAt(v+O+1e3/2,be.ByHeight,s,0,0).to)}}return h}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new yr(this.heightMap.lineAt(i,be.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,be.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,be.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,be.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:l}=this;return(e==0||r<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=l+Math.max(10,Math.min(i,250)))&&r>o-2*1e3&&s<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new Fs(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=Qe.LTR&&!i)return[];let l=[],h=(f,O,p,v)=>{if(O-f<s)return;let y=this.state.selection.main,w=[y.from];y.empty||w.push(y.to);for(let P of w)if(P>f&&P<O){h(f,P-10,p,v),h(P+10,O,p,v);return}let X=Tg(e,P=>P.from>=p.from&&P.to<=p.to&&Math.abs(P.from-f)<s&&Math.abs(P.to-O)<s&&!w.some(U=>P.from<U&&P.to>U));if(!X){if(O<p.to&&t&&i&&t.visibleRanges.some(P=>P.from<=O&&P.to>=O)){let P=t.moveToLineBoundary(Y.cursor(O),!1,!0).head;P>f&&(O=P)}X=new Fs(f,O,this.gapSize(p,f,O,v))}l.push(X)};for(let f of this.viewportLines){if(f.length<o)continue;let O=Cg(f.from,f.to,this.stateDeco);if(O.total<o)continue;let p=this.scrollTarget?this.scrollTarget.range.head:null,v,y;if(i){let w=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,X,P;if(p!=null){let U=br(O,p),M=((this.visibleBottom-this.visibleTop)/2+w)/f.height;X=U-M,P=U+M}else X=(this.visibleTop-f.top-w)/f.height,P=(this.visibleBottom-f.top+w)/f.height;v=xr(O,X),y=xr(O,P)}else{let w=O.total*this.heightOracle.charWidth,X=r*this.heightOracle.charWidth,P,U;if(p!=null){let M=br(O,p),q=((this.pixelViewport.right-this.pixelViewport.left)/2+X)/w;P=M-q,U=M+q}else P=(this.pixelViewport.left-X)/w,U=(this.pixelViewport.right+X)/w;v=xr(O,P),y=xr(O,U)}v>f.from&&h(f.from,v,f,O),y<f.to&&h(y,f.to,f,O)}return l}gapSize(e,t,i,r){let s=br(r,i)-br(r,t);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){Fs.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=H.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Oe.spans(e,this.viewport.from,this.viewport.to,{span(r,s){t.push({from:r,to:s})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,s)=>r.from!=t[s].from||r.to!=t[s].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Wn(this.heightMap.lineAt(e,be.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Wn(this.heightMap.lineAt(this.scaler.fromDOM(e),be.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Wn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class yr{constructor(e,t){this.from=e,this.to=t}}function Cg(n,e,t){let i=[],r=n,s=0;return Oe.spans(t,n,e,{span(){},point(o,l){o>r&&(i.push({from:r,to:o}),s+=o-r),r=l}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function xr({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:s,to:o}=e[r],l=o-s;if(i<=l)return s+i;i-=l}}function br(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function Tg(n,e){for(let t of n)if(e(t))return t}const Qh={toDOM(n){return n},fromDOM(n){return n},scale:1};class Ug{constructor(e,t,i){let r=0,s=0,o=0;this.viewports=i.map(({from:l,to:h})=>{let f=t.lineAt(l,be.ByPos,e,0,0).top,O=t.lineAt(h,be.ByPos,e,0,0).bottom;return r+=O-f,{from:l,to:h,top:f,bottom:O,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let l of this.viewports)l.domTop=o+(l.top-s)*this.scale,o=l.domBottom=l.domTop+(l.bottom-l.top),s=l.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}}function Wn(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new _t(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(r=>Wn(r,e)):n._content)}const Sr=B.define({combine:n=>n.join(" ")}),Fo=B.define({combine:n=>n.indexOf(!0)>-1}),Ho=$i.newName(),nu=$i.newName(),ru=$i.newName(),su={"&light":"."+nu,"&dark":"."+ru};function Ko(n,e,t){return new $i(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const Rg=Ko("."+Ho,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},su),Yn="￿";class Wg{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(he.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Yn}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let s=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==t)break;let l=Se.get(r),h=Se.get(o);(l&&h?l.breakAfter:(l?l.breakAfter:$h(r))||$h(o)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>s)&&this.lineBreak(),r=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,l;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(l=r.exec(t))&&(s=l.index,o=l[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let h of this.points)h.node==e&&h.pos>this.text.length&&(h.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let t=Se.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(Yg(e,i.node,i.offset)?t:0))}}function Yg(n,e,t){for(;;){if(!e||t<ni(e))return!1;if(e==n)return!0;t=_n(e)+1,e=e.parentNode}}function $h(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class kh{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Ag{constructor(e,t,i,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let l=s||o?[]:Zg(e),h=new Wg(l,e.state);h.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=h.text,this.newSel=zg(l,this.bounds.from)}else{let l=e.observer.selectionRange,h=s&&s.node==l.focusNode&&s.offset==l.focusOffset||!Vo(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),f=o&&o.node==l.anchorNode&&o.offset==l.anchorOffset||!Vo(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset);this.newSel=Y.single(f,h)}}}function ou(n,e){let t,{newSel:i}=e,r=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:l}=e.bounds,h=r.from,f=null;(s===8||I.android&&e.text.length<l-o)&&(h=r.to,f="end");let O=Mg(n.state.doc.sliceString(o,l,Yn),e.text,h-o,f);O&&(I.chrome&&s==13&&O.toB==O.from+2&&e.text.slice(O.from,O.toB)==Yn+Yn&&O.toB--,t={from:o+O.from,to:o+O.toA,insert:ce.of(e.text.slice(O.from,O.toB).split(Yn))})}else i&&(!n.hasFocus&&n.state.facet(ws)||i.main.eq(r))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!r.empty&&i&&i.main.empty?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,r.to)}:t&&t.from>=r.from&&t.to<=r.to&&(t.from!=r.from||t.to!=r.to)&&r.to-r.from-(t.to-t.from)<=4?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,r.to))}:(I.mac||I.android)&&t&&t.from==t.to&&t.from==r.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=Y.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:ce.of([" "])}):I.chrome&&t&&t.from==t.to&&t.from==r.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=Y.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:ce.of([" "])}),t){if(I.ios&&n.inputState.flushIOSKey()||I.android&&(t.from==r.from&&t.to==r.to&&t.insert.length==1&&t.insert.lines==2&&sn(n.contentDOM,"Enter",13)||(t.from==r.from-1&&t.to==r.to&&t.insert.length==0||s==8&&t.insert.length<t.to-t.from&&t.to>r.head)&&sn(n.contentDOM,"Backspace",8)||t.from==r.from&&t.to==r.to+1&&t.insert.length==0&&sn(n.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let l,h=()=>l||(l=Vg(n,t,i));return n.state.facet(Uf).some(f=>f(n,t.from,t.to,o,h))||n.dispatch(h()),!0}else if(i&&!i.main.eq(r)){let o=!1,l="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),l=n.inputState.lastSelectionOrigin),n.dispatch({selection:i,scrollIntoView:o,userEvent:l}),!0}else return!1}function Vg(n,e,t){let i,r=n.state,s=r.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let l=s.from<e.from?r.sliceDoc(s.from,e.from):"",h=s.to>e.to?r.sliceDoc(e.to,s.to):"";i=r.replaceSelection(n.state.toText(l+e.insert.sliceString(0,void 0,n.state.lineBreak)+h))}else{let l=r.changes(e),h=t&&t.main.to<=l.newLength?t.main:void 0;if(r.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let f=n.state.sliceDoc(e.from,e.to),O,p=t&&Df(n,t.main.head);if(p){let w=e.insert.length-(e.to-e.from);O={from:p.from,to:p.to-w}}else O=n.state.doc.lineAt(s.head);let v=s.to-e.to,y=s.to-s.from;i=r.changeByRange(w=>{if(w.from==s.from&&w.to==s.to)return{changes:l,range:h||w.map(l)};let X=w.to-v,P=X-f.length;if(w.to-w.from!=y||n.state.sliceDoc(P,X)!=f||w.to>=O.from&&w.from<=O.to)return{range:w};let U=r.changes({from:P,to:X,insert:e.insert}),M=w.to-s.to;return{changes:U,range:h?Y.range(Math.max(0,h.anchor+M),Math.max(0,h.head+M)):w.map(U)}})}else i={changes:l,selection:h&&r.selection.replaceRange(h)}}let o="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,o+=".compose",n.inputState.compositionFirstChange&&(o+=".start",n.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:o,scrollIntoView:!0})}function Mg(n,e,t,i){let r=Math.min(n.length,e.length),s=0;for(;s<r&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&n.length==e.length)return null;let o=n.length,l=e.length;for(;o>0&&l>0&&n.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if(i=="end"){let h=Math.max(0,s-Math.min(o,l));t-=o+h-s}if(o<s&&n.length<e.length){let h=t<=s&&t>=o?s-t:0;s-=h,l=s+(l-o),o=s}else if(l<s){let h=t<=s&&t>=l?s-t:0;s-=h,o=s+(o-l),l=s}return{from:s,toA:o,toB:l}}function Zg(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new kh(t,i)),(r!=t||s!=i)&&e.push(new kh(r,s))),e}function zg(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?Y.single(t+e,i+e):null}const qg={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Hs=I.ie&&I.ie_version<=11;class Lg{constructor(e){this.view=e,this.active=!1,this.selectionRange=new Qp,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(I.ie&&I.ie_version<=11||I.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Hs&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(ws)?i.root.activeElement!=this.dom:!zr(i.dom,r))return;let s=r.anchorNode&&i.docView.nearest(r.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(I.ie&&I.ie_version<=11||I.android&&I.chrome)&&!i.state.selection.main.empty&&r.focusNode&&Hr(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=I.safari&&e.root.nodeType==11&&xp(this.dom.ownerDocument)==this.dom&&Eg(this.view)||Fr(e.root);if(!t||this.selectionRange.eq(t))return!1;let i=zr(this.dom,t);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&kp(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,qg),Hs&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Hs&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&sn(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(r=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:r}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),r=this.selectionChanged&&zr(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new Ag(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,r=ou(this.view,t);return this.view.state==i&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=Xh(t,e.previousSibling||e.target.previousSibling,-1),r=Xh(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Xh(n,e,t){for(;e;){let i=Se.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function Eg(n){let e=null;function t(h){h.preventDefault(),h.stopImmediatePropagation(),e=h.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor);return Hr(l.node,l.offset,s,o)&&([i,r,s,o]=[s,o,i,r]),{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}}class D{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(i=>i.forEach(r=>t(r,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||$p(e.parent)||document,this.viewState=new wh(e.state||he.create(e)),e.scrollTo&&e.scrollTo.is(gr)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Un).map(i=>new Is(i));for(let i of this.plugins)i.update(this);this.observer=new Lg(this),this.inputState=new ng(this),this.inputState.ensureHandlers(this.plugins),this.docView=new sh(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(...e){let t=e.length==1&&e[0]instanceof Ze?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,s=this.state;for(let v of e){if(v.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=v.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,l=0,h=null;e.some(v=>v.annotation(Jf))?(this.inputState.notifiedFocused=o,l=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,h=eu(s,o),h||(l=1));let f=this.observer.delayedAndroidKey,O=null;if(f?(this.observer.clearDelayedAndroidKey(),O=this.observer.readChange(),(O&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(O=null)):this.observer.clear(),s.facet(he.phrases)!=this.state.facet(he.phrases))return this.setState(s);r=Kr.create(this,s,e),r.flags|=l;let p=this.viewState.scrollTarget;try{this.updateState=2;for(let v of e){if(p&&(p=p.map(v.changes)),v.scrollIntoView){let{main:y}=v.state.selection;p=new on(y.empty?y:Y.cursor(y.head,y.head>y.anchor?-1:1))}for(let y of v.effects)y.is(gr)&&(p=y.value.clip(this.state))}this.viewState.update(r,p),this.bidiCache=Jr.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(Rn)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(v=>v.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Sr)!=r.state.facet(Sr)&&(this.viewState.mustMeasureContent=!0),(t||i||p||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let v of this.state.facet(jo))try{v(r)}catch(y){$t(this.state,y,"update listener")}(h||O)&&Promise.resolve().then(()=>{h&&this.state==h.startState&&this.dispatch(h),O&&!ou(this,O)&&f.force&&sn(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new wh(e),this.plugins=e.facet(Un).map(i=>new Is(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new sh(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Un),i=e.state.facet(Un);if(t!=i){let r=[];for(let s of i){let o=t.indexOf(s);if(o<0)r.push(new Is(s));else{let l=this.plugins[o];l.mustUpdate=e,r.push(l)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(o<0)if(mf(i))s=-1,o=this.viewState.heightMap.height;else{let y=this.viewState.scrollAnchorAt(r);s=y.from,o=y.top}this.updateState=1;let h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];h&4||([this.measureRequests,f]=[f,this.measureRequests]);let O=f.map(y=>{try{return y.read(this)}catch(w){return $t(this.state,w),Ph}}),p=Kr.create(this,this.state,[]),v=!1;p.flags|=h,t?t.flags|=h:t=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),v=this.docView.update(p));for(let y=0;y<f.length;y++)if(O[y]!=Ph)try{let w=f[y];w.write&&w.write(O[y],this)}catch(w){$t(this.state,w)}if(v&&this.docView.updateSelection(!0),!p.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}else{let w=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(w>1||w<-1){r=r+w,i.scrollTop=r/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let l of this.state.facet(jo))l(t)}get themeClasses(){return Ho+" "+(this.state.facet(Fo)?ru:nu)+" "+this.state.facet(Sr)}updateAttrs(){let e=Ch(this,Af,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(ws)?"true":"false",class:"cm-content",style:`${I.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Ch(this,Cl,t);let i=this.observer.ignore(()=>{let r=Lo(this.contentDOM,this.contentAttrs,t),s=Lo(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(D.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Rn);let e=this.state.facet(D.cspNonce);$i.mount(this.root,this.styleModules.concat(Rg).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return Gs(this,e,fh(this,e,t,i))}moveByGroup(e,t){return Gs(this,e,fh(this,e,t,i=>tg(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return eg(this,e,t,i)}moveVertically(e,t,i){return Gs(this,e,ig(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Bf(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[xi.find(s,e-r.from,-1,t)];return kl(i,o.dir==Qe.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Wf)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>jg)return Ef(e.length);let t=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||Lf(s.isolates,i=rh(this,e.from,e.to))))return s.order;i||(i=rh(this,e.from,e.to));let r=qp(e.text,t,i);return this.bidiCache.push(new Jr(e.from,e.to,t,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||I.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{pf(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return gr.of(new on(typeof e=="number"?Y.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return gr.of(new on(Y.cursor(i.from),"start","start",i.top-e,t,!0))}static domEventHandlers(e){return Te.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Te.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=$i.newName(),r=[Sr.of(i),Rn.of(Ko(`.${i}`,e))];return t&&t.dark&&r.push(Fo.of(!0)),r}static baseTheme(e){return _i.lowest(Rn.of(Ko("."+Ho,e,su)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),r=i&&Se.get(i)||Se.get(e);return((t=r?.rootView)===null||t===void 0?void 0:t.view)||null}}D.styleModule=Rn;D.inputHandler=Uf;D.focusChangeEffect=Rf;D.perLineTextDirection=Wf;D.exceptionSink=Tf;D.updateListener=jo;D.editable=ws;D.mouseSelectionStyle=Cf;D.dragMovesSelection=Pf;D.clickAddsSelectionRange=Xf;D.decorations=Bn;D.atomicRanges=Tl;D.bidiIsolatedRanges=Vf;D.scrollMargins=Mf;D.darkTheme=Fo;D.cspNonce=B.define({combine:n=>n.length?n[0]:""});D.contentAttributes=Cl;D.editorAttributes=Af;D.lineWrapping=D.contentAttributes.of({class:"cm-lineWrapping"});D.announce=te.define();const jg=4096,Ph={};class Jr{constructor(e,t,i,r,s,o){this.from=e,this.to=t,this.dir=i,this.isolates=r,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:Qe.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!t.touchesRange(o.from,o.to)&&i.push(new Jr(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function Ch(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],o=typeof s=="function"?s(n):s;o&&qo(o,t)}return t}const Dg=I.mac?"mac":I.windows?"win":I.linux?"linux":"key";function _g(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,s,o,l;for(let h=0;h<t.length-1;++h){const f=t[h];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))e=="mac"?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),l&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function wr(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const Bg=_i.default(D.domEventHandlers({keydown(n,e){return au(lu(e.state),n,e,"editor")}})),Rl=B.define({enables:Bg}),Th=new WeakMap;function lu(n){let e=n.facet(Rl),t=Th.get(e);return t||Th.set(e,t=Gg(e.reduce((i,r)=>i.concat(r),[]))),t}function Ig(n,e,t){return au(lu(n.state),e,n,t)}let mi=null;const Ng=4e3;function Gg(n,e=Dg){let t=Object.create(null),i=Object.create(null),r=(o,l)=>{let h=i[o];if(h==null)i[o]=l;else if(h!=l)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,l,h,f,O)=>{var p,v;let y=t[o]||(t[o]=Object.create(null)),w=l.split(/ (?!$)/).map(U=>_g(U,e));for(let U=1;U<w.length;U++){let M=w.slice(0,U).join(" ");r(M,!0),y[M]||(y[M]={preventDefault:!0,stopPropagation:!1,run:[q=>{let Z=mi={view:q,prefix:M,scope:o};return setTimeout(()=>{mi==Z&&(mi=null)},Ng),!0}]})}let X=w.join(" ");r(X,!1);let P=y[X]||(y[X]={preventDefault:!1,stopPropagation:!1,run:((v=(p=y._any)===null||p===void 0?void 0:p.run)===null||v===void 0?void 0:v.slice())||[]});h&&P.run.push(h),f&&(P.preventDefault=!0),O&&(P.stopPropagation=!0)};for(let o of n){let l=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let f of l){let O=t[f]||(t[f]=Object.create(null));O._any||(O._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let p in O)O[p].run.push(o.any)}let h=o[e]||o.key;if(h)for(let f of l)s(f,h,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(f,"Shift-"+h,o.shift,o.preventDefault,o.stopPropagation)}return t}function au(n,e,t,i){let r=yp(e),s=Be(r,0),o=bt(s)==r.length&&r!=" ",l="",h=!1,f=!1,O=!1;mi&&mi.view==t&&mi.scope==i&&(l=mi.prefix+" ",Nf.indexOf(e.keyCode)<0&&(f=!0,mi=null));let p=new Set,v=P=>{if(P){for(let U of P.run)if(!p.has(U)&&(p.add(U),U(t,e)))return P.stopPropagation&&(O=!0),!0;P.preventDefault&&(P.stopPropagation&&(O=!0),f=!0)}return!1},y=n[i],w,X;return y&&(v(y[l+wr(r,e,!o)])?h=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(I.windows&&e.ctrlKey&&e.altKey)&&(w=ki[e.keyCode])&&w!=r?(v(y[l+wr(w,e,!0)])||e.shiftKey&&(X=jn[e.keyCode])!=r&&X!=w&&v(y[l+wr(X,e,!1)]))&&(h=!0):o&&e.shiftKey&&v(y[l+wr(r,e,!0)])&&(h=!0),!h&&v(y._any)&&(h=!0)),f&&(h=!0),h&&O&&e.stopPropagation(),h}class ir{constructor(e,t,i,r,s){this.className=e,this.left=t,this.top=i,this.width=r,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let r=e.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let s=hu(e);return[new ir(t,r.left-s.left,r.top-s.top,null,r.bottom-r.top)]}else return Fg(e,t,i)}}function hu(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Qe.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function Uh(n,e,t){let i=Y.cursor(e);return{from:Math.max(t.from,n.moveToLineBoundary(i,!1,!0).from),to:Math.min(t.to,n.moveToLineBoundary(i,!0,!0).from),type:ot.Text}}function Fg(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),r=Math.min(t.to,n.viewport.to),s=n.textDirection==Qe.LTR,o=n.contentDOM,l=o.getBoundingClientRect(),h=hu(n),f=o.querySelector(".cm-line"),O=f&&window.getComputedStyle(f),p=l.left+(O?parseInt(O.paddingLeft)+Math.min(0,parseInt(O.textIndent)):0),v=l.right-(O?parseInt(O.paddingRight):0),y=No(n,i),w=No(n,r),X=y.type==ot.Text?y:null,P=w.type==ot.Text?w:null;if(X&&(n.lineWrapping||y.widgetLineBreaks)&&(X=Uh(n,i,X)),P&&(n.lineWrapping||w.widgetLineBreaks)&&(P=Uh(n,r,P)),X&&P&&X.from==P.from)return M(q(t.from,t.to,X));{let V=X?q(t.from,null,X):Z(y,!1),L=P?q(null,t.to,P):Z(w,!0),j=[];return(X||y).to<(P||w).from-(X&&P?1:0)||y.widgetLineBreaks>1&&V.bottom+n.defaultLineHeight/2<L.top?j.push(U(p,V.bottom,v,L.top)):V.bottom<L.top&&n.elementAtHeight((V.bottom+L.top)/2).type==ot.Text&&(V.bottom=L.top=(V.bottom+L.top)/2),M(V).concat(j).concat(M(L))}function U(V,L,j,J){return new ir(e,V-h.left,L-h.top-.01,j-V,J-L+.01)}function M({top:V,bottom:L,horizontal:j}){let J=[];for(let ie=0;ie<j.length;ie+=2)J.push(U(j[ie],V,j[ie+1],L));return J}function q(V,L,j){let J=1e9,ie=-1e9,ne=[];function ee(le,ue,de,Pe,Ee){let $e=n.coordsAtPos(le,le==j.to?-2:2),xe=n.coordsAtPos(de,de==j.from?2:-2);!$e||!xe||(J=Math.min($e.top,xe.top,J),ie=Math.max($e.bottom,xe.bottom,ie),Ee==Qe.LTR?ne.push(s&&ue?p:$e.left,s&&Pe?v:xe.right):ne.push(!s&&Pe?p:xe.left,!s&&ue?v:$e.right))}let K=V??j.from,fe=L??j.to;for(let le of n.visibleRanges)if(le.to>K&&le.from<fe)for(let ue=Math.max(le.from,K),de=Math.min(le.to,fe);;){let Pe=n.state.doc.lineAt(ue);for(let Ee of n.bidiSpans(Pe)){let $e=Ee.from+Pe.from,xe=Ee.to+Pe.from;if($e>=de)break;xe>ue&&ee(Math.max($e,ue),V==null&&$e<=K,Math.min(xe,de),L==null&&xe>=fe,Ee.dir)}if(ue=Pe.to+1,ue>=de)break}return ne.length==0&&ee(K,V==null,fe,L==null,n.textDirection),{top:J,bottom:ie,horizontal:ne}}function Z(V,L){let j=l.top+(L?V.top:V.bottom);return{top:j,bottom:j,horizontal:[]}}}function Hg(n,e){return n.constructor==e.constructor&&n.eq(e)}class Kg{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Er)!=e.state.facet(Er)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let t=0,i=e.facet(Er);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!Hg(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[i].constructor&&r.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(r.draw(),t);for(;t;){let r=t.nextSibling;t.remove(),t=r}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Er=B.define();function cu(n){return[Te.define(e=>new Kg(e,n)),Er.of(n)]}const fu=!I.ios,fn=B.define({combine(n){return Nt(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function Jg(n={}){return[fn.of(n),tm,im,nm,Yf.of(!0)]}function em(n){return n.facet(fn)}function uu(n){return n.startState.facet(fn)!=n.state.facet(fn)}const tm=cu({above:!0,markers(n){let{state:e}=n,t=e.facet(fn),i=[];for(let r of e.selection.ranges){let s=r==e.selection.main;if(r.empty?!s||fu:t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=r.empty?r:Y.cursor(r.head,r.head>r.anchor?-1:1);for(let h of ir.forRange(n,o,l))i.push(h)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=uu(n);return t&&Rh(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){Rh(e.state,n)},class:"cm-cursorLayer"});function Rh(n,e){e.style.animationDuration=n.facet(fn).cursorBlinkRate+"ms"}const im=cu({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:ir.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||uu(n)},class:"cm-selectionLayer"}),Jo={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};fu&&(Jo[".cm-line"].caretColor="transparent !important",Jo[".cm-content"]={caretColor:"transparent !important"});const nm=_i.highest(D.theme(Jo)),Ou=te.define({map(n,e){return n==null?null:e.mapPos(n)}}),An=Le.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(Ou)?i.value:t,n)}}),rm=Te.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(An);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(An)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(An),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let i=n.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-i.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(An)!=n&&this.view.dispatch({effects:Ou.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function sm(){return[An,rm]}function Wh(n,e,t,i,r){e.lastIndex=0;for(let s=n.iterRange(t,i),o=t,l;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;l=e.exec(s.value);)r(o+l.index,l)}function om(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:r,to:s}of t)r=Math.max(n.state.doc.lineAt(r).from,r-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}class lm{constructor(e){const{regexp:t,decoration:i,decorate:r,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(l,h,f,O)=>r(O,f,f+l[0].length,l,h);else if(typeof i=="function")this.addMatch=(l,h,f,O)=>{let p=i(l,h,f);p&&O(f,f+l[0].length,p)};else if(i)this.addMatch=(l,h,f,O)=>O(f,f+l[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new ii,i=t.add.bind(t);for(let{from:r,to:s}of om(e,this.maxLength))Wh(e.state.doc,this.regexp,r,s,(o,l)=>this.addMatch(l,e,o,i));return t.finish()}updateDeco(e,t){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((s,o,l,h)=>{h>e.view.viewport.from&&l<e.view.viewport.to&&(i=Math.min(l,i),r=Math.max(h,r))}),e.viewportChanged||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),i,r):t}updateRange(e,t,i,r){for(let s of e.visibleRanges){let o=Math.max(s.from,i),l=Math.min(s.to,r);if(l>o){let h=e.state.doc.lineAt(o),f=h.to<l?e.state.doc.lineAt(l):h,O=Math.max(s.from,h.from),p=Math.min(s.to,f.to);if(this.boundary){for(;o>h.from;o--)if(this.boundary.test(h.text[o-1-h.from])){O=o;break}for(;l<f.to;l++)if(this.boundary.test(f.text[l-f.from])){p=l;break}}let v=[],y,w=(X,P,U)=>v.push(U.range(X,P));if(h==f)for(this.regexp.lastIndex=O-h.from;(y=this.regexp.exec(h.text))&&y.index<p-h.from;)this.addMatch(y,e,y.index+h.from,w);else Wh(e.state.doc,this.regexp,O,p,(X,P)=>this.addMatch(P,e,X,w));t=t.update({filterFrom:O,filterTo:p,filter:(X,P)=>X<O||P>p,add:v})}}return t}}const el=/x/.unicode!=null?"gu":"g",am=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,el),hm={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Ks=null;function cm(){var n;if(Ks==null&&typeof document<"u"&&document.body){let e=document.body.style;Ks=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return Ks||!1}const jr=B.define({combine(n){let e=Nt(n,{render:null,specialChars:am,addSpecialChars:null});return(e.replaceTabs=!cm())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,el)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,el)),e}});function fm(n={}){return[jr.of(n),um()]}let Yh=null;function um(){return Yh||(Yh=Te.fromClass(class{constructor(n){this.view=n,this.decorations=H.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(jr)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new lm({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:r}=t.state,s=Be(e[0],0);if(s==9){let o=r.lineAt(i),l=t.state.tabSize,h=gn(o.text,l,i-o.from);return H.replace({widget:new gm((l-h%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=H.replace({widget:new pm(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(jr);n.startState.facet(jr)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const Om="•";function dm(n){return n>=32?Om:n==10?"␤":String.fromCharCode(9216+n)}class pm extends Ui{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=dm(this.code),i=e.state.phrase("Control character")+" "+(hm[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,t);if(r)return r;let s=document.createElement("span");return s.textContent=t,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class gm extends Ui{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function mm(){return ym}const vm=H.line({class:"cm-activeLine"}),ym=Te.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let r=n.lineBlockAt(i.head);r.from>e&&(t.push(vm.range(r.from)),e=r.from)}return H.set(t)}},{decorations:n=>n.decorations}),tl=2e3;function xm(n,e,t){let i=Math.min(e.line,t.line),r=Math.max(e.line,t.line),s=[];if(e.off>tl||t.off>tl||e.col<0||t.col<0){let o=Math.min(e.off,t.off),l=Math.max(e.off,t.off);for(let h=i;h<=r;h++){let f=n.doc.line(h);f.length<=l&&s.push(Y.range(f.from+o,f.to+l))}}else{let o=Math.min(e.col,t.col),l=Math.max(e.col,t.col);for(let h=i;h<=r;h++){let f=n.doc.line(h),O=Wo(f.text,o,n.tabSize,!0);if(O<0)s.push(Y.cursor(f.to));else{let p=Wo(f.text,l,n.tabSize);s.push(Y.range(f.from+O,f.from+p))}}}return s}function bm(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function Ah(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),r=t-i.from,s=r>tl?-1:r==i.length?bm(n,e.clientX):gn(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:s,off:r}}function Sm(n,e){let t=Ah(n,e),i=n.state.selection;return t?{update(r){if(r.docChanged){let s=r.changes.mapPos(r.startState.doc.line(t.line).from),o=r.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},i=i.map(r.changes)}},get(r,s,o){let l=Ah(n,r);if(!l)return i;let h=xm(n.state,t,l);return h.length?o?Y.create(h.concat(i.ranges)):Y.create(h):i}}:null}function wm(n){let e=n?.eventFilter||(t=>t.altKey&&t.button==0);return D.mouseSelectionStyle.of((t,i)=>e(i)?Sm(t,i):null)}const Qm={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},$m={style:"cursor: crosshair"};function km(n={}){let[e,t]=Qm[n.key||"Alt"],i=Te.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==e||t(r))},keyup(r){(r.keyCode==e||!t(r))&&this.set(!1)},mousemove(r){this.set(t(r))}}});return[i,D.contentAttributes.of(r=>{var s;return!((s=r.plugin(i))===null||s===void 0)&&s.isDown?$m:null})]}const $n="-10000px";class du{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(i)}update(e,t){var i;let r=e.state.facet(this.facet),s=r.filter(h=>h);if(r===this.input){for(let h of this.tooltipViews)h.update&&h.update(e);return!1}let o=[],l=t?[]:null;for(let h=0;h<s.length;h++){let f=s[h],O=-1;if(f){for(let p=0;p<this.tooltips.length;p++){let v=this.tooltips[p];v&&v.create==f.create&&(O=p)}if(O<0)o[h]=this.createTooltipView(f),l&&(l[h]=!!f.above);else{let p=o[h]=this.tooltipViews[O];l&&(l[h]=t[O]),p.update&&p.update(e)}}}for(let h of this.tooltipViews)o.indexOf(h)<0&&(h.dom.remove(),(i=h.destroy)===null||i===void 0||i.call(h));return t&&(l.forEach((h,f)=>t[f]=h),t.length=l.length),this.input=r,this.tooltips=s,this.tooltipViews=o,!0}}function Xm(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Js=B.define({combine:n=>{var e,t,i;return{position:I.ios?"absolute":((e=n.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||Xm}}}),Vh=new WeakMap,Wl=Te.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(Js);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new du(n,Yl,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(Js);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=$n,e.dom.style.left="0px",this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(n=t.destroy)===null||n===void 0||n.call(t);this.parent&&this.container.remove(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect(),e=1,t=1,i=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:r}=this.manager.tooltipViews[0];if(I.gecko)i=r.offsetParent!=this.container.ownerDocument.body;else if(this.view.scaleX!=1||this.view.scaleY!=1)i=!0;else if(r.style.top==$n&&r.style.left=="0px"){let s=r.getBoundingClientRect();i=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(i||this.position=="absolute")if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(e=r.width/this.parent.offsetWidth,t=r.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((r,s)=>{let o=this.manager.tooltipViews[s];return o.getCoords?o.getCoords(r.pos):this.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(({dom:r})=>r.getBoundingClientRect()),space:this.view.state.facet(Js).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:i}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{editor:t,space:i,scaleX:r,scaleY:s}=n,o=[];for(let l=0;l<this.manager.tooltips.length;l++){let h=this.manager.tooltips[l],f=this.manager.tooltipViews[l],{dom:O}=f,p=n.pos[l],v=n.size[l];if(!p||p.bottom<=Math.max(t.top,i.top)||p.top>=Math.min(t.bottom,i.bottom)||p.right<Math.max(t.left,i.left)-.1||p.left>Math.min(t.right,i.right)+.1){O.style.top=$n;continue}let y=h.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,w=y?7:0,X=v.right-v.left,P=(e=Vh.get(f))!==null&&e!==void 0?e:v.bottom-v.top,U=f.offset||Cm,M=this.view.textDirection==Qe.LTR,q=v.width>i.right-i.left?M?i.left:i.right-v.width:M?Math.min(p.left-(y?14:0)+U.x,i.right-X):Math.max(i.left,p.left-X+(y?14:0)-U.x),Z=this.above[l];!h.strictSide&&(Z?p.top-(v.bottom-v.top)-U.y<i.top:p.bottom+(v.bottom-v.top)+U.y>i.bottom)&&Z==i.bottom-p.bottom>p.top-i.top&&(Z=this.above[l]=!Z);let V=(Z?p.top-i.top:i.bottom-p.bottom)-w;if(V<P&&f.resize!==!1){if(V<this.view.defaultLineHeight){O.style.top=$n;continue}Vh.set(f,P),O.style.height=(P=V)/s+"px"}else O.style.height&&(O.style.height="");let L=Z?p.top-P-w-U.y:p.bottom+w+U.y,j=q+X;if(f.overlap!==!0)for(let J of o)J.left<j&&J.right>q&&J.top<L+P&&J.bottom>L&&(L=Z?J.top-P-2-w:J.bottom+w+2);if(this.position=="absolute"?(O.style.top=(L-n.parent.top)/s+"px",O.style.left=(q-n.parent.left)/r+"px"):(O.style.top=L/s+"px",O.style.left=q/r+"px"),y){let J=p.left+(M?U.x:-U.x)-(q+14-7);y.style.left=J/r+"px"}f.overlap!==!0&&o.push({left:q,top:L,right:j,bottom:L+P}),O.classList.toggle("cm-tooltip-above",Z),O.classList.toggle("cm-tooltip-below",!Z),f.positioned&&f.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=$n}},{eventObservers:{scroll(){this.maybeMeasure()}}}),Pm=D.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Cm={x:0,y:0},Yl=B.define({enables:[Wl,Pm]}),es=B.define();class Qs{static create(e){return new Qs(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new du(e,es,t=>this.createHostedView(t))}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let r=i[e];if(r!==void 0){if(t===void 0)t=r;else if(t!==r)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Tm=Yl.compute([es],n=>{let e=n.facet(es).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var i;return(i=t.end)!==null&&i!==void 0?i:t.pos})),create:Qs.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Um{constructor(e,t,i,r,s){this.view=e,this.source=t,this.field=i,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.nearest(t.target);if(!i)return;let r,s=1;if(i instanceof yi)r=i.posAtStart;else{if(r=e.posAtCoords(t),r==null)return;let l=e.coordsAtPos(r);if(!l||t.y<l.top||t.y>l.bottom||t.x<l.left-e.defaultCharacterWidth||t.x>l.right+e.defaultCharacterWidth)return;let h=e.bidiSpans(e.state.doc.lineAt(r)).find(O=>O.from<=r&&O.to>=r),f=h&&h.dir==Qe.RTL?-1:1;s=t.x<l.left?-f:f}let o=this.source(e,r,s);if(o?.then){let l=this.pending={pos:r};o.then(h=>{this.pending==l&&(this.pending=null,h&&e.dispatch({effects:this.setHover.of(h)}))},h=>$t(e.state,h,"hover tooltip"))}else o&&e.dispatch({effects:this.setHover.of(o)})}get tooltip(){let e=this.view.plugin(Wl),t=e?e.manager.tooltips.findIndex(i=>i.create==Qs.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:r}=this;if(i&&r&&!Rm(r.dom,e)||this.pending){let{pos:s}=i||this.pending,o=(t=i?.end)!==null&&t!==void 0?t:s;(s==o?this.view.posAtCoords(this.lastMove)!=s:!Wm(this.view,s,o,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of(null)})}}watchTooltipLeave(e){let t=i=>{e.removeEventListener("mouseleave",t),this.active&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Qr=4;function Rm(n,e){let t=n.getBoundingClientRect();return e.clientX>=t.left-Qr&&e.clientX<=t.right+Qr&&e.clientY>=t.top-Qr&&e.clientY<=t.bottom+Qr}function Wm(n,e,t,i,r,s){let o=n.scrollDOM.getBoundingClientRect(),l=n.documentTop+n.documentPadding.top+n.contentHeight;if(o.left>i||o.right<i||o.top>r||Math.min(o.bottom,l)<r)return!1;let h=n.posAtCoords({x:i,y:r},!1);return h>=e&&h<=t}function Ym(n,e={}){let t=te.define(),i=Le.define({create(){return null},update(r,s){if(r&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,r)))return null;if(r&&s.docChanged){let o=s.changes.mapPos(r.pos,-1,Ne.TrackDel);if(o==null)return null;let l=Object.assign(Object.create(null),r);l.pos=o,r.end!=null&&(l.end=s.changes.mapPos(r.end)),r=l}for(let o of s.effects)o.is(t)&&(r=o.value),o.is(Am)&&(r=null);return r},provide:r=>es.from(r)});return[i,Te.define(r=>new Um(r,n,i,t,e.hoverTime||300)),Tm]}function pu(n,e){let t=n.plugin(Wl);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const Am=te.define(),Mh=B.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Nn(n,e){let t=n.plugin(gu),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const gu=Te.fromClass(class{constructor(n){this.input=n.state.facet(ji),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(Mh);this.top=new $r(n,!0,e.topContainer),this.bottom=new $r(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(Mh);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new $r(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new $r(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(ji);if(t!=this.input){let i=t.filter(h=>h),r=[],s=[],o=[],l=[];for(let h of i){let f=this.specs.indexOf(h),O;f<0?(O=h(n.view),l.push(O)):(O=this.panels[f],O.update&&O.update(n)),r.push(O),(O.top?s:o).push(O)}this.specs=i,this.panels=r,this.top.sync(s),this.bottom.sync(o);for(let h of l)h.dom.classList.add("cm-panel"),h.mount&&h.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>D.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class $r{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Zh(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Zh(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Zh(n){let e=n.nextSibling;return n.remove(),e}const ji=B.define({enables:gu});class oi extends Li{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}oi.prototype.elementClass="";oi.prototype.toDOM=void 0;oi.prototype.mapMode=Ne.TrackBefore;oi.prototype.startSide=oi.prototype.endSide=-1;oi.prototype.point=!0;const Dr=B.define(),Vm={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Oe.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},qn=B.define();function Mm(n){return[mu(),qn.of(Object.assign(Object.assign({},Vm),n))]}const il=B.define({combine:n=>n.some(e=>e)});function mu(n){let e=[Zm];return n&&n.fixed===!1&&e.push(il.of(!0)),e}const Zm=Te.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(qn).map(e=>new qh(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(il),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(il)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=Oe.iter(this.view.state.facet(Dr),this.view.viewport.from),i=[],r=this.gutters.map(s=>new zm(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let o=!0;for(let l of s.type)if(l.type==ot.Text&&o){nl(t,i,l.from);for(let h of r)h.line(this.view,l,i);o=!1}else if(l.widget)for(let h of r)h.widget(this.view,l)}else if(s.type==ot.Text){nl(t,i,s.from);for(let o of r)o.line(this.view,s,i)}else if(s.widget)for(let o of r)o.widget(this.view,s);for(let s of r)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(qn),t=n.state.facet(qn),i=n.docChanged||n.heightChanged||n.viewportChanged||!Oe.eq(n.startState.facet(Dr),n.state.facet(Dr),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let s of t){let o=e.indexOf(s);o<0?r.push(new qh(this.view,s)):(this.gutters[o].update(n),r.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)this.dom.appendChild(s.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>D.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==Qe.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function zh(n){return Array.isArray(n)?n:[n]}function nl(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class zm{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Oe.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:r}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==r.elements.length){let l=new vu(e,o,s,i);r.elements.push(l),r.dom.appendChild(l.dom)}else r.elements[this.i].update(e,o,s,i);this.height=t.bottom,this.i++}line(e,t,i){let r=[];nl(this.cursor,r,t.from),i.length&&(r=r.concat(i));let s=this.gutter.config.lineMarker(e,t,r);s&&r.unshift(s);let o=this.gutter;r.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,r)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t);i&&this.addElement(e,t,[i])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class qh{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,r=>{let s=r.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let h=s.getBoundingClientRect();o=(h.top+h.bottom)/2}else o=r.clientY;let l=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[i](e,l,r)&&r.preventDefault()});this.markers=zh(t.markers(e)),t.initialSpacer&&(this.spacer=new vu(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=zh(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!Oe.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class vu{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),qm(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let s=0,o=0;;){let l=o,h=s<t.length?t[s++]:null,f=!1;if(h){let O=h.elementClass;O&&(i+=" "+O);for(let p=o;p<this.markers.length;p++)if(this.markers[p].compare(h)){l=p,f=!0;break}}else l=this.markers.length;for(;o<l;){let O=this.markers[o++];if(O.toDOM){O.destroy(r);let p=r.nextSibling;r.remove(),r=p}}if(!h)break;h.toDOM&&(f?r=r.nextSibling:this.dom.insertBefore(h.toDOM(e),r)),f&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function qm(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const Lm=B.define(),Ki=B.define({combine(n){return Nt(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let r in t){let s=i[r],o=t[r];i[r]=s?(l,h,f)=>s(l,h,f)||o(l,h,f):o}return i}})}});class eo extends oi{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function to(n,e){return n.state.facet(Ki).formatNumber(e,n.state)}const Em=qn.compute([Ki],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Lm)},lineMarker(e,t,i){return i.some(r=>r.toDOM)?null:new eo(to(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Ki)!=e.state.facet(Ki),initialSpacer(e){return new eo(to(e,Lh(e.state.doc.lines)))},updateSpacer(e,t){let i=to(t.view,Lh(t.view.state.doc.lines));return i==e.number?e:new eo(i)},domEventHandlers:n.facet(Ki).domEventHandlers}));function jm(n={}){return[Ki.of(n),mu(),Em]}function Lh(n){let e=9;for(;e<n;)e=e*10+9;return e}const Dm=new class extends oi{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},_m=Dr.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.head).from;r>t&&(t=r,e.push(Dm.range(r)))}return Oe.of(e)});function Bm(){return _m}const yu=1024;let Im=0;class io{constructor(e,t){this.from=e,this.to=t}}class se{constructor(e={}){this.id=Im++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ft.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}se.closedBy=new se({deserialize:n=>n.split(" ")});se.openedBy=new se({deserialize:n=>n.split(" ")});se.group=new se({deserialize:n=>n.split(" ")});se.contextHash=new se({perNode:!0});se.lookAhead=new se({perNode:!0});se.mounted=new se({perNode:!0});class ts{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[se.mounted.id]}}const Nm=Object.create(null);class ft{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):Nm,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new ft(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(se.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop(se.group),s=-1;s<(r?r.length:0);s++){let o=t[s<0?i.name:r[s]];if(o)return o}}}}ft.none=new ft("",Object.create(null),0,8);class Al{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let r=null;for(let s of e){let o=s(i);o&&(r||(r=Object.assign({},i.props)),r[o[0].id]=o[1])}t.push(r?new ft(i.name,r,i.id,i.flags):i)}return new Al(t)}}const kr=new WeakMap,Eh=new WeakMap;var qe;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(qe||(qe={}));class Ue{constructor(e,t,i,r,s){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,l]of s)this.props[typeof o=="number"?o:o.id]=l}}toString(){let e=ts.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new sl(this.topNode,e)}cursorAt(e,t=0,i=0){let r=kr.get(this)||this.topNode,s=new sl(r);return s.moveTo(e,t),kr.set(this,s._tree),s}get topNode(){return new Xt(this,0,0,null)}resolve(e,t=0){let i=Gn(kr.get(this)||this.topNode,e,t,!1);return kr.set(this,i),i}resolveInner(e,t=0){let i=Gn(Eh.get(this)||this.topNode,e,t,!0);return Eh.set(this,i),i}resolveStack(e,t=0){return Hm(this,e,t)}iterate(e){let{enter:t,leave:i,from:r=0,to:s=this.length}=e,o=e.mode||0,l=(o&qe.IncludeAnonymous)>0;for(let h=this.cursor(o|qe.IncludeAnonymous);;){let f=!1;if(h.from<=s&&h.to>=r&&(!l&&h.type.isAnonymous||t(h)!==!1)){if(h.firstChild())continue;f=!0}for(;f&&i&&(l||!h.type.isAnonymous)&&i(h),!h.nextSibling();){if(!h.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Zl(ft.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new Ue(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new Ue(ft.none,t,i,r)))}static build(e){return Km(e)}}Ue.empty=new Ue(ft.none,[],[],0);class Vl{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Vl(this.buffer,this.index)}}class Pi{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return ft.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,r,s){let{buffer:o}=this,l=-1;for(let h=e;h!=t&&!(xu(s,r,o[h+1],o[h+2])&&(l=h,i>0));h=o[h+3]);return l}slice(e,t,i){let r=this.buffer,s=new Uint16Array(t-e),o=0;for(let l=e,h=0;l<t;){s[h++]=r[l++],s[h++]=r[l++]-i;let f=s[h++]=r[l++]-i;s[h++]=r[l++]-e,o=Math.max(o,f)}return new Pi(s,o,this.set)}}function xu(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Gn(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!i&&n instanceof Xt&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=i?0:qe.IgnoreOverlays;if(i)for(let o=n,l=o.parent;l;o=l,l=o.parent)o instanceof Xt&&o.index<0&&((r=l.enter(e,t,s))===null||r===void 0?void 0:r.from)!=o.from&&(n=l);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class bu{cursor(e=0){return new sl(this,e)}getChild(e,t=null,i=null){let r=jh(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return jh(this,e,t,i)}resolve(e,t=0){return Gn(this,e,t,!1)}resolveInner(e,t=0){return Gn(this,e,t,!0)}matchContext(e){return rl(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(i=t,t=r.prevSibling):t=r}return i}get node(){return this}get next(){return this.parent}}class Xt extends bu{constructor(e,t,i,r){super(),this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,s=0){for(let o=this;;){for(let{children:l,positions:h}=o._tree,f=t>0?l.length:-1;e!=f;e+=t){let O=l[e],p=h[e]+o.from;if(xu(r,i,p,p+O.length)){if(O instanceof Pi){if(s&qe.ExcludeBuffers)continue;let v=O.findChild(0,O.buffer.length,t,i-p,r);if(v>-1)return new bi(new Gm(o,O,e,p),null,v)}else if(s&qe.IncludeAnonymous||!O.type.isAnonymous||Ml(O)){let v;if(!(s&qe.IgnoreMounts)&&(v=ts.get(O))&&!v.overlay)return new Xt(v.tree,p,e,o);let y=new Xt(O,p,e,o);return s&qe.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(t<0?O.children.length-1:0,t,i,r)}}}if(s&qe.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let r;if(!(i&qe.IgnoreOverlays)&&(r=ts.get(this._tree))&&r.overlay){let s=e-this.from;for(let{from:o,to:l}of r.overlay)if((t>0?o<=s:o<s)&&(t<0?l>=s:l>s))return new Xt(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function jh(n,e,t,i){let r=n.cursor(),s=[];if(!r.firstChild())return s;if(t!=null){for(;!r.type.is(t);)if(!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function rl(n,e,t=e.length-1){for(let i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class Gm{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class bi extends bu{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new bi(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&qe.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new bi(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new bi(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new bi(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let o=i.buffer[this.index+1];e.push(i.slice(r,s,o)),t.push(0)}return new Ue(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Su(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let i=t instanceof Xt&&t.index<0?null:t.parent,r=n.slice();return i?r[e]=i:r.splice(e,1),new Fm(r,t)}class Fm{constructor(e,t){this.heads=e,this.node=t}get next(){return Su(this.heads)}}function Hm(n,e,t){let i=n.resolveInner(e,t),r=null;for(let s=i instanceof Xt?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(r||(r=[i])).push(o.resolve(e,t)),s=o}else{let o=ts.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let l=new Xt(o.tree,o.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(Gn(l,e,t,!1))}}return r?Su(r):i}class sl{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Xt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof Xt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&qe.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&qe.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&qe.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let l=i._tree.children[s];if(this.mode&qe.IncludeAnonymous||l instanceof Pi||!l.type.isAnonymous||Ml(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)t=new bi(this.buffer,t,this.stack[r]);return this.bufferNode=new bi(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return rl(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return rl(this.node,e,r);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function Ml(n){return n.children.some(e=>e instanceof Pi||!e.type.isAnonymous||Ml(e))}function Km(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=yu,reused:s=[],minRepeatType:o=i.types.length}=n,l=Array.isArray(t)?new Vl(t,t.length):t,h=i.types,f=0,O=0;function p(V,L,j,J,ie,ne){let{id:ee,start:K,end:fe,size:le}=l,ue=O;for(;le<0;)if(l.next(),le==-1){let xe=s[ee];j.push(xe),J.push(K-V);return}else if(le==-3){f=ee;return}else if(le==-4){O=ee;return}else throw new RangeError(`Unrecognized record size: ${le}`);let de=h[ee],Pe,Ee,$e=K-V;if(fe-K<=r&&(Ee=P(l.pos-L,ie))){let xe=new Uint16Array(Ee.size-Ee.skip),Fe=l.pos-Ee.size,Re=xe.length;for(;l.pos>Fe;)Re=U(Ee.start,xe,Re);Pe=new Pi(xe,fe-Ee.start,i),$e=Ee.start-V}else{let xe=l.pos-le;l.next();let Fe=[],Re=[],Ft=ee>=o?ee:-1,Ht=0,Wi=fe;for(;l.pos>xe;)Ft>=0&&l.id==Ft&&l.size>=0?(l.end<=Wi-r&&(w(Fe,Re,K,Ht,l.end,Wi,Ft,ue),Ht=Fe.length,Wi=l.end),l.next()):ne>2500?v(K,xe,Fe,Re):p(K,xe,Fe,Re,Ft,ne+1);if(Ft>=0&&Ht>0&&Ht<Fe.length&&w(Fe,Re,K,Ht,K,Wi,Ft,ue),Fe.reverse(),Re.reverse(),Ft>-1&&Ht>0){let ai=y(de);Pe=Zl(de,Fe,Re,0,Fe.length,0,fe-K,ai,ai)}else Pe=X(de,Fe,Re,fe-K,ue-fe)}j.push(Pe),J.push($e)}function v(V,L,j,J){let ie=[],ne=0,ee=-1;for(;l.pos>L;){let{id:K,start:fe,end:le,size:ue}=l;if(ue>4)l.next();else{if(ee>-1&&fe<ee)break;ee<0&&(ee=le-r),ie.push(K,fe,le),ne++,l.next()}}if(ne){let K=new Uint16Array(ne*4),fe=ie[ie.length-2];for(let le=ie.length-3,ue=0;le>=0;le-=3)K[ue++]=ie[le],K[ue++]=ie[le+1]-fe,K[ue++]=ie[le+2]-fe,K[ue++]=ue;j.push(new Pi(K,ie[2]-fe,i)),J.push(fe-V)}}function y(V){return(L,j,J)=>{let ie=0,ne=L.length-1,ee,K;if(ne>=0&&(ee=L[ne])instanceof Ue){if(!ne&&ee.type==V&&ee.length==J)return ee;(K=ee.prop(se.lookAhead))&&(ie=j[ne]+ee.length+K)}return X(V,L,j,J,ie)}}function w(V,L,j,J,ie,ne,ee,K){let fe=[],le=[];for(;V.length>J;)fe.push(V.pop()),le.push(L.pop()+j-ie);V.push(X(i.types[ee],fe,le,ne-ie,K-ne)),L.push(ie-j)}function X(V,L,j,J,ie=0,ne){if(f){let ee=[se.contextHash,f];ne=ne?[ee].concat(ne):[ee]}if(ie>25){let ee=[se.lookAhead,ie];ne=ne?[ee].concat(ne):[ee]}return new Ue(V,L,j,J,ne)}function P(V,L){let j=l.fork(),J=0,ie=0,ne=0,ee=j.end-r,K={size:0,start:0,skip:0};e:for(let fe=j.pos-V;j.pos>fe;){let le=j.size;if(j.id==L&&le>=0){K.size=J,K.start=ie,K.skip=ne,ne+=4,J+=4,j.next();continue}let ue=j.pos-le;if(le<0||ue<fe||j.start<ee)break;let de=j.id>=o?4:0,Pe=j.start;for(j.next();j.pos>ue;){if(j.size<0)if(j.size==-3)de+=4;else break e;else j.id>=o&&(de+=4);j.next()}ie=Pe,J+=le,ne+=de}return(L<0||J==V)&&(K.size=J,K.start=ie,K.skip=ne),K.size>4?K:void 0}function U(V,L,j){let{id:J,start:ie,end:ne,size:ee}=l;if(l.next(),ee>=0&&J<o){let K=j;if(ee>4){let fe=l.pos-(ee-4);for(;l.pos>fe;)j=U(V,L,j)}L[--j]=K,L[--j]=ne-V,L[--j]=ie-V,L[--j]=J}else ee==-3?f=J:ee==-4&&(O=J);return j}let M=[],q=[];for(;l.pos>0;)p(n.start||0,n.bufferStart||0,M,q,-1,0);let Z=(e=n.length)!==null&&e!==void 0?e:M.length?q[0]+M[0].length:0;return new Ue(h[n.topID],M.reverse(),q.reverse(),Z)}const Dh=new WeakMap;function _r(n,e){if(!n.isAnonymous||e instanceof Pi||e.type!=n)return 1;let t=Dh.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof Ue)){t=1;break}t+=_r(n,i)}Dh.set(e,t)}return t}function Zl(n,e,t,i,r,s,o,l,h){let f=0;for(let w=i;w<r;w++)f+=_r(n,e[w]);let O=Math.ceil(f*1.5/8),p=[],v=[];function y(w,X,P,U,M){for(let q=P;q<U;){let Z=q,V=X[q],L=_r(n,w[q]);for(q++;q<U;q++){let j=_r(n,w[q]);if(L+j>=O)break;L+=j}if(q==Z+1){if(L>O){let j=w[Z];y(j.children,j.positions,0,j.children.length,X[Z]+M);continue}p.push(w[Z])}else{let j=X[q-1]+w[q-1].length-V;p.push(Zl(n,w,X,Z,q,V,j,null,h))}v.push(V+M-s)}}return y(e,t,i,r,0),(l||h)(p,v,o)}class qi{constructor(e,t,i,r,s=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let r=[new qi(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&r.push(s);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let l=0,h=0,f=0;;l++){let O=l<t.length?t[l]:null,p=O?O.fromA:1e9;if(p-h>=i)for(;o&&o.from<p;){let v=o;if(h>=v.from||p<=v.to||f){let y=Math.max(v.from,h)-f,w=Math.min(v.to,p)-f;v=y>=w?null:new qi(y,w,v.tree,v.offset+f,l>0,!!O)}if(v&&r.push(v),o.to>p)break;o=s<e.length?e[s++]:null}if(!O)break;h=O.toA,f=O.toA-O.toB}return r}}class wu{startParse(e,t,i){return typeof e=="string"&&(e=new Jm(e)),i=i?i.length?i.map(r=>new io(r.from,r.to)):[new io(0,0)]:[new io(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let s=r.advance();if(s)return s}}}class Jm{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new se({perNode:!0});let e0=0;class Et{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=e0++}static define(e){if(e?.base)throw new Error("Can not derive from a modified tag");let t=new Et([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new is;return t=>t.modified.indexOf(e)>-1?t:is.get(t.base||t,t.modified.concat(e).sort((i,r)=>i.id-r.id))}}let t0=0;class is{constructor(){this.instances=[],this.id=t0++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(l=>l.base==e&&i0(t,l.modified));if(i)return i;let r=[],s=new Et(r,e,t);for(let l of t)l.instances.push(s);let o=n0(t);for(let l of e.set)if(!l.modified.length)for(let h of o)r.push(is.get(l,h));return s}}function i0(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function n0(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function Qu(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let s=[],o=2,l=r;for(let p=0;;){if(l=="..."&&p>0&&p+3==r.length){o=1;break}let v=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!v)throw new RangeError("Invalid path: "+r);if(s.push(v[0]=="*"?"":v[0][0]=='"'?JSON.parse(v[0]):v[0]),p+=v[0].length,p==r.length)break;let y=r[p++];if(p==r.length&&y=="!"){o=0;break}if(y!="/")throw new RangeError("Invalid path: "+r);l=r.slice(p)}let h=s.length-1,f=s[h];if(!f)throw new RangeError("Invalid path: "+r);let O=new ns(i,o,h>0?s.slice(0,h):null);e[f]=O.sort(e[f])}}return $u.add(e)}const $u=new se;class ns{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}ns.empty=new ns([],2,null);function ku(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let o=r;for(let l of s)for(let h of l.set){let f=t[h.id];if(f){o=o?o+" "+f:f;break}}return o},scope:i}}function r0(n,e){let t=null;for(let i of n){let r=i.style(e);r&&(t=t?t+" "+r:r)}return t}function s0(n,e,t,i=0,r=n.length){let s=new o0(i,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),i,r,"",s.highlighters),s.flush(r)}class o0{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,s){let{type:o,from:l,to:h}=e;if(l>=i||h<=t)return;o.isTop&&(s=this.highlighters.filter(y=>!y.scope||y.scope(o)));let f=r,O=l0(e)||ns.empty,p=r0(s,O.tags);if(p&&(f&&(f+=" "),f+=p,O.mode==1&&(r+=(r?" ":"")+p)),this.startSpan(Math.max(t,l),f),O.opaque)return;let v=e.tree&&e.tree.prop(se.mounted);if(v&&v.overlay){let y=e.node.enter(v.overlay[0].from+l,1),w=this.highlighters.filter(P=>!P.scope||P.scope(v.tree.type)),X=e.firstChild();for(let P=0,U=l;;P++){let M=P<v.overlay.length?v.overlay[P]:null,q=M?M.from+l:h,Z=Math.max(t,U),V=Math.min(i,q);if(Z<V&&X)for(;e.from<V&&(this.highlightRange(e,Z,V,r,s),this.startSpan(Math.min(V,e.to),f),!(e.to>=q||!e.nextSibling())););if(!M||q>i)break;U=M.to+l,U>t&&(this.highlightRange(y.cursor(),Math.max(t,M.from+l),Math.min(i,U),"",w),this.startSpan(Math.min(i,U),f))}X&&e.parent()}else if(e.firstChild()){v&&(r="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,s),this.startSpan(Math.min(i,e.to),f)}while(e.nextSibling());e.parent()}}}function l0(n){let e=n.type.prop($u);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const E=Et.define,Xr=E(),pi=E(),_h=E(pi),Bh=E(pi),gi=E(),Pr=E(gi),no=E(gi),Lt=E(),Ai=E(Lt),zt=E(),qt=E(),ol=E(),kn=E(ol),Cr=E(),Q={comment:Xr,lineComment:E(Xr),blockComment:E(Xr),docComment:E(Xr),name:pi,variableName:E(pi),typeName:_h,tagName:E(_h),propertyName:Bh,attributeName:E(Bh),className:E(pi),labelName:E(pi),namespace:E(pi),macroName:E(pi),literal:gi,string:Pr,docString:E(Pr),character:E(Pr),attributeValue:E(Pr),number:no,integer:E(no),float:E(no),bool:E(gi),regexp:E(gi),escape:E(gi),color:E(gi),url:E(gi),keyword:zt,self:E(zt),null:E(zt),atom:E(zt),unit:E(zt),modifier:E(zt),operatorKeyword:E(zt),controlKeyword:E(zt),definitionKeyword:E(zt),moduleKeyword:E(zt),operator:qt,derefOperator:E(qt),arithmeticOperator:E(qt),logicOperator:E(qt),bitwiseOperator:E(qt),compareOperator:E(qt),updateOperator:E(qt),definitionOperator:E(qt),typeOperator:E(qt),controlOperator:E(qt),punctuation:ol,separator:E(ol),bracket:kn,angleBracket:E(kn),squareBracket:E(kn),paren:E(kn),brace:E(kn),content:Lt,heading:Ai,heading1:E(Ai),heading2:E(Ai),heading3:E(Ai),heading4:E(Ai),heading5:E(Ai),heading6:E(Ai),contentSeparator:E(Lt),list:E(Lt),quote:E(Lt),emphasis:E(Lt),strong:E(Lt),link:E(Lt),monospace:E(Lt),strikethrough:E(Lt),inserted:E(),deleted:E(),changed:E(),invalid:E(),meta:Cr,documentMeta:E(Cr),annotation:E(Cr),processingInstruction:E(Cr),definition:Et.defineModifier(),constant:Et.defineModifier(),function:Et.defineModifier(),standard:Et.defineModifier(),local:Et.defineModifier(),special:Et.defineModifier()};ku([{tag:Q.link,class:"tok-link"},{tag:Q.heading,class:"tok-heading"},{tag:Q.emphasis,class:"tok-emphasis"},{tag:Q.strong,class:"tok-strong"},{tag:Q.keyword,class:"tok-keyword"},{tag:Q.atom,class:"tok-atom"},{tag:Q.bool,class:"tok-bool"},{tag:Q.url,class:"tok-url"},{tag:Q.labelName,class:"tok-labelName"},{tag:Q.inserted,class:"tok-inserted"},{tag:Q.deleted,class:"tok-deleted"},{tag:Q.literal,class:"tok-literal"},{tag:Q.string,class:"tok-string"},{tag:Q.number,class:"tok-number"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],class:"tok-string2"},{tag:Q.variableName,class:"tok-variableName"},{tag:Q.local(Q.variableName),class:"tok-variableName tok-local"},{tag:Q.definition(Q.variableName),class:"tok-variableName tok-definition"},{tag:Q.special(Q.variableName),class:"tok-variableName2"},{tag:Q.definition(Q.propertyName),class:"tok-propertyName tok-definition"},{tag:Q.typeName,class:"tok-typeName"},{tag:Q.namespace,class:"tok-namespace"},{tag:Q.className,class:"tok-className"},{tag:Q.macroName,class:"tok-macroName"},{tag:Q.propertyName,class:"tok-propertyName"},{tag:Q.operator,class:"tok-operator"},{tag:Q.comment,class:"tok-comment"},{tag:Q.meta,class:"tok-meta"},{tag:Q.invalid,class:"tok-invalid"},{tag:Q.punctuation,class:"tok-punctuation"}]);var ro;const Ji=new se;function a0(n){return B.define({combine:n?e=>e.concat(n):void 0})}const h0=new se;class St{constructor(e,t,i=[],r=""){this.data=e,this.name=r,he.prototype.hasOwnProperty("tree")||Object.defineProperty(he.prototype,"tree",{get(){return tt(this)}}),this.parser=t,this.extension=[Ci.of(this),he.languageData.of((s,o,l)=>{let h=Ih(s,o,l),f=h.type.prop(Ji);if(!f)return[];let O=s.facet(f),p=h.type.prop(h0);if(p){let v=h.resolve(o-h.from,l);for(let y of p)if(y.test(v,s)){let w=s.facet(y.facet);return y.type=="replace"?w:w.concat(O)}}return O})].concat(i)}isActiveAt(e,t,i=-1){return Ih(e,t,i).type.prop(Ji)==this.data}findRegions(e){let t=e.facet(Ci);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(s,o)=>{if(s.prop(Ji)==this.data){i.push({from:o,to:o+s.length});return}let l=s.prop(se.mounted);if(l){if(l.tree.prop(Ji)==this.data){if(l.overlay)for(let h of l.overlay)i.push({from:h.from+o,to:h.to+o});else i.push({from:o,to:o+s.length});return}else if(l.overlay){let h=i.length;if(r(l.tree,l.overlay[0].from+o),i.length>h)return}}for(let h=0;h<s.children.length;h++){let f=s.children[h];f instanceof Ue&&r(f,s.positions[h]+o)}};return r(tt(e),0),i}get allowsNesting(){return!0}}St.setState=te.define();function Ih(n,e,t){let i=n.facet(Ci),r=tt(n).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,t,qe.ExcludeBuffers))s.type.isTop&&(r=s);return r}class rs extends St{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=a0(e.languageData);return new rs(t,e.parser.configure({props:[Ji.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new rs(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function tt(n){let e=n.field(St.state,!1);return e?e.tree:Ue.empty}function Xu(n,e,t=50){var i;let r=(i=n.field(St.state,!1))===null||i===void 0?void 0:i.context;if(!r)return null;let s=r.viewport;r.updateViewport({from:0,to:e});let o=r.isDone(e)||r.work(t,e)?r.tree:null;return r.updateViewport(s),o}class c0{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let Xn=null;class ss{constructor(e,t,i=[],r,s,o,l,h){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=l,this.scheduleOn=h,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new ss(e,t,[],Ue.empty,0,i,[],null)}startParse(){return this.parser.startParse(new c0(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Ue.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(qi.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(qi.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Xn;Xn=this;try{return e()}finally{Xn=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Nh(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:s,viewport:o,skipped:l}=this;if(this.takeTree(),!e.empty){let h=[];if(e.iterChangedRanges((f,O,p,v)=>h.push({fromA:f,toA:O,fromB:p,toB:v})),i=qi.applyChanges(i,h),r=Ue.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){l=[];for(let f of this.skipped){let O=e.mapPos(f.from,1),p=e.mapPos(f.to,-1);O<p&&l.push({from:O,to:p})}}}return new ss(this.parser,t,i,r,s,o,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=Nh(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends wu{createParse(t,i,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let h=Xn;if(h){for(let f of r)h.tempSkipped.push(f);e&&(h.scheduleOn=h.scheduleOn?Promise.all([h.scheduleOn,e]):e)}return this.parsedPos=o,new Ue(ft.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Xn}}function Nh(n,e,t){return qi.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class un{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new un(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=ss.create(e.facet(Ci).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new un(i)}}St.state=Le.define({create:un.init,update(n,e){for(let t of e.effects)if(t.is(St.setState))return t.value;return e.startState.facet(Ci)!=e.state.facet(Ci)?un.init(e.state):n.apply(e)}});let Pu=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Pu=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const so=typeof navigator<"u"&&(!((ro=navigator.scheduling)===null||ro===void 0)&&ro.isInputPending)?()=>navigator.scheduling.isInputPending():null,f0=Te.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(St.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(St.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Pu(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(St.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!so?Math.max(25,e.timeRemaining()-5):1e9),l=s.context.treeLen<r&&i.doc.length>r+1e3,h=s.context.work(()=>so&&so()||Date.now()>o,r+(l?0:1e5));this.chunkBudget-=Date.now()-t,(h||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:St.setState.of(new un(s.context))})),this.chunkBudget>0&&!(h&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>$t(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ci=B.define({combine(n){return n.length?n[0]:null},enables:n=>[St.state,f0,D.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class u0{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const O0=B.define(),Fn=B.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function os(n){let e=n.facet(Fn);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Hn(n,e){let t="",i=n.tabSize,r=n.facet(Fn)[0];if(r=="	"){for(;e>=i;)t+="	",e-=i;r=" "}for(let s=0;s<e;s++)t+=r;return t}function zl(n,e){n instanceof he&&(n=new $s(n));for(let i of n.state.facet(O0)){let r=i(n,e);if(r!==void 0)return r}let t=tt(n.state);return t.length>=e?d0(n,t,e):null}class $s{constructor(e,t={}){this.state=e,this.options=t,this.unit=os(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.countColumn(i,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return gn(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Cu=new se;function d0(n,e,t){let i=e.resolveStack(t),r=i.node.enterUnfinishedNodesBefore(t);if(r!=i.node){let s=[];for(let o=r;o!=i.node;o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)i={node:s[o],next:i}}return Tu(i,n,t)}function Tu(n,e,t){for(let i=n;i;i=i.next){let r=g0(i.node);if(r)return r(ql.create(e,t,i))}return 0}function p0(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function g0(n){let e=n.type.prop(Cu);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(se.closedBy))){let r=n.lastChild,s=r&&i.indexOf(r.name)>-1;return o=>Uu(o,!0,1,void 0,s&&!p0(o)?r.from:void 0)}return n.parent==null?m0:null}function m0(){return 0}class ql extends $s{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new ql(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(v0(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return Tu(this.context.next,this.base,this.pos)}}function v0(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function y0(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let r=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let l=t.to;;){let h=e.childAfter(l);if(!h||h==i)return null;if(!h.type.isSkipped)return h.from<o?t:null;l=h.to}}function x0({closing:n,align:e=!0,units:t=1}){return i=>Uu(i,e,t,n)}function Uu(n,e,t,i,r){let s=n.textAfter,o=s.match(/^\s*/)[0].length,l=i&&s.slice(o,o+i.length)==i||r==n.pos+o,h=e?y0(n):null;return h?l?n.column(h.from):n.column(h.to):n.baseIndent+(l?0:n.unit*t)}const b0=n=>n.baseIndent;function oo({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const S0=200;function w0(){return he.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,r=t.lineAt(i);if(i>r.from+S0)return n;let s=t.sliceString(r.from,i);if(!e.some(f=>f.test(s)))return n;let{state:o}=n,l=-1,h=[];for(let{head:f}of o.selection.ranges){let O=o.doc.lineAt(f);if(O.from==l)continue;l=O.from;let p=zl(o,O.from);if(p==null)continue;let v=/^\s*/.exec(O.text)[0],y=Hn(o,p);v!=y&&h.push({from:O.from,to:O.from+v.length,insert:y})}return h.length?[n,{changes:h,sequential:!0}]:n})}const Q0=B.define(),Ru=new se;function $0(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function k0(n,e,t){let i=tt(n);if(i.length<t)return null;let r=i.resolveStack(t,1),s=null;for(let o=r;o;o=o.next){let l=o.node;if(l.to<=t||l.from>t)continue;if(s&&l.from<e)break;let h=l.type.prop(Ru);if(h&&(l.to<i.length-50||i.length==n.doc.length||!X0(l))){let f=h(l,n);f&&f.from<=t&&f.from>=e&&f.to>t&&(s=f)}}return s}function X0(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function ls(n,e,t){for(let i of n.facet(Q0)){let r=i(n,e,t);if(r)return r}return k0(n,e,t)}function Wu(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const ks=te.define({map:Wu}),nr=te.define({map:Wu});function Yu(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const Di=Le.define({create(){return H.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(ks)&&!P0(n,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(Ll),r=i?H.replace({widget:new Y0(i(e.state,t.value))}):Gh;n=n.update({add:[r.range(t.value.from,t.value.to)]})}else t.is(nr)&&(n=n.update({filter:(i,r)=>t.value.from!=i||t.value.to!=r,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:i}=e.selection.main;n.between(i,i,(r,s)=>{r<i&&s>i&&(t=!0)}),t&&(n=n.update({filterFrom:i,filterTo:i,filter:(r,s)=>s<=i||r>=i}))}return n},provide:n=>D.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,r)=>{t.push(i,r)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],r=n[t++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(Gh.range(i,r))}return H.set(e,!0)}});function as(n,e,t){var i;let r=null;return(i=n.field(Di,!1))===null||i===void 0||i.between(e,t,(s,o)=>{(!r||r.from>s)&&(r={from:s,to:o})}),r}function P0(n,e,t){let i=!1;return n.between(e,e,(r,s)=>{r==e&&s==t&&(i=!0)}),i}function Au(n,e){return n.field(Di,!1)?e:e.concat(te.appendConfig.of(Zu()))}const Vu=n=>{for(let e of Yu(n)){let t=ls(n.state,e.from,e.to);if(t)return n.dispatch({effects:Au(n.state,[ks.of(t),Mu(n,t)])}),!0}return!1},C0=n=>{if(!n.state.field(Di,!1))return!1;let e=[];for(let t of Yu(n)){let i=as(n.state,t.from,t.to);i&&e.push(nr.of(i),Mu(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function Mu(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,r=n.state.doc.lineAt(e.to).number;return D.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${r}.`)}const T0=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let r=n.lineBlockAt(i),s=ls(e,r.from,r.to);s&&t.push(ks.of(s)),i=(s?n.lineBlockAt(s.to):r).to+1}return t.length&&n.dispatch({effects:Au(n.state,t)}),!!t.length},U0=n=>{let e=n.state.field(Di,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,r)=>{t.push(nr.of({from:i,to:r}))}),n.dispatch({effects:t}),!0},R0=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Vu},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:C0},{key:"Ctrl-Alt-[",run:T0},{key:"Ctrl-Alt-]",run:U0}],W0={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Ll=B.define({combine(n){return Nt(n,W0)}});function Zu(n){let e=[Di,M0];return n&&e.push(Ll.of(n)),e}function zu(n,e){let{state:t}=n,i=t.facet(Ll),r=o=>{let l=n.lineBlockAt(n.posAtDOM(o.target)),h=as(n.state,l.from,l.to);h&&n.dispatch({effects:nr.of(h)}),o.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(n,r,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=r,s}const Gh=H.replace({widget:new class extends Ui{toDOM(n){return zu(n,null)}}});class Y0 extends Ui{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return zu(e,this.value)}}const A0={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class lo extends oi{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function V0(n={}){let e=Object.assign(Object.assign({},A0),n),t=new lo(e,!0),i=new lo(e,!1),r=Te.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Ci)!=o.state.facet(Ci)||o.startState.field(Di,!1)!=o.state.field(Di,!1)||tt(o.startState)!=tt(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let l=new ii;for(let h of o.viewportLineBlocks){let f=as(o.state,h.from,h.to)?i:ls(o.state,h.from,h.to)?t:null;f&&l.add(h.from,h.from,f)}return l.finish()}}),{domEventHandlers:s}=e;return[r,Mm({class:"cm-foldGutter",markers(o){var l;return((l=o.plugin(r))===null||l===void 0?void 0:l.markers)||Oe.empty},initialSpacer(){return new lo(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,l,h)=>{if(s.click&&s.click(o,l,h))return!0;let f=as(o.state,l.from,l.to);if(f)return o.dispatch({effects:nr.of(f)}),!0;let O=ls(o.state,l.from,l.to);return O?(o.dispatch({effects:ks.of(O)}),!0):!1}})}),Zu()]}const M0=D.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class mn{constructor(e,t){this.specs=e;let i;function r(l){let h=$i.newName();return(i||(i=Object.create(null)))["."+h]=l,h}const s=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,o=t.scope;this.scope=o instanceof St?l=>l.prop(Ji)==o.data:o?l=>l==o:void 0,this.style=ku(e.map(l=>({tag:l.tag,class:l.class||r(Object.assign({},l,{tag:null}))})),{all:s}).style,this.module=i?new $i(i):null,this.themeType=t.themeType}static define(e,t){return new mn(e,t||{})}}const ll=B.define(),qu=B.define({combine(n){return n.length?[n[0]]:null}});function ao(n){let e=n.facet(ll);return e.length?e:n.facet(qu)}function El(n,e){let t=[z0],i;return n instanceof mn&&(n.module&&t.push(D.styleModule.of(n.module)),i=n.themeType),e?.fallback?t.push(qu.of(n)):i?t.push(ll.computeN([D.darkTheme],r=>r.facet(D.darkTheme)==(i=="dark")?[n]:[])):t.push(ll.of(n)),t}class Z0{constructor(e){this.markCache=Object.create(null),this.tree=tt(e.state),this.decorations=this.buildDeco(e,ao(e.state))}update(e){let t=tt(e.state),i=ao(e.state),r=i!=ao(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return H.none;let i=new ii;for(let{from:r,to:s}of e.visibleRanges)s0(this.tree,t,(o,l,h)=>{i.add(o,l,this.markCache[h]||(this.markCache[h]=H.mark({class:h})))},r,s);return i.finish()}}const z0=_i.high(Te.fromClass(Z0,{decorations:n=>n.decorations})),q0=mn.define([{tag:Q.meta,color:"#404740"},{tag:Q.link,textDecoration:"underline"},{tag:Q.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Q.emphasis,fontStyle:"italic"},{tag:Q.strong,fontWeight:"bold"},{tag:Q.strikethrough,textDecoration:"line-through"},{tag:Q.keyword,color:"#708"},{tag:[Q.atom,Q.bool,Q.url,Q.contentSeparator,Q.labelName],color:"#219"},{tag:[Q.literal,Q.inserted],color:"#164"},{tag:[Q.string,Q.deleted],color:"#a11"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],color:"#e40"},{tag:Q.definition(Q.variableName),color:"#00f"},{tag:Q.local(Q.variableName),color:"#30a"},{tag:[Q.typeName,Q.namespace],color:"#085"},{tag:Q.className,color:"#167"},{tag:[Q.special(Q.variableName),Q.macroName],color:"#256"},{tag:Q.definition(Q.propertyName),color:"#00c"},{tag:Q.comment,color:"#940"},{tag:Q.invalid,color:"#f00"}]),L0=D.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Lu=1e4,Eu="()[]{}",ju=B.define({combine(n){return Nt(n,{afterCursor:!0,brackets:Eu,maxScanDistance:Lu,renderMatch:D0})}}),E0=H.mark({class:"cm-matchingBracket"}),j0=H.mark({class:"cm-nonmatchingBracket"});function D0(n){let e=[],t=n.matched?E0:j0;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const _0=Le.define({create(){return H.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(ju);for(let r of e.state.selection.ranges){if(!r.empty)continue;let s=wt(e.state,r.head,-1,i)||r.head>0&&wt(e.state,r.head-1,1,i)||i.afterCursor&&(wt(e.state,r.head,1,i)||r.head<e.state.doc.length&&wt(e.state,r.head+1,-1,i));s&&(t=t.concat(i.renderMatch(s,e.state)))}return H.set(t,!0)},provide:n=>D.decorations.from(n)}),B0=[_0,L0];function I0(n={}){return[ju.of(n),B0]}const N0=new se;function al(n,e,t){let i=n.prop(e<0?se.openedBy:se.closedBy);if(i)return i;if(n.name.length==1){let r=t.indexOf(n.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function hl(n){let e=n.type.prop(N0);return e?e(n.node):n}function wt(n,e,t,i={}){let r=i.maxScanDistance||Lu,s=i.brackets||Eu,o=tt(n),l=o.resolveInner(e,t);for(let h=l;h;h=h.parent){let f=al(h.type,t,s);if(f&&h.from<h.to){let O=hl(h);if(O&&(t>0?e>=O.from&&e<O.to:e>O.from&&e<=O.to))return G0(n,e,t,h,O,f,s)}}return F0(n,e,t,o,l.type,r,s)}function G0(n,e,t,i,r,s,o){let l=i.parent,h={from:r.from,to:r.to},f=0,O=l?.cursor();if(O&&(t<0?O.childBefore(i.from):O.childAfter(i.to)))do if(t<0?O.to<=i.from:O.from>=i.to){if(f==0&&s.indexOf(O.type.name)>-1&&O.from<O.to){let p=hl(O);return{start:h,end:p?{from:p.from,to:p.to}:void 0,matched:!0}}else if(al(O.type,t,o))f++;else if(al(O.type,-t,o)){if(f==0){let p=hl(O);return{start:h,end:p&&p.from<p.to?{from:p.from,to:p.to}:void 0,matched:!1}}f--}}while(t<0?O.prevSibling():O.nextSibling());return{start:h,matched:!1}}function F0(n,e,t,i,r,s,o){let l=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),h=o.indexOf(l);if(h<0||h%2==0!=t>0)return null;let f={from:t<0?e-1:e,to:t>0?e+1:e},O=n.doc.iterRange(e,t>0?n.doc.length:0),p=0;for(let v=0;!O.next().done&&v<=s;){let y=O.value;t<0&&(v+=y.length);let w=e+v*t;for(let X=t>0?0:y.length-1,P=t>0?y.length:-1;X!=P;X+=t){let U=o.indexOf(y[X]);if(!(U<0||i.resolveInner(w+X,1).type!=r))if(U%2==0==t>0)p++;else{if(p==1)return{start:f,end:{from:w+X,to:w+X+1},matched:U>>1==h>>1};p--}}t>0&&(v+=y.length)}return O.done?{start:f,matched:!1}:null}function Fh(n,e,t,i=0,r=0){e==null&&(e=n.search(/[^\s\u00a0]/),e==-1&&(e=n.length));let s=r;for(let o=i;o<e;o++)n.charCodeAt(o)==9?s+=t-s%t:s++;return s}class H0{constructor(e,t,i,r){this.string=e,this.tabSize=t,this.indentUnit=i,this.overrideIndent=r,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t=this.string.charAt(this.pos),i;if(typeof e=="string"?i=t==e:i=t&&(e instanceof RegExp?e.test(t):e(t)),i)return++this.pos,t}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Fh(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:Fh(this.string,null,this.tabSize)}match(e,t,i){if(typeof e=="string"){let r=o=>i?o.toLowerCase():o,s=this.string.substr(this.pos,e.length);return r(s)==r(e)?(t!==!1&&(this.pos+=e.length),!0):null}else{let r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}}current(){return this.string.slice(this.start,this.pos)}}const K0=Object.create(null),Hh=[ft.none],Kh=[],Jh=Object.create(null),J0=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])J0[n]=ev(K0,e);function ho(n,e){Kh.indexOf(n)>-1||(Kh.push(n),console.warn(e))}function ev(n,e){let t=[];for(let l of e.split(" ")){let h=[];for(let f of l.split(".")){let O=n[f]||Q[f];O?typeof O=="function"?h.length?h=h.map(O):ho(f,`Modifier ${f} used at start of tag`):h.length?ho(f,`Tag ${f} used as modifier`):h=Array.isArray(O)?O:[O]:ho(f,`Unknown highlighting tag ${f}`)}for(let f of h)t.push(f)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+t.map(l=>l.id),s=Jh[r];if(s)return s.id;let o=Jh[r]=ft.define({id:Hh.length,name:i,props:[Qu({[i]:t})]});return Hh.push(o),o.id}const tv=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=Dl(n.state,t.from);return i.line?iv(n):i.block?rv(n):!1};function jl(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=n(e,t);return r?(i(t.update(r)),!0):!1}}const iv=jl(lv,0),nv=jl(Du,0),rv=jl((n,e)=>Du(n,e,ov(e)),0);function Dl(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Pn=50;function sv(n,{open:e,close:t},i,r){let s=n.sliceDoc(i-Pn,i),o=n.sliceDoc(r,r+Pn),l=/\s*$/.exec(s)[0].length,h=/^\s*/.exec(o)[0].length,f=s.length-l;if(s.slice(f-e.length,f)==e&&o.slice(h,h+t.length)==t)return{open:{pos:i-l,margin:l&&1},close:{pos:r+h,margin:h&&1}};let O,p;r-i<=2*Pn?O=p=n.sliceDoc(i,r):(O=n.sliceDoc(i,i+Pn),p=n.sliceDoc(r-Pn,r));let v=/^\s*/.exec(O)[0].length,y=/\s*$/.exec(p)[0].length,w=p.length-y-t.length;return O.slice(v,v+e.length)==e&&p.slice(w,w+t.length)==t?{open:{pos:i+v+e.length,margin:/\s/.test(O.charAt(v+e.length))?1:0},close:{pos:r-y-t.length,margin:/\s/.test(p.charAt(w-1))?1:0}}:null}function ov(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),r=t.to<=i.to?i:n.doc.lineAt(t.to),s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function Du(n,e,t=e.selection.ranges){let i=t.map(s=>Dl(e,s.from).block);if(!i.every(s=>s))return null;let r=t.map((s,o)=>sv(e,i[o],s.from,s.to));if(n!=2&&!r.every(s=>s))return{changes:e.changes(t.map((s,o)=>r[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(n!=1&&r.some(s=>s)){let s=[];for(let o=0,l;o<r.length;o++)if(l=r[o]){let h=i[o],{open:f,close:O}=l;s.push({from:f.pos-h.open.length,to:f.pos+f.margin},{from:O.pos-O.margin,to:O.pos+h.close.length})}return{changes:s}}return null}function lv(n,e,t=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:o}of t){let l=i.length,h=1e9,f=Dl(e,s).line;if(f){for(let O=s;O<=o;){let p=e.doc.lineAt(O);if(p.from>r&&(s==o||o>p.from)){r=p.from;let v=/^\s*/.exec(p.text)[0].length,y=v==p.length,w=p.text.slice(v,v+f.length)==f?v:-1;v<p.text.length&&v<h&&(h=v),i.push({line:p,comment:w,token:f,indent:v,empty:y,single:!1})}O=p.to+1}if(h<1e9)for(let O=l;O<i.length;O++)i[O].indent<i[O].line.text.length&&(i[O].indent=h);i.length==l+1&&(i[l].single=!0)}}if(n!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:l,token:h,indent:f,empty:O,single:p}of i)(p||!O)&&s.push({from:l.from+f,insert:h+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:l,token:h}of i)if(l>=0){let f=o.from+l,O=f+h.length;o.text[O-o.from]==" "&&O++,s.push({from:f,to:O})}return{changes:s}}return null}const cl=li.define(),av=li.define(),hv=B.define(),_u=B.define({combine(n){return Nt(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,r)=>e(i,r)||t(i,r)})}}),Bu=Le.define({create(){return Bt.empty},update(n,e){let t=e.state.facet(_u),i=e.annotation(cl);if(i){let h=ct.fromTransaction(e,i.selection),f=i.side,O=f==0?n.undone:n.done;return h?O=cs(O,O.length,t.minDepth,h):O=Nu(O,e.startState.selection),new Bt(f==0?i.rest:O,f==0?O:i.rest)}let r=e.annotation(av);if((r=="full"||r=="before")&&(n=n.isolate()),e.annotation(Ze.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=ct.fromTransaction(e),o=e.annotation(Ze.time),l=e.annotation(Ze.userEvent);return s?n=n.addChanges(s,o,l,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,l,t.newGroupDelay)),(r=="full"||r=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new Bt(n.done.map(ct.fromJSON),n.undone.map(ct.fromJSON))}});function cv(n={}){return[Bu,_u.of(n),D.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?_l:e.inputType=="historyRedo"?hs:null;return i?(e.preventDefault(),i(t)):!1}})]}function Xs(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let r=t.field(Bu,!1);if(!r)return!1;let s=r.pop(n,t,e);return s?(i(s),!0):!1}}const _l=Xs(0,!1),hs=Xs(1,!1),fv=Xs(0,!0),uv=Xs(1,!0);class ct{constructor(e,t,i,r,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new ct(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new ct(e.changes&&Me.fromJSON(e.changes),[],e.mapped&&It.fromJSON(e.mapped),e.startSelection&&Y.fromJSON(e.startSelection),e.selectionsAfter.map(Y.fromJSON))}static fromTransaction(e,t){let i=Qt;for(let r of e.startState.facet(hv)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new ct(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,Qt)}static selection(e){return new ct(void 0,Qt,void 0,void 0,e)}}function cs(n,e,t,i){let r=e+1>t+20?e-t-1:0,s=n.slice(r,e);return s.push(i),s}function Ov(n,e){let t=[],i=!1;return n.iterChangedRanges((r,s)=>t.push(r,s)),e.iterChangedRanges((r,s,o,l)=>{for(let h=0;h<t.length;){let f=t[h++],O=t[h++];l>=f&&o<=O&&(i=!0)}}),i}function dv(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function Iu(n,e){return n.length?e.length?n.concat(e):n:e}const Qt=[],pv=200;function Nu(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-pv));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),cs(n,n.length-1,1e9,t.setSelAfter(i)))}else return[ct.selection([e])]}function gv(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function co(n,e){if(!n.length)return n;let t=n.length,i=Qt;for(;t;){let r=mv(n[t-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=n.slice(0,t);return s[t-1]=r,s}else e=r.mapped,t--,i=r.selectionsAfter}return i.length?[ct.selection(i)]:Qt}function mv(n,e,t){let i=Iu(n.selectionsAfter.length?n.selectionsAfter.map(l=>l.map(e)):Qt,t);if(!n.changes)return ct.selection(i);let r=n.changes.map(e),s=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(s):s;return new ct(r,te.mapEffects(n.effects,e),o,n.startSelection.map(s),i)}const vv=/^(input\.type|delete)($|\.)/;class Bt{constructor(e,t,i=0,r=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new Bt(this.done,this.undone):this}addChanges(e,t,i,r,s){let o=this.done,l=o[o.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!i||vv.test(i))&&(!l.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,Ov(l.changes,e.changes))||i=="input.type.compose")?o=cs(o,o.length-1,r.minDepth,new ct(e.changes.compose(l.changes),Iu(e.effects,l.effects),l.mapped,l.startSelection,Qt)):o=cs(o,o.length,r.minDepth,e),new Bt(o,Qt,t,i)}addSelection(e,t,i,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Qt;return s.length>0&&t-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&dv(s[s.length-1],e)?this:new Bt(Nu(this.done,e),this.undone,t,i)}addMapping(e){return new Bt(co(this.done,e),co(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1],o=s.selectionsAfter[0]||t.selection;if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:cl.of({side:e,rest:gv(r),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let l=r.length==1?Qt:r.slice(0,r.length-1);return s.mapped&&(l=co(l,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:cl.of({side:e,rest:l,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Bt.empty=new Bt(Qt,Qt);const yv=[{key:"Mod-z",run:_l,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:hs,preventDefault:!0},{linux:"Ctrl-Shift-z",run:hs,preventDefault:!0},{key:"Mod-u",run:fv,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:uv,preventDefault:!0}];function vn(n,e){return Y.create(n.ranges.map(e),n.mainIndex)}function Gt(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Yt({state:n,dispatch:e},t){let i=vn(n.selection,t);return i.eq(n.selection)?!1:(e(Gt(n,i)),!0)}function Ps(n,e){return Y.cursor(e?n.to:n.from)}function Bl(n,e){return Yt(n,t=>t.empty?n.moveByChar(t,e):Ps(t,e))}function it(n){return n.textDirectionAt(n.state.selection.main.head)==Qe.LTR}const Il=n=>Bl(n,!it(n)),Gu=n=>Bl(n,it(n)),xv=n=>Bl(n,!1);function Fu(n,e){return Yt(n,t=>t.empty?n.moveByGroup(t,e):Ps(t,e))}const bv=n=>Fu(n,!it(n)),Sv=n=>Fu(n,it(n));function wv(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Cs(n,e,t){let i=tt(n).resolveInner(e.head),r=t?se.closedBy:se.openedBy;for(let h=e.head;;){let f=t?i.childAfter(h):i.childBefore(h);if(!f)break;wv(n,f,r)?i=f:h=t?f.to:f.from}let s=i.type.prop(r),o,l;return s&&(o=t?wt(n,i.from,1):wt(n,i.to,-1))&&o.matched?l=t?o.end.to:o.end.from:l=t?i.to:i.from,Y.cursor(l,t?-1:1)}const Qv=n=>Yt(n,e=>Cs(n.state,e,!it(n))),$v=n=>Yt(n,e=>Cs(n.state,e,it(n)));function Hu(n,e){return Yt(n,t=>{if(!t.empty)return Ps(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const Ku=n=>Hu(n,!1),Ju=n=>Hu(n,!0);function eO(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,r;if(e){for(let s of n.state.facet(D.scrollMargins)){let o=s(n);o?.top&&(t=Math.max(o?.top,t)),o?.bottom&&(i=Math.max(o?.bottom,i))}r=n.scrollDOM.clientHeight-t-i}else r=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,r-5)}}function tO(n,e){let t=eO(n),{state:i}=n,r=vn(i.selection,o=>o.empty?n.moveVertically(o,e,t.height):Ps(o,e));if(r.eq(i.selection))return!1;let s;if(t.selfScroll){let o=n.coordsAtPos(i.selection.main.head),l=n.scrollDOM.getBoundingClientRect(),h=l.top+t.marginTop,f=l.bottom-t.marginBottom;o&&o.top>h&&o.bottom<f&&(s=D.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-h}))}return n.dispatch(Gt(i,r),{effects:s}),!0}const ec=n=>tO(n,!1),fl=n=>tO(n,!0);function Ri(n,e,t){let i=n.lineBlockAt(e.head),r=n.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?i.to:i.from)&&(r=n.moveToLineBoundary(e,t,!1)),!t&&r.head==i.from&&i.length){let s=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=Y.cursor(i.from+s))}return r}const iO=n=>Yt(n,e=>Ri(n,e,!0)),nO=n=>Yt(n,e=>Ri(n,e,!1)),kv=n=>Yt(n,e=>Ri(n,e,!it(n))),Xv=n=>Yt(n,e=>Ri(n,e,it(n))),Pv=n=>Yt(n,e=>Y.cursor(n.lineBlockAt(e.head).from,1)),Cv=n=>Yt(n,e=>Y.cursor(n.lineBlockAt(e.head).to,-1));function Tv(n,e,t){let i=!1,r=vn(n.selection,s=>{let o=wt(n,s.head,-1)||wt(n,s.head,1)||s.head>0&&wt(n,s.head-1,1)||s.head<n.doc.length&&wt(n,s.head+1,-1);if(!o||!o.end)return s;i=!0;let l=o.start.from==s.head?o.end.to:o.end.from;return t?Y.range(s.anchor,l):Y.cursor(l)});return i?(e(Gt(n,r)),!0):!1}const Uv=({state:n,dispatch:e})=>Tv(n,e,!1);function Pt(n,e){let t=vn(n.state.selection,i=>{let r=e(i);return Y.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Gt(n.state,t)),!0)}function rO(n,e){return Pt(n,t=>n.moveByChar(t,e))}const sO=n=>rO(n,!it(n)),oO=n=>rO(n,it(n));function lO(n,e){return Pt(n,t=>n.moveByGroup(t,e))}const Rv=n=>lO(n,!it(n)),Wv=n=>lO(n,it(n)),Yv=n=>Pt(n,e=>Cs(n.state,e,!it(n))),Av=n=>Pt(n,e=>Cs(n.state,e,it(n)));function aO(n,e){return Pt(n,t=>n.moveVertically(t,e))}const hO=n=>aO(n,!1),cO=n=>aO(n,!0);function fO(n,e){return Pt(n,t=>n.moveVertically(t,e,eO(n).height))}const tc=n=>fO(n,!1),ic=n=>fO(n,!0),Vv=n=>Pt(n,e=>Ri(n,e,!0)),Mv=n=>Pt(n,e=>Ri(n,e,!1)),Zv=n=>Pt(n,e=>Ri(n,e,!it(n))),zv=n=>Pt(n,e=>Ri(n,e,it(n))),qv=n=>Pt(n,e=>Y.cursor(n.lineBlockAt(e.head).from)),Lv=n=>Pt(n,e=>Y.cursor(n.lineBlockAt(e.head).to)),nc=({state:n,dispatch:e})=>(e(Gt(n,{anchor:0})),!0),rc=({state:n,dispatch:e})=>(e(Gt(n,{anchor:n.doc.length})),!0),sc=({state:n,dispatch:e})=>(e(Gt(n,{anchor:n.selection.main.anchor,head:0})),!0),oc=({state:n,dispatch:e})=>(e(Gt(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),Ev=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),jv=({state:n,dispatch:e})=>{let t=Ts(n).map(({from:i,to:r})=>Y.range(i,Math.min(r+1,n.doc.length)));return e(n.update({selection:Y.create(t),userEvent:"select"})),!0},Dv=({state:n,dispatch:e})=>{let t=vn(n.selection,i=>{var r;let s=tt(n).resolveStack(i.from,1);for(let o=s;o;o=o.next){let{node:l}=o;if((l.from<i.from&&l.to>=i.to||l.to>i.to&&l.from<=i.from)&&(!((r=l.parent)===null||r===void 0)&&r.parent))return Y.range(l.to,l.from)}return i});return e(Gt(n,t)),!0},_v=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=Y.create([t.main]):t.main.empty||(i=Y.create([Y.cursor(t.main.head)])),i?(e(Gt(n,i)),!0):!1};function rr(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,r=i.changeByRange(s=>{let{from:o,to:l}=s;if(o==l){let h=e(s);h<o?(t="delete.backward",h=Tr(n,h,!1)):h>o&&(t="delete.forward",h=Tr(n,h,!0)),o=Math.min(o,h),l=Math.max(l,h)}else o=Tr(n,o,!1),l=Tr(n,l,!0);return o==l?{range:s}:{changes:{from:o,to:l},range:Y.cursor(o,o<s.head?-1:1)}});return r.changes.empty?!1:(n.dispatch(i.update(r,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?D.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Tr(n,e,t){if(n instanceof D)for(let i of n.state.facet(D.atomicRanges).map(r=>r(n)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=t?s:r)});return e}const uO=(n,e)=>rr(n,t=>{let i=t.from,{state:r}=n,s=r.doc.lineAt(i),o,l;if(!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(o=s.text.slice(0,i-s.from))){if(o[o.length-1]=="	")return i-1;let h=gn(o,r.tabSize),f=h%os(r)||os(r);for(let O=0;O<f&&o[o.length-1-O]==" ";O++)i--;l=i}else l=Ge(s.text,i-s.from,e,e)+s.from,l==i&&s.number!=(e?r.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(l-s.from,i-s.from))&&(l=Ge(s.text,l-s.from,!1,!1)+s.from);return l}),ul=n=>uO(n,!1),OO=n=>uO(n,!0),dO=(n,e)=>rr(n,t=>{let i=t.head,{state:r}=n,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let l=null;;){if(i==(e?s.to:s.from)){i==t.head&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let h=Ge(s.text,i-s.from,e)+s.from,f=s.text.slice(Math.min(i,h)-s.from,Math.max(i,h)-s.from),O=o(f);if(l!=null&&O!=l)break;(f!=" "||i!=t.head)&&(l=O),i=h}return i}),pO=n=>dO(n,!1),Bv=n=>dO(n,!0),Iv=n=>rr(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),Nv=n=>rr(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),Gv=n=>rr(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),Fv=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:ce.of(["",""])},range:Y.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},Hv=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let r=i.from,s=n.doc.lineAt(r),o=r==s.from?r-1:Ge(s.text,r-s.from,!1)+s.from,l=r==s.to?r+1:Ge(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:l,insert:n.doc.slice(r,l).append(n.doc.slice(o,r))},range:Y.cursor(l)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Ts(n){let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),s=n.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=n.doc.lineAt(i.to-1)),t>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});t=s.number+1}return e}function gO(n,e,t){if(n.readOnly)return!1;let i=[],r=[];for(let s of Ts(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),l=o.length+1;if(t){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let h of s.ranges)r.push(Y.range(Math.min(n.doc.length,h.anchor+l),Math.min(n.doc.length,h.head+l)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let h of s.ranges)r.push(Y.range(h.anchor-l,h.head-l))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:Y.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Kv=({state:n,dispatch:e})=>gO(n,e,!1),Jv=({state:n,dispatch:e})=>gO(n,e,!0);function mO(n,e,t){if(n.readOnly)return!1;let i=[];for(let r of Ts(n))t?i.push({from:r.from,insert:n.doc.slice(r.from,r.to)+n.lineBreak}):i.push({from:r.to,insert:n.lineBreak+n.doc.slice(r.from,r.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const ey=({state:n,dispatch:e})=>mO(n,e,!1),ty=({state:n,dispatch:e})=>mO(n,e,!0),iy=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Ts(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=vn(e.selection,r=>n.moveVertically(r,!0)).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function ny(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=tt(n).resolveInner(e),i=t.childBefore(e),r=t.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(se.closedBy))&&s.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from&&!/\S/.test(n.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const vO=yO(!1),ry=yO(!0);function yO(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:o}=r,l=e.doc.lineAt(s),h=!n&&s==o&&ny(e,s);n&&(s=o=(o<=l.to?l:e.doc.lineAt(o)).to);let f=new $s(e,{simulateBreak:s,simulateDoubleBreak:!!h}),O=zl(f,s);for(O==null&&(O=gn(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<l.to&&/\s/.test(l.text[o-l.from]);)o++;h?{from:s,to:o}=h:s>l.from&&s<l.from+100&&!/\S/.test(l.text.slice(0,s))&&(s=l.from);let p=["",Hn(e,O)];return h&&p.push(Hn(e,f.lineIndent(l.from,-1))),{changes:{from:s,to:o,insert:ce.of(p)},range:Y.cursor(s+1+p[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Nl(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let o=i.from;o<=i.to;){let l=n.doc.lineAt(o);l.number>t&&(i.empty||i.to>l.from)&&(e(l,r,i),t=l.number),o=l.to+1}let s=n.changes(r);return{changes:r,range:Y.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const xO=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new $s(n,{overrideIndentation:s=>{let o=t[s];return o??-1}}),r=Nl(n,(s,o,l)=>{let h=zl(i,s.from);if(h==null)return;/\S/.test(s.text)||(h=0);let f=/^\s*/.exec(s.text)[0],O=Hn(n,h);(f!=O||l.from<s.from+f.length)&&(t[s.from]=h,o.push({from:s.from,to:s.from+f.length,insert:O}))});return r.changes.empty||e(n.update(r,{userEvent:"indent"})),!0},bO=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Nl(n,(t,i)=>{i.push({from:t.from,insert:n.facet(Fn)})}),{userEvent:"input.indent"})),!0),SO=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Nl(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let s=gn(r,n.tabSize),o=0,l=Hn(n,Math.max(0,s-os(n)));for(;o<r.length&&o<l.length&&r.charCodeAt(o)==l.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+r.length,insert:l.slice(o)})}),{userEvent:"delete.dedent"})),!0),sy=[{key:"Ctrl-b",run:Il,shift:sO,preventDefault:!0},{key:"Ctrl-f",run:Gu,shift:oO},{key:"Ctrl-p",run:Ku,shift:hO},{key:"Ctrl-n",run:Ju,shift:cO},{key:"Ctrl-a",run:Pv,shift:qv},{key:"Ctrl-e",run:Cv,shift:Lv},{key:"Ctrl-d",run:OO},{key:"Ctrl-h",run:ul},{key:"Ctrl-k",run:Iv},{key:"Ctrl-Alt-h",run:pO},{key:"Ctrl-o",run:Fv},{key:"Ctrl-t",run:Hv},{key:"Ctrl-v",run:fl}],oy=[{key:"ArrowLeft",run:Il,shift:sO,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:bv,shift:Rv,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:kv,shift:Zv,preventDefault:!0},{key:"ArrowRight",run:Gu,shift:oO,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Sv,shift:Wv,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Xv,shift:zv,preventDefault:!0},{key:"ArrowUp",run:Ku,shift:hO,preventDefault:!0},{mac:"Cmd-ArrowUp",run:nc,shift:sc},{mac:"Ctrl-ArrowUp",run:ec,shift:tc},{key:"ArrowDown",run:Ju,shift:cO,preventDefault:!0},{mac:"Cmd-ArrowDown",run:rc,shift:oc},{mac:"Ctrl-ArrowDown",run:fl,shift:ic},{key:"PageUp",run:ec,shift:tc},{key:"PageDown",run:fl,shift:ic},{key:"Home",run:nO,shift:Mv,preventDefault:!0},{key:"Mod-Home",run:nc,shift:sc},{key:"End",run:iO,shift:Vv,preventDefault:!0},{key:"Mod-End",run:rc,shift:oc},{key:"Enter",run:vO},{key:"Mod-a",run:Ev},{key:"Backspace",run:ul,shift:ul},{key:"Delete",run:OO},{key:"Mod-Backspace",mac:"Alt-Backspace",run:pO},{key:"Mod-Delete",mac:"Alt-Delete",run:Bv},{mac:"Mod-Backspace",run:Nv},{mac:"Mod-Delete",run:Gv}].concat(sy.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),ly=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Qv,shift:Yv},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:$v,shift:Av},{key:"Alt-ArrowUp",run:Kv},{key:"Shift-Alt-ArrowUp",run:ey},{key:"Alt-ArrowDown",run:Jv},{key:"Shift-Alt-ArrowDown",run:ty},{key:"Escape",run:_v},{key:"Mod-Enter",run:ry},{key:"Alt-l",mac:"Ctrl-l",run:jv},{key:"Mod-i",run:Dv,preventDefault:!0},{key:"Mod-[",run:SO},{key:"Mod-]",run:bO},{key:"Mod-Alt-\\",run:xO},{key:"Shift-Mod-k",run:iy},{key:"Shift-Mod-\\",run:Uv},{key:"Mod-/",run:tv},{key:"Alt-A",run:nv}].concat(oy);function ye(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];typeof r=="string"?n.setAttribute(i,r):r!=null&&(n[i]=r)}e++}for(;e<arguments.length;e++)wO(n,arguments[e]);return n}function wO(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)wO(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const lc=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class On{constructor(e,t,i=0,r=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=s?l=>s(lc(l)):lc,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Be(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Sl(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=bt(e);let r=this.normalize(t);for(let s=0,o=i;;s++){let l=r.charCodeAt(s),h=this.match(l,o);if(s==r.length-1){if(h)return this.value=h,this;break}o==i&&s<t.length&&t.charCodeAt(s)==l&&o++}}}match(e,t){let i=null;for(let r=0;r<this.matches.length;r+=2){let s=this.matches[r],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[r+1],to:t+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:t+1}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(On.prototype[Symbol.iterator]=function(){return this});const QO={from:-1,to:-1,match:/.*/.exec("")},Gl="gm"+(/x/.unicode==null?"":"u");class Fl{constructor(e,t,i,r=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=QO,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new $O(e,t,i,r,s);this.re=new RegExp(t,Gl+(i?.ignoreCase?"i":"")),this.test=i?.test,this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=fs(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,r=i+t[0].length;if(this.matchPos=fs(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const fo=new WeakMap;class ln{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let r=fo.get(e);if(!r||r.from>=i||r.to<=t){let l=new ln(t,e.sliceString(t,i));return fo.set(e,l),l}if(r.from==t&&r.to==i)return r;let{text:s,from:o}=r;return o>t&&(s=e.sliceString(t,o)+s,o=t),r.to<i&&(s+=e.sliceString(r.to,i)),fo.set(e,new ln(o,s)),new ln(t,s.slice(t-o,i-o))}}class $O{constructor(e,t,i,r,s){this.text=e,this.to=s,this.done=!1,this.value=QO,this.matchPos=fs(e,r),this.re=new RegExp(t,Gl+(i?.ignoreCase?"i":"")),this.test=i?.test,this.flat=ln.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,r=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this.matchPos=fs(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=ln.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Fl.prototype[Symbol.iterator]=$O.prototype[Symbol.iterator]=function(){return this});function ay(n){try{return new RegExp(n,Gl),!0}catch{return!1}}function fs(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function Ol(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=ye("input",{class:"cm-textfield",name:"line",value:e}),i=ye("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),n.dispatch({effects:us.of(!1)}),n.focus()):s.keyCode==13&&(s.preventDefault(),r())},onsubmit:s=>{s.preventDefault(),r()}},ye("label",n.state.phrase("Go to line"),": ",t)," ",ye("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function r(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:o}=n,l=o.doc.lineAt(o.selection.main.head),[,h,f,O,p]=s,v=O?+O.slice(1):0,y=f?+f:l.number;if(f&&p){let P=y/100;h&&(P=P*(h=="-"?-1:1)+l.number/o.doc.lines),y=Math.round(o.doc.lines*P)}else f&&h&&(y=y*(h=="-"?-1:1)+l.number);let w=o.doc.line(Math.max(1,Math.min(o.doc.lines,y))),X=Y.cursor(w.from+Math.max(0,Math.min(v,w.length)));n.dispatch({effects:[us.of(!1),D.scrollIntoView(X.from,{y:"center"})],selection:X}),n.focus()}return{dom:i}}const us=te.define(),ac=Le.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(us)&&(n=t.value);return n},provide:n=>ji.from(n,e=>e?Ol:null)}),hy=n=>{let e=Nn(n,Ol);if(!e){let t=[us.of(!0)];n.state.field(ac,!1)==null&&t.push(te.appendConfig.of([ac,cy])),n.dispatch({effects:t}),e=Nn(n,Ol)}return e&&e.dom.querySelector("input").select(),!0},cy=D.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),fy={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},kO=B.define({combine(n){return Nt(n,fy,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function uy(n){let e=[my,gy];return n&&e.push(kO.of(n)),e}const Oy=H.mark({class:"cm-selectionMatch"}),dy=H.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function hc(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=we.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=we.Word)}function py(n,e,t,i){return n(e.sliceDoc(t,t+1))==we.Word&&n(e.sliceDoc(i-1,i))==we.Word}const gy=Te.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(kO),{state:t}=n,i=t.selection;if(i.ranges.length>1)return H.none;let r=i.main,s,o=null;if(r.empty){if(!e.highlightWordAroundCursor)return H.none;let h=t.wordAt(r.head);if(!h)return H.none;o=t.charCategorizer(r.head),s=t.sliceDoc(h.from,h.to)}else{let h=r.to-r.from;if(h<e.minSelectionLength||h>200)return H.none;if(e.wholeWords){if(s=t.sliceDoc(r.from,r.to),o=t.charCategorizer(r.head),!(hc(o,t,r.from,r.to)&&py(o,t,r.from,r.to)))return H.none}else if(s=t.sliceDoc(r.from,r.to).trim(),!s)return H.none}let l=[];for(let h of n.visibleRanges){let f=new On(t.doc,s,h.from,h.to);for(;!f.next().done;){let{from:O,to:p}=f.value;if((!o||hc(o,t,O,p))&&(r.empty&&O<=r.from&&p>=r.to?l.push(dy.range(O,p)):(O>=r.to||p<=r.from)&&l.push(Oy.range(O,p)),l.length>e.maxMatches))return H.none}}return H.set(l)}},{decorations:n=>n.decorations}),my=D.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),vy=({state:n,dispatch:e})=>{let{selection:t}=n,i=Y.create(t.ranges.map(r=>n.wordAt(r.head)||Y.cursor(r.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function yy(n,e){let{main:t,ranges:i}=n.selection,r=n.wordAt(t.head),s=r&&r.from==t.from&&r.to==t.to;for(let o=!1,l=new On(n.doc,e,i[i.length-1].to);;)if(l.next(),l.done){if(o)return null;l=new On(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}else{if(o&&i.some(h=>h.from==l.value.from))continue;if(s){let h=n.wordAt(l.value.from);if(!h||h.from!=l.value.from||h.to!=l.value.to)continue}return l.value}}const xy=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return vy({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=i))return!1;let r=yy(n,i);return r?(e(n.update({selection:n.selection.addRange(Y.range(r.from,r.to),!1),effects:D.scrollIntoView(r.to)})),!0):!1},yn=B.define({combine(n){return Nt(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Ry(e),scrollToMatch:e=>D.scrollIntoView(e)})}});class Hl{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||ay(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Qy(this):new Sy(this)}getCursor(e,t=0,i){let r=e.doc?e:he.create({doc:e});return i==null&&(i=r.doc.length),this.regexp?Hi(this,r,t,i):Fi(this,r,t,i)}}class XO{constructor(e){this.spec=e}}function Fi(n,e,t,i){return new On(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:r=>r.toLowerCase(),n.wholeWord?by(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function by(n,e){return(t,i,r,s)=>((s>t||s+r.length<i)&&(s=Math.max(0,t-2),r=n.sliceString(s,Math.min(n.length,i+2))),(e(Os(r,t-s))!=we.Word||e(ds(r,t-s))!=we.Word)&&(e(ds(r,i-s))!=we.Word||e(Os(r,i-s))!=we.Word))}class Sy extends XO{constructor(e){super(e)}nextMatch(e,t,i){let r=Fi(this.spec,e,i,e.doc.length).nextOverlapping();return r.done&&(r=Fi(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=i;;){let s=Math.max(t,r-1e4-this.spec.unquoted.length),o=Fi(this.spec,e,s,r),l=null;for(;!o.nextOverlapping().done;)l=o.value;if(l)return l;if(s==t)return null;r-=1e4}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=Fi(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=Fi(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function Hi(n,e,t,i){return new Fl(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?wy(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function Os(n,e){return n.slice(Ge(n,e,!1),e)}function ds(n,e){return n.slice(e,Ge(n,e))}function wy(n){return(e,t,i)=>!i[0].length||(n(Os(i.input,i.index))!=we.Word||n(ds(i.input,i.index))!=we.Word)&&(n(ds(i.input,i.index+i[0].length))!=we.Word||n(Os(i.input,i.index+i[0].length))!=we.Word)}class Qy extends XO{nextMatch(e,t,i){let r=Hi(this.spec,e,i,e.doc.length).next();return r.done&&(r=Hi(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=1;;r++){let s=Math.max(t,i-r*1e4),o=Hi(this.spec,e,s,i),l=null;for(;!o.next().done;)l=o.value;if(l&&(s==t||l.from>s+10))return l;if(s==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(t,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:t)}matchAll(e,t){let i=Hi(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=Hi(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const Ti=te.define(),Kl=te.define(),wi=Le.define({create(n){return new uo(dl(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Ti)?n=new uo(t.value.create(),n.panel):t.is(Kl)&&(n=new uo(n.query,t.value?Jl:null));return n},provide:n=>ji.from(n,e=>e.panel)});class uo{constructor(e,t){this.query=e,this.panel=t}}const $y=H.mark({class:"cm-searchMatch"}),ky=H.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Xy=Te.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(wi))}update(n){let e=n.state.field(wi);(e!=n.startState.field(wi)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return H.none;let{view:t}=this,i=new ii;for(let r=0,s=t.visibleRanges,o=s.length;r<o;r++){let{from:l,to:h}=s[r];for(;r<o-1&&h>s[r+1].from-2*250;)h=s[++r].to;n.highlight(t.state,l,h,(f,O)=>{let p=t.state.selection.ranges.some(v=>v.from==f&&v.to==O);i.add(f,O,p?ky:$y)})}return i.finish()}},{decorations:n=>n.decorations});function sr(n){return e=>{let t=e.state.field(wi,!1);return t&&t.query.spec.valid?n(e,t):TO(e)}}const ps=sr((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let r=Y.single(i.from,i.to),s=n.state.facet(yn);return n.dispatch({selection:r,effects:[ea(n,i),s.scrollToMatch(r.main,n)],userEvent:"select.search"}),CO(n),!0}),gs=sr((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,r=e.prevMatch(t,i,i);if(!r)return!1;let s=Y.single(r.from,r.to),o=n.state.facet(yn);return n.dispatch({selection:s,effects:[ea(n,r),o.scrollToMatch(s.main,n)],userEvent:"select.search"}),CO(n),!0}),Py=sr((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:Y.create(t.map(i=>Y.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),Cy=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:r}=t.main,s=[],o=0;for(let l=new On(n.doc,n.sliceDoc(i,r));!l.next().done;){if(s.length>1e3)return!1;l.value.from==i&&(o=s.length),s.push(Y.range(l.value.from,l.value.to))}return e(n.update({selection:Y.create(s,o),userEvent:"select.search.matches"})),!0},cc=sr((n,{query:e})=>{let{state:t}=n,{from:i,to:r}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,i,i);if(!s)return!1;let o=[],l,h,f=[];if(s.from==i&&s.to==r&&(h=t.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:h}),s=e.nextMatch(t,s.from,s.to),f.push(D.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+"."))),s){let O=o.length==0||o[0].from>=s.to?0:s.to-s.from-h.length;l=Y.single(s.from-O,s.to-O),f.push(ea(n,s)),f.push(t.facet(yn).scrollToMatch(l.main,n))}return n.dispatch({changes:o,selection:l,effects:f,userEvent:"input.replace"}),!0}),Ty=sr((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(r=>{let{from:s,to:o}=r;return{from:s,to:o,insert:e.getReplacement(r)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:D.announce.of(i),userEvent:"input.replace.all"}),!0});function Jl(n){return n.state.facet(yn).createPanel(n)}function dl(n,e){var t,i,r,s,o;let l=n.selection.main,h=l.empty||l.to>l.from+100?"":n.sliceDoc(l.from,l.to);if(e&&!h)return e;let f=n.facet(yn);return new Hl({search:((t=e?.literal)!==null&&t!==void 0?t:f.literal)?h:h.replace(/\n/g,"\\n"),caseSensitive:(i=e?.caseSensitive)!==null&&i!==void 0?i:f.caseSensitive,literal:(r=e?.literal)!==null&&r!==void 0?r:f.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:f.regexp,wholeWord:(o=e?.wholeWord)!==null&&o!==void 0?o:f.wholeWord})}function PO(n){let e=Nn(n,Jl);return e&&e.dom.querySelector("[main-field]")}function CO(n){let e=PO(n);e&&e==n.root.activeElement&&e.select()}const TO=n=>{let e=n.state.field(wi,!1);if(e&&e.panel){let t=PO(n);if(t&&t!=n.root.activeElement){let i=dl(n.state,e.query.spec);i.valid&&n.dispatch({effects:Ti.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[Kl.of(!0),e?Ti.of(dl(n.state,e.query.spec)):te.appendConfig.of(Yy)]});return!0},UO=n=>{let e=n.state.field(wi,!1);if(!e||!e.panel)return!1;let t=Nn(n,Jl);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:Kl.of(!1)}),!0},Uy=[{key:"Mod-f",run:TO,scope:"editor search-panel"},{key:"F3",run:ps,shift:gs,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:ps,shift:gs,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:UO,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Cy},{key:"Mod-Alt-g",run:hy},{key:"Mod-d",run:xy,preventDefault:!0}];class Ry{constructor(e){this.view=e;let t=this.query=e.state.field(wi).query.spec;this.commit=this.commit.bind(this),this.searchField=ye("input",{value:t.search,placeholder:Ot(e,"Find"),"aria-label":Ot(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ye("input",{value:t.replace,placeholder:Ot(e,"Replace"),"aria-label":Ot(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ye("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=ye("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=ye("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(r,s,o){return ye("button",{class:"cm-button",name:r,onclick:s,type:"button"},o)}this.dom=ye("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>ps(e),[Ot(e,"next")]),i("prev",()=>gs(e),[Ot(e,"previous")]),i("select",()=>Py(e),[Ot(e,"all")]),ye("label",null,[this.caseField,Ot(e,"match case")]),ye("label",null,[this.reField,Ot(e,"regexp")]),ye("label",null,[this.wordField,Ot(e,"by word")]),...e.state.readOnly?[]:[ye("br"),this.replaceField,i("replace",()=>cc(e),[Ot(e,"replace")]),i("replaceAll",()=>Ty(e),[Ot(e,"replace all")])],ye("button",{name:"close",onclick:()=>UO(e),"aria-label":Ot(e,"close"),type:"button"},["×"])])}commit(){let e=new Hl({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Ti.of(e)}))}keydown(e){Ig(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?gs:ps)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),cc(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(Ti)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(yn).top}}function Ot(n,e){return n.state.phrase(e)}const Ur=30,Rr=/[\s\.,:;?!]/;function ea(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),r=n.state.doc.lineAt(t).to,s=Math.max(i.from,e-Ur),o=Math.min(r,t+Ur),l=n.state.sliceDoc(s,o);if(s!=i.from){for(let h=0;h<Ur;h++)if(!Rr.test(l[h+1])&&Rr.test(l[h])){l=l.slice(h);break}}if(o!=r){for(let h=l.length-1;h>l.length-Ur;h--)if(!Rr.test(l[h-1])&&Rr.test(l[h])){l=l.slice(0,h);break}}return D.announce.of(`${n.state.phrase("current match")}. ${l} ${n.state.phrase("on line")} ${i.number}.`)}const Wy=D.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Yy=[wi,_i.low(Xy),Wy];class RO{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=tt(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),r=t.text.slice(i-t.from,this.pos-t.from),s=r.search(WO(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function fc(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Ay(n){let e=Object.create(null),t=Object.create(null);for(let{label:r}of n){e[r[0]]=!0;for(let s=1;s<r.length;s++)t[r[s]]=!0}let i=fc(e)+fc(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function Vy(n){let e=n.map(r=>typeof r=="string"?{label:r}:r),[t,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:Ay(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:t}:null}}class uc{constructor(e,t,i,r){this.completion=e,this.source=t,this.match=i,this.score=r}}function Qi(n){return n.selection.main.from}function WO(n,e){var t;let{source:i}=n,r=e&&i[0]!="^",s=i[i.length-1]!="$";return!r&&!s?n:new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const My=li.define();function Zy(n,e,t,i){let{main:r}=n.selection,s=t-r.from,o=i-r.from;return Object.assign(Object.assign({},n.changeByRange(l=>l!=r&&t!=i&&n.sliceDoc(l.from+s,l.from+o)!=n.sliceDoc(t,i)?{range:l}:{changes:{from:l.from+s,to:i==r.from?l.to:l.from+o,insert:e},range:Y.cursor(l.from+s+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const Oc=new WeakMap;function zy(n){if(!Array.isArray(n))return n;let e=Oc.get(n);return e||Oc.set(n,e=Vy(n)),e}const ta=te.define(),Kn=te.define();class qy{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=Be(e,t),r=bt(i);this.chars.push(i);let s=e.slice(t,t+r),o=s.toUpperCase();this.folded.push(Be(o==s?s.toLowerCase():o,0)),t+=r}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,!0}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:t,folded:i,any:r,precise:s,byWord:o}=this;if(t.length==1){let M=Be(e,0),q=bt(M),Z=q==e.length?0:-100;if(M!=t[0])if(M==i[0])Z+=-200;else return!1;return this.ret(Z,[0,q])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let h=t.length,f=0;if(l<0){for(let M=0,q=Math.min(e.length,200);M<q&&f<h;){let Z=Be(e,M);(Z==t[f]||Z==i[f])&&(r[f++]=M),M+=bt(Z)}if(f<h)return!1}let O=0,p=0,v=!1,y=0,w=-1,X=-1,P=/[a-z]/.test(e),U=!0;for(let M=0,q=Math.min(e.length,200),Z=0;M<q&&p<h;){let V=Be(e,M);l<0&&(O<h&&V==t[O]&&(s[O++]=M),y<h&&(V==t[y]||V==i[y]?(y==0&&(w=M),X=M+1,y++):y=0));let L,j=V<255?V>=48&&V<=57||V>=97&&V<=122?2:V>=65&&V<=90?1:0:(L=Sl(V))!=L.toLowerCase()?1:L!=L.toUpperCase()?2:0;(!M||j==1&&P||Z==0&&j!=0)&&(t[p]==V||i[p]==V&&(v=!0)?o[p++]=M:o.length&&(U=!1)),Z=j,M+=bt(V)}return p==h&&o[0]==0&&U?this.result(-100+(v?-200:0),o,e):y==h&&w==0?this.ret(-200-e.length+(X==e.length?0:-100),[0,X]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):y==h?this.ret(-200+-700-e.length,[w,X]):p==h?this.result(-100+(v?-200:0)+-700+(U?0:-1100),o,e):t.length==2?!1:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,i){let r=[],s=0;for(let o of t){let l=o+(this.astral?bt(Be(i,o)):1);s&&r[s-1]==o?r[s-1]=l:(r[s++]=o,r[s++]=l)}return this.ret(e-i.length,r)}}const et=B.define({combine(n){return Nt(n,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Ly,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>dc(e(i),t(i)),optionClass:(e,t)=>i=>dc(e(i),t(i)),addToOptions:(e,t)=>e.concat(t)})}});function dc(n,e){return n?e?n+" "+e:n:e}function Ly(n,e,t,i,r,s){let o=n.textDirection==Qe.RTL,l=o,h=!1,f="top",O,p,v=e.left-r.left,y=r.right-e.right,w=i.right-i.left,X=i.bottom-i.top;if(l&&v<Math.min(w,y)?l=!1:!l&&y<Math.min(w,v)&&(l=!0),w<=(l?v:y))O=Math.max(r.top,Math.min(t.top,r.bottom-X))-e.top,p=Math.min(400,l?v:y);else{h=!0,p=Math.min(400,(o?e.right:r.right-e.left)-30);let M=r.bottom-e.bottom;M>=X||M>e.top?O=t.bottom-e.top:(f="bottom",O=e.bottom-t.top)}let P=(e.bottom-e.top)/s.offsetHeight,U=(e.right-e.left)/s.offsetWidth;return{style:`${f}: ${O/P}px; max-width: ${p/U}px`,class:"cm-completionInfo-"+(h?o?"left-narrow":"right-narrow":l?"left":"right")}}function Ey(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,r,s){let o=document.createElement("span");o.className="cm-completionLabel";let l=t.displayLabel||t.label,h=0;for(let f=0;f<s.length;){let O=s[f++],p=s[f++];O>h&&o.appendChild(document.createTextNode(l.slice(h,O)));let v=o.appendChild(document.createElement("span"));v.appendChild(document.createTextNode(l.slice(O,p))),v.className="cm-completionMatchedText",h=p}return h<l.length&&o.appendChild(document.createTextNode(l.slice(h))),o},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function Oo(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class jy{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:h=>this.placeInfo(h),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:s,selected:o}=r.open,l=e.state.facet(et);this.optionContent=Ey(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=Oo(s.length,o,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",h=>{let{options:f}=e.state.field(t).open;for(let O=h.target,p;O&&O!=this.dom;O=O.parentNode)if(O.nodeName=="LI"&&(p=/-(\d+)$/.exec(O.id))&&+p[1]<f.length){this.applyCompletion(e,f[+p[1]]),h.preventDefault();return}}),this.dom.addEventListener("focusout",h=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(et).closeOnBlur&&h.relatedTarget!=e.contentDOM&&e.dispatch({effects:Kn.of(null)})}),this.showOptions(s,r.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=r){let{options:s,selected:o,disabled:l}=i.open;(!r.open||r.open.options!=s)&&(this.range=Oo(s.length,o,e.state.facet(et).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),l!=((t=r.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Oo(t.options.length,t.selected,this.view.state.facet(et).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:r}=i;if(!r)return;let s=typeof r=="string"?document.createTextNode(r):r(i);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>$t(this.view.state,o,"completion info")):this.addInfoPane(s,i)}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:s}=e;i.appendChild(r),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&_y(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return r.top>Math.min(s.bottom,t.bottom)-10||r.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(et).positionInfo(this.view,t,r,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=i.from;o<i.to;o++){let{completion:l,match:h}=e[o],{section:f}=l;if(f){let v=typeof f=="string"?f:f.name;if(v!=s&&(o>i.from||i.from==0))if(s=v,typeof f!="string"&&f.header)r.appendChild(f.header(f));else{let y=r.appendChild(document.createElement("completion-section"));y.textContent=v}}const O=r.appendChild(document.createElement("li"));O.id=t+"-"+o,O.setAttribute("role","option");let p=this.optionClass(l);p&&(O.className=p);for(let v of this.optionContent){let y=v(l,this.view.state,this.view,h);y&&O.appendChild(y)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Dy(n,e){return t=>new jy(t,n,e)}function _y(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),r=t.height/n.offsetHeight;i.top<t.top?n.scrollTop-=(t.top-i.top)/r:i.bottom>t.bottom&&(n.scrollTop+=(i.bottom-t.bottom)/r)}function pc(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function By(n,e){let t=[],i=null,r=h=>{t.push(h);let{section:f}=h.completion;if(f){i||(i=[]);let O=typeof f=="string"?f:f.name;i.some(p=>p.name==O)||i.push(typeof f=="string"?{name:O}:f)}};for(let h of n)if(h.hasResult()){let f=h.result.getMatch;if(h.result.filter===!1)for(let O of h.result.options)r(new uc(O,h.source,f?f(O):[],1e9-t.length));else{let O=new qy(e.sliceDoc(h.from,h.to));for(let p of h.result.options)if(O.match(p.label)){let v=p.displayLabel?f?f(p,O.matched):[]:O.matched;r(new uc(p,h.source,v,O.score+(p.boost||0)))}}}if(i){let h=Object.create(null),f=0,O=(p,v)=>{var y,w;return((y=p.rank)!==null&&y!==void 0?y:1e9)-((w=v.rank)!==null&&w!==void 0?w:1e9)||(p.name<v.name?-1:1)};for(let p of i.sort(O))f-=1e5,h[p.name]=f;for(let p of t){let{section:v}=p.completion;v&&(p.score+=h[typeof v=="string"?v:v.name])}}let s=[],o=null,l=e.facet(et).compareCompletions;for(let h of t.sort((f,O)=>O.score-f.score||l(f.completion,O.completion))){let f=h.completion;!o||o.label!=f.label||o.detail!=f.detail||o.type!=null&&f.type!=null&&o.type!=f.type||o.apply!=f.apply||o.boost!=f.boost?s.push(h):pc(h.completion)>pc(o)&&(s[s.length-1]=h),o=h.completion}return s}class en{constructor(e,t,i,r,s,o){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=r,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new en(this.options,gc(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,r,s){let o=By(e,t);if(!o.length)return r&&e.some(h=>h.state==1)?new en(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let l=t.facet(et).selectOnOpen?0:-1;if(r&&r.selected!=l&&r.selected!=-1){let h=r.options[r.selected].completion;for(let f=0;f<o.length;f++)if(o[f].completion==h){l=f;break}}return new en(o,gc(i,l),{pos:e.reduce((h,f)=>f.hasResult()?Math.min(h,f.from):h,1e8),create:Hy,above:s.aboveCursor},r?r.timestamp:Date.now(),l,!1)}map(e){return new en(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class ms{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new ms(Gy,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(et),s=(i.override||t.languageDataAt("autocomplete",Qi(t)).map(zy)).map(l=>(this.active.find(f=>f.source==l)||new ht(l,this.active.some(f=>f.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((l,h)=>l==this.active[h])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!Iy(s,this.active)?o=en.build(s,t,this.id,o,i):o&&o.disabled&&!s.some(l=>l.state==1)&&(o=null),!o&&s.every(l=>l.state!=1)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new ht(l.source,0):l));for(let l of e.effects)l.is(AO)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new ms(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Ny}}function Iy(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;i<e.length&&!e[i].hasResult;)i++;let r=t==n.length,s=i==e.length;if(r||s)return r==s;if(n[t++].result!=e[i++].result)return!1}}const Ny={"aria-autocomplete":"list"};function gc(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const Gy=[];function pl(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class ht{constructor(e,t,i=-1){this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=pl(e),r=this;i?r=r.handleUserEvent(e,i,t):e.docChanged?r=r.handleChange(e):e.selection&&r.state!=0&&(r=new ht(r.source,0));for(let s of e.effects)if(s.is(ta))r=new ht(r.source,1,s.value?Qi(e.state):-1);else if(s.is(Kn))r=new ht(r.source,0);else if(s.is(YO))for(let o of s.value)o.source==r.source&&(r=o);return r}handleUserEvent(e,t,i){return t=="delete"||!i.activateOnTyping?this.map(e.changes):new ht(this.source,1)}handleChange(e){return e.changes.touchesRange(Qi(e.startState))?new ht(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new ht(this.source,this.state,e.mapPos(this.explicitPos))}}class an extends ht{constructor(e,t,i,r,s){super(e,2,t),this.result=i,this.from=r,this.to=s}hasResult(){return!0}handleUserEvent(e,t,i){var r;let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),l=Qi(e.state);if((this.explicitPos<0?l<=s:l<this.from)||l>o||t=="delete"&&Qi(e.startState)==this.from)return new ht(this.source,t=="input"&&i.activateOnTyping?1:0);let h=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),f;return Fy(this.result.validFor,e.state,s,o)?new an(this.source,h,this.result,s,o):this.result.update&&(f=this.result.update(this.result,s,o,new RO(e.state,l,h>=0)))?new an(this.source,h,f,f.from,(r=f.to)!==null&&r!==void 0?r:Qi(e.state)):new ht(this.source,1,h)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new ht(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new an(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function Fy(n,e,t,i){if(!n)return!1;let r=e.sliceDoc(t,i);return typeof n=="function"?n(r,t,i,e):WO(n,!0).test(r)}const YO=te.define({map(n,e){return n.map(t=>t.map(e))}}),AO=te.define(),gt=Le.define({create(){return ms.start()},update(n,e){return n.update(e)},provide:n=>[Yl.from(n,e=>e.tooltip),D.contentAttributes.from(n,e=>e.attrs)]});function VO(n,e){const t=e.completion.apply||e.completion.label;let i=n.state.field(gt).active.find(r=>r.source==e.source);return i instanceof an?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},Zy(n.state,t,i.from,i.to)),{annotations:My.of(e.completion)})):t(n,e.completion,i.from,i.to),!0):!1}const Hy=Dy(gt,VO);function Wr(n,e="option"){return t=>{let i=t.state.field(gt,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(et).interactionDelay)return!1;let r=1,s;e=="page"&&(s=pu(t,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,l=i.open.selected>-1?i.open.selected+r*(n?1:-1):n?0:o-1;return l<0?l=e=="page"?0:o-1:l>=o&&(l=e=="page"?o-1:0),t.dispatch({effects:AO.of(l)}),!0}}const Ky=n=>{let e=n.state.field(gt,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(et).interactionDelay?!1:VO(n,e.open.options[e.open.selected])},Jy=n=>n.state.field(gt,!1)?(n.dispatch({effects:ta.of(!0)}),!0):!1,e1=n=>{let e=n.state.field(gt,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Kn.of(null)}),!0)};class t1{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const i1=50,n1=1e3,r1=Te.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of n.state.field(gt).active)e.state==1&&this.startQuery(e)}update(n){let e=n.state.field(gt);if(!n.selectionSet&&!n.docChanged&&n.startState.field(gt)==e)return;let t=n.transactions.some(i=>(i.selection||i.docChanged)&&!pl(i));for(let i=0;i<this.running.length;i++){let r=this.running[i];if(t||r.updates.length+n.transactions.length>i1&&Date.now()-r.time>n1){for(let s of r.context.abortListeners)try{s()}catch(o){$t(this.view.state,o)}r.context.abortListeners=null,this.running.splice(i--,1)}else r.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(i=>i.state==1&&!this.running.some(r=>r.active.source==i.source))?setTimeout(()=>this.startUpdate(),50):-1,this.composing!=0)for(let i of n.transactions)pl(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,e=n.field(gt);for(let t of e.active)t.state==1&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=Qi(e),i=new RO(e,t,n.explicitPos==t),r=new t1(n,i);this.running.push(r),Promise.resolve(n.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Kn.of(null)}),$t(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(et).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(et);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(r.done===void 0)continue;if(this.running.splice(i--,1),r.done){let o=new an(r.active.source,r.active.explicitPos,r.done,r.done.from,(n=r.done.to)!==null&&n!==void 0?n:Qi(r.updates.length?r.updates[0].startState:this.view.state));for(let l of r.updates)o=o.update(l,t);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(gt).active.find(o=>o.source==r.active.source);if(s&&s.state==1)if(r.done==null){let o=new ht(r.active.source,0);for(let l of r.updates)o=o.update(l,t);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:YO.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(gt,!1);if(e&&e.tooltip&&this.view.state.facet(et).closeOnBlur){let t=e.open&&pu(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&this.view.dispatch({effects:Kn.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:ta.of(!1)}),20),this.composing=0}}}),s1=D.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Jn={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},zi=te.define({map(n,e){let t=e.mapPos(n,-1,Ne.TrackAfter);return t??void 0}}),ia=new class extends Li{};ia.startSide=1;ia.endSide=-1;const MO=Le.define({create(){return Oe.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:i=>i>=t.from&&i<=t.to})}for(let t of e.effects)t.is(zi)&&(n=n.update({add:[ia.range(t.value,t.value+1)]}));return n}});function o1(){return[a1,MO]}const po="()[]{}<>";function ZO(n){for(let e=0;e<po.length;e+=2)if(po.charCodeAt(e)==n)return po.charAt(e+1);return Sl(n<128?n:n+1)}function zO(n,e){return n.languageDataAt("closeBrackets",e)[0]||Jn}const l1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),a1=D.inputHandler.of((n,e,t,i)=>{if((l1?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let r=n.state.selection.main;if(i.length>2||i.length==2&&bt(Be(i,0))==1||e!=r.from||t!=r.to)return!1;let s=f1(n.state,i);return s?(n.dispatch(s),!0):!1}),h1=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=zO(n,n.selection.main.head).brackets||Jn.brackets,r=null,s=n.changeByRange(o=>{if(o.empty){let l=u1(n.doc,o.head);for(let h of i)if(h==l&&Us(n.doc,o.head)==ZO(Be(h,0)))return{changes:{from:o.head-h.length,to:o.head+h.length},range:Y.cursor(o.head-h.length)}}return{range:r=o}});return r||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},c1=[{key:"Backspace",run:h1}];function f1(n,e){let t=zO(n,n.selection.main.head),i=t.brackets||Jn.brackets;for(let r of i){let s=ZO(Be(r,0));if(e==r)return s==r?p1(n,r,i.indexOf(r+r+r)>-1,t):O1(n,r,s,t.before||Jn.before);if(e==s&&qO(n,n.selection.main.from))return d1(n,r,s)}return null}function qO(n,e){let t=!1;return n.field(MO).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function Us(n,e){let t=n.sliceString(e,e+2);return t.slice(0,bt(Be(t,0)))}function u1(n,e){let t=n.sliceString(e-2,e);return bt(Be(t,0))==t.length?t:t.slice(1)}function O1(n,e,t,i){let r=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:zi.of(o.to+e.length),range:Y.range(o.anchor+e.length,o.head+e.length)};let l=Us(n.doc,o.head);return!l||/\s/.test(l)||i.indexOf(l)>-1?{changes:{insert:e+t,from:o.head},effects:zi.of(o.head+e.length),range:Y.cursor(o.head+e.length)}:{range:r=o}});return r?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function d1(n,e,t){let i=null,r=n.changeByRange(s=>s.empty&&Us(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:Y.cursor(s.head+t.length)}:i={range:s});return i?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function p1(n,e,t,i){let r=i.stringPrefixes||Jn.stringPrefixes,s=null,o=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:zi.of(l.to+e.length),range:Y.range(l.anchor+e.length,l.head+e.length)};let h=l.head,f=Us(n.doc,h),O;if(f==e){if(mc(n,h))return{changes:{insert:e+e,from:h},effects:zi.of(h+e.length),range:Y.cursor(h+e.length)};if(qO(n,h)){let v=t&&n.sliceDoc(h,h+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:h,to:h+v.length,insert:v},range:Y.cursor(h+v.length)}}}else{if(t&&n.sliceDoc(h-2*e.length,h)==e+e&&(O=vc(n,h-2*e.length,r))>-1&&mc(n,O))return{changes:{insert:e+e+e+e,from:h},effects:zi.of(h+e.length),range:Y.cursor(h+e.length)};if(n.charCategorizer(h)(f)!=we.Word&&vc(n,h,r)>-1&&!g1(n,h,e,r))return{changes:{insert:e+e,from:h},effects:zi.of(h+e.length),range:Y.cursor(h+e.length)}}return{range:s=l}});return s?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function mc(n,e){let t=tt(n).resolveInner(e+1);return t.parent&&t.from==e}function g1(n,e,t,i){let r=tt(n).resolveInner(e,-1),s=i.reduce((o,l)=>Math.max(o,l.length),0);for(let o=0;o<5;o++){let l=n.sliceDoc(r.from,Math.min(r.to,r.from+t.length+s)),h=l.indexOf(t);if(!h||h>-1&&i.indexOf(l.slice(0,h))>-1){let O=r.firstChild;for(;O&&O.from==r.from&&O.to-O.from>t.length+h;){if(n.sliceDoc(O.to-t.length,O.to)==t)return!1;O=O.firstChild}return!0}let f=r.to==e&&r.parent;if(!f)break;r=f}return!1}function vc(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=we.Word)return e;for(let r of t){let s=e-r.length;if(n.sliceDoc(s,e)==r&&i(n.sliceDoc(s-1,s))!=we.Word)return s}return-1}function m1(n={}){return[gt,et.of(n),r1,v1,s1]}const LO=[{key:"Ctrl-Space",run:Jy},{key:"Escape",run:e1},{key:"ArrowDown",run:Wr(!0)},{key:"ArrowUp",run:Wr(!1)},{key:"PageDown",run:Wr(!0,"page")},{key:"PageUp",run:Wr(!1,"page")},{key:"Enter",run:Ky}],v1=_i.highest(Rl.computeN([et],n=>n.facet(et).defaultKeymap?[LO]:[]));class y1{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Mi{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=e,s=i.facet(DO).markerFilter;s&&(r=s(r));let o=H.set(r.map(l=>l.from==l.to||l.from==l.to-1&&i.doc.lineAt(l.from).to==l.from?H.widget({widget:new P1(l),diagnostic:l}).range(l.from):H.mark({attributes:{class:"cm-lintRange cm-lintRange-"+l.severity+(l.markClass?" "+l.markClass:"")},diagnostic:l}).range(l.from,l.to)),!0);return new Mi(o,t,dn(o))}}function dn(n,e=null,t=0){let i=null;return n.between(t,1e9,(r,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return i=new y1(r,s,o.diagnostic),!1}),i}function x1(n,e){let t=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(i=>i.is(EO))||n.changes.touchesRange(t.from,t.to))}function b1(n,e){return n.field(vt,!1)?e:e.concat(te.appendConfig.of(U1))}const EO=te.define(),na=te.define(),jO=te.define(),vt=Le.define({create(){return new Mi(H.none,null,null)},update(n,e){if(e.docChanged){let t=n.diagnostics.map(e.changes),i=null;if(n.selected){let r=e.changes.mapPos(n.selected.from,1);i=dn(t,n.selected.diagnostic,r)||dn(t,null,r)}n=new Mi(t,n.panel,i)}for(let t of e.effects)t.is(EO)?n=Mi.init(t.value,n.panel,e.state):t.is(na)?n=new Mi(n.diagnostics,t.value?Rs.open:null,n.selected):t.is(jO)&&(n=new Mi(n.diagnostics,n.panel,t.value));return n},provide:n=>[ji.from(n,e=>e.panel),D.decorations.from(n,e=>e.diagnostics)]}),S1=H.mark({class:"cm-lintRange cm-lintRange-active"});function w1(n,e,t){let{diagnostics:i}=n.state.field(vt),r=[],s=2e8,o=0;i.between(e-(t<0?1:0),e+(t>0?1:0),(h,f,{spec:O})=>{e>=h&&e<=f&&(h==f||(e>h||t>0)&&(e<f||t<0))&&(r.push(O.diagnostic),s=Math.min(h,s),o=Math.max(f,o))});let l=n.state.facet(DO).tooltipFilter;return l&&(r=l(r)),r.length?{pos:s,end:o,above:n.state.doc.lineAt(s).to<o,create(){return{dom:Q1(n,r)}}}:null}function Q1(n,e){return ye("ul",{class:"cm-tooltip-lint"},e.map(t=>BO(n,t,!1)))}const $1=n=>{let e=n.state.field(vt,!1);(!e||!e.panel)&&n.dispatch({effects:b1(n.state,[na.of(!0)])});let t=Nn(n,Rs.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},yc=n=>{let e=n.state.field(vt,!1);return!e||!e.panel?!1:(n.dispatch({effects:na.of(!1)}),!0)},k1=n=>{let e=n.state.field(vt,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},X1=[{key:"Mod-Shift-m",run:$1,preventDefault:!0},{key:"F8",run:k1}],DO=B.define({combine(n){return Object.assign({sources:n.map(e=>e.source)},Nt(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t}))}});function _O(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let r=t[i];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function BO(n,e,t){var i;let r=t?_O(e.actions):[];return ye("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},ye("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,o)=>{let l=!1,h=v=>{if(v.preventDefault(),l)return;l=!0;let y=dn(n.state.field(vt).diagnostics,e);y&&s.apply(n,y.from,y.to)},{name:f}=s,O=r[o]?f.indexOf(r[o]):-1,p=O<0?f:[f.slice(0,O),ye("u",f.slice(O,O+1)),f.slice(O+1)];return ye("button",{type:"button",class:"cm-diagnosticAction",onclick:h,onmousedown:h,"aria-label":` Action: ${f}${O<0?"":` (access key "${r[o]})"`}.`},p)}),e.source&&ye("div",{class:"cm-diagnosticSource"},e.source))}class P1 extends Ui{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return ye("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class xc{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=BO(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Rs{constructor(e){this.view=e,this.items=[];let t=r=>{if(r.keyCode==27)yc(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=_O(s.actions);for(let l=0;l<o.length;l++)if(o[l].toUpperCase().charCodeAt(0)==r.keyCode){let h=dn(this.view.state.field(vt).diagnostics,s);h&&s.actions[l].apply(e,h.from,h.to)}}else return;r.preventDefault()},i=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=ye("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=ye("div",{class:"cm-panel-lint"},this.list,ye("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>yc(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(vt).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(vt),i=0,r=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,l,{spec:h})=>{let f=-1,O;for(let p=i;p<this.items.length;p++)if(this.items[p].diagnostic==h.diagnostic){f=p;break}f<0?(O=new xc(this.view,h.diagnostic),this.items.splice(i,0,O),r=!0):(O=this.items[f],f>i&&(this.items.splice(i,f-i),r=!0)),t&&O.diagnostic==t.diagnostic?O.dom.hasAttribute("aria-selected")||(O.dom.setAttribute("aria-selected","true"),s=O):O.dom.hasAttribute("aria-selected")&&O.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new xc(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:l})=>{let h=l.height/this.list.offsetHeight;o.top<l.top?this.list.scrollTop-=(l.top-o.top)/h:o.bottom>l.bottom&&(this.list.scrollTop+=(o.bottom-l.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(vt),i=dn(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:jO.of(i)})}static open(e){return new Rs(e)}}function C1(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function Yr(n){return C1(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const T1=D.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Yr("#d11")},".cm-lintRange-warning":{backgroundImage:Yr("orange")},".cm-lintRange-info":{backgroundImage:Yr("#999")},".cm-lintRange-hint":{backgroundImage:Yr("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),U1=[vt,D.decorations.compute([vt],n=>{let{selected:e,panel:t}=n.field(vt);return!e||!t||e.from==e.to?H.none:H.set([S1.range(e.from,e.to)])}),Ym(w1,{hideOn:x1}),T1],R1=(()=>[jm(),Bm(),fm(),cv(),V0(),Jg(),sm(),he.allowMultipleSelections.of(!0),w0(),El(q0,{fallback:!0}),I0(),o1(),m1(),wm(),km(),mm(),uy(),Rl.of([...c1,...ly,...Uy,...yv,...R0,...LO,...X1])])();function W1(n){var e=n.Pos;function t(a,c){var u=a.state.vim;if(!u||u.insertMode)return c.head;var d=u.sel.head;if(!d)return c.head;if(!(u.visualBlock&&c.head.line!=d.line))return c.from()==c.anchor&&!c.empty()&&c.head.line==d.line&&c.head.ch!=d.ch?new e(c.head.line,c.head.ch-1):c.head}function i(a,c,u){if(c.line===u.line&&c.ch>=u.ch-1){var d=a.getLine(c.line),g=d.charCodeAt(c.ch);55296<=g&&g<=55551&&(u.ch+=1)}return{start:c,end:u}}var r=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h"},{keys:"<Del>",type:"keyToKey",toKeys:"x"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"gq",type:"operator",operator:"hardWrap"},{keys:"gw",type:"operator",operator:"hardWrap",operatorArgs:{keepCursor:!0}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"<C-r><character>",type:"action",action:"insertRegister",context:"insert",isEdit:!0},{keys:"<C-o>",type:"action",action:"oneNormalCommand",context:"insert"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],s=r.length,o=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"omap",shortName:"om"},{name:"noremap",shortName:"no"},{name:"nnoremap",shortName:"nn"},{name:"vnoremap",shortName:"vn"},{name:"inoremap",shortName:"ino"},{name:"onoremap",shortName:"ono"},{name:"unmap"},{name:"mapclear",shortName:"mapc"},{name:"nmapclear",shortName:"nmapc"},{name:"vmapclear",shortName:"vmapc"},{name:"imapclear",shortName:"imapc"},{name:"omapclear",shortName:"omapc"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"startinsert",shortName:"start"},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"delete",shortName:"d"},{name:"join",shortName:"j"},{name:"normal",shortName:"norm"},{name:"global",shortName:"g"}];function l(a){a.setOption("disableInput",!0),a.setOption("showCursorWhenSelecting",!1),n.signal(a,"vim-mode-change",{mode:"normal"}),a.on("cursorActivity",Wa),ai(a),n.on(a.getInputField(),"paste",P(a))}function h(a){a.setOption("disableInput",!1),a.off("cursorActivity",Wa),n.off(a.getInputField(),"paste",P(a)),a.state.vim=null,fr&&clearTimeout(fr)}function f(a,c){this==n.keyMap.vim&&(a.options.$customCursor=null,n.rmClass(a.getWrapperElement(),"cm-fat-cursor")),(!c||c.attach!=O)&&h(a)}function O(a,c){this==n.keyMap.vim&&(a.curOp&&(a.curOp.selectionChanged=!0),a.options.$customCursor=t,n.addClass(a.getWrapperElement(),"cm-fat-cursor")),(!c||c.attach!=O)&&l(a)}n.defineOption("vimMode",!1,function(a,c,u){c&&a.getOption("keyMap")!="vim"?a.setOption("keyMap","vim"):!c&&u!=n.Init&&/^vim/.test(a.getOption("keyMap"))&&a.setOption("keyMap","default")});function p(a,c){if(c){if(this[a])return this[a];var u=X(a);if(!u)return!1;var d=at.findKey(c,u);return typeof d=="function"&&n.signal(c,"vim-keypress",u),d}}var v={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A",CapsLock:""},y={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"},w={};"Left|Right|Up|Down|End|Home".split("|").concat(Object.keys(y)).forEach(function(a){w[(y[a]||"").toLowerCase()]=w[a.toLowerCase()]=a});function X(a){if(a.charAt(0)=="'")return a.charAt(1);var c=a.split(/-(?!$)/),u=c[c.length-1];if(c.length==1&&c[0].length==1)return!1;if(c.length==2&&c[0]=="Shift"&&u.length==1)return!1;for(var d=!1,g=0;g<c.length;g++){var m=c[g];m in v?c[g]=v[m]:d=!0,m in y&&(c[g]=y[m])}return d?(ue(u)&&(c[c.length-1]=u.toLowerCase()),"<"+c.join("-")+">"):!1}function P(a){var c=a.state.vim;return c.onPasteFn||(c.onPasteFn=function(){c.insertMode||(a.setCursor(We(a.getCursor(),0,1)),Bi.enterInsertMode(a,{},c))}),c.onPasteFn}var U=/[\d]/,M=[n.isWordChar,function(a){return a&&!n.isWordChar(a)&&!/\s/.test(a)}],q=[function(a){return/\S/.test(a)}];function Z(a,c){for(var u=[],d=a;d<a+c;d++)u.push(String.fromCharCode(d));return u}var V=Z(65,26),L=Z(97,26),j=Z(48,10),J=[].concat(V,L,j,["<",">"]),ie=[].concat(V,L,j,["-",'"',".",":","_","/","+"]),ne;try{ne=new RegExp("^[\\p{Lu}]$","u")}catch{ne=/^[A-Z]$/}function ee(a,c){return c>=a.firstLine()&&c<=a.lastLine()}function K(a){return/^[a-z]$/.test(a)}function fe(a){return"()[]{}".indexOf(a)!=-1}function le(a){return U.test(a)}function ue(a){return ne.test(a)}function de(a){return/^\s*$/.test(a)}function Pe(a){return".?!".indexOf(a)!=-1}function Ee(a,c){for(var u=0;u<c.length;u++)if(c[u]==a)return!0;return!1}var $e={};function xe(a,c,u,d,g){if(c===void 0&&!g)throw Error("defaultValue is required unless callback is provided");if(u||(u="string"),$e[a]={type:u,defaultValue:c,callback:g},d)for(var m=0;m<d.length;m++)$e[d[m]]=$e[a];c&&Fe(a,c)}function Fe(a,c,u,d){var g=$e[a];d=d||{};var m=d.scope;if(!g)return new Error("Unknown option: "+a);if(g.type=="boolean"){if(c&&c!==!0)return new Error("Invalid argument: "+a+"="+c);c!==!1&&(c=!0)}g.callback?(m!=="local"&&g.callback(c,void 0),m!=="global"&&u&&g.callback(c,u)):(m!=="local"&&(g.value=g.type=="boolean"?!!c:c),m!=="global"&&u&&(u.state.vim.options[a]={value:c}))}function Re(a,c,u){var d=$e[a];u=u||{};var g=u.scope;if(!d)return new Error("Unknown option: "+a);if(d.callback){var m=c&&d.callback(void 0,c);return g!=="global"&&m!==void 0?m:g!=="local"?d.callback():void 0}else{var m=g!=="global"&&c&&c.state.vim.options[a];return(m||g!=="local"&&d||{}).value}}xe("filetype",void 0,"string",["ft"],function(a,c){if(c!==void 0)if(a===void 0){var u=c.getOption("mode");return u=="null"?"":u}else{var u=a==""?"null":a;c.setOption("mode",u)}}),xe("textwidth",80,"number",["tw"],function(a,c){if(c!==void 0)if(a===void 0){var u=c.getOption("textwidth");return u}else{var d=Math.round(a);d>1&&c.setOption("textwidth",d)}});var Ft=function(){var a=100,c=-1,u=0,d=0,g=new Array(a);function m(b,$,k){var R=c%a,W=g[R];function T(z){var A=++c%a,G=g[A];G&&G.clear(),g[A]=b.setBookmark(z)}if(W){var C=W.find();C&&!yt(C,$)&&T($)}else T($);T(k),u=c,d=c-a+1,d<0&&(d=0)}function x(b,$){c+=$,c>u?c=u:c<d&&(c=d);var k=g[(a+c)%a];if(k&&!k.find()){var R=$>0?1:-1,W,T=b.getCursor();do if(c+=R,k=g[(a+c)%a],k&&(W=k.find())&&!yt(T,W))break;while(c<u&&c>d)}return k}function S(b,$){var k=c,R=x(b,$);return c=k,R&&R.find()}return{cachedCursor:void 0,add:m,find:S,move:x}},Ht=function(a){return a?{changes:a.changes,expectCursorActivityForChange:a.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};function Wi(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=Ht()}Wi.prototype={exitMacroRecordMode:function(){var a=_.macroModeState;a.onRecordingDone&&a.onRecordingDone(),a.onRecordingDone=void 0,a.isRecording=!1},enterMacroRecordMode:function(a,c){var u=_.registerController.getRegister(c);if(u){if(u.clear(),this.latestRegister=c,a.openDialog){var d=ci("span",{class:"cm-vim-message"},"recording @"+c);this.onRecordingDone=a.openDialog(d,null,{bottom:!0})}this.isRecording=!0}}};function ai(a){return a.state.vim||(a.state.vim={inputState:new ar,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeReturn:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),a.state.vim}var _;function sa(){_={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:Ft(),macroModeState:new Wi,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new oa({}),searchHistoryController:new Ws,exCommandHistoryController:new Ws};for(var a in $e){var c=$e[a];c.value=c.defaultValue}}var xn,at={enterVimMode:l,leaveVimMode:h,buildKeyMap:function(){},getRegisterController:function(){return _.registerController},resetVimGlobalState_:sa,getVimGlobalState_:function(){return _},maybeInitVimState_:ai,suppressErrorLogging:!1,InsertModeKey:Ls,map:function(a,c,u){Tt.map(a,c,u)},unmap:function(a,c){return Tt.unmap(a,c)},noremap:function(a,c,u){Tt.map(a,c,u,!0)},mapclear:function(a){var c=r.length,u=s,d=r.slice(0,c-u);if(r=r.slice(c-u),a)for(var g=d.length-1;g>=0;g--){var m=d[g];if(a!==m.context)if(m.context)this._mapCommand(m);else{var x=["normal","insert","visual"];for(var S in x)if(x[S]!==a){var b={};for(var $ in m)b[$]=m[$];b.context=x[S],this._mapCommand(b)}}}},setOption:Fe,getOption:Re,defineOption:xe,defineEx:function(a,c,u){if(!c)c=a;else if(a.indexOf(c)!==0)throw new Error('(Vim.defineEx) "'+c+'" is not a prefix of "'+a+'", command not registered');Ta[a]=u,Tt.commandMap_[c]={name:a,shortName:c,type:"api"}},handleKey:function(a,c,u){var d=this.findKey(a,c,u);if(typeof d=="function")return d()},multiSelectHandleKey:Hd,findKey:function(a,c,u){var d=ai(a);function g(){var $=_.macroModeState;if($.isRecording){if(c=="q")return $.exitMacroRecordMode(),je(a),!0;u!="mapping"&&Nd($,c)}}function m(){if(c=="<Esc>"){if(d.visualMode)At(a);else if(d.insertMode)fi(a);else return;return je(a),!0}}function x(){if(m())return!0;d.inputState.keyBuffer.push(c);var $=d.inputState.keyBuffer.join(""),k=c.length==1,R=Yi.matchCommand($,r,d.inputState,"insert"),W=d.inputState.changeQueue;if(R.type=="none")return je(a),!1;if(R.type=="partial"){if(xn&&window.clearTimeout(xn),xn=k&&window.setTimeout(function(){d.insertMode&&d.inputState.keyBuffer.length&&je(a)},Re("insertModeEscKeysTimeout")),k){var T=a.listSelections();(!W||W.removed.length!=T.length)&&(W=d.inputState.changeQueue=new cd),W.inserted+=c;for(var C=0;C<T.length;C++){var z=ut(T[C].anchor,T[C].head),A=hi(T[C].anchor,T[C].head),G=a.getRange(z,a.state.overwrite?We(A,0,1):A);W.removed[C]=(W.removed[C]||"")+G}}return!k}if(xn&&window.clearTimeout(xn),R.command&&W){for(var T=a.listSelections(),C=0;C<T.length;C++){var F=T[C].head;a.replaceRange(W.removed[C]||"",We(F,0,-W.inserted.length),F,"+input")}_.macroModeState.lastInsertModeChanges.changes.pop()}return R.command||je(a),R.command}function S(){if(g()||m())return!0;d.inputState.keyBuffer.push(c);var $=d.inputState.keyBuffer.join("");if(/^[1-9]\d*$/.test($))return!0;var k=/^(\d*)(.*)$/.exec($);if(!k)return je(a),!1;var R=d.visualMode?"visual":"normal",W=k[2]||k[1];d.inputState.operatorShortcut&&d.inputState.operatorShortcut.slice(-1)==W&&(W=d.inputState.operatorShortcut);var T=Yi.matchCommand(W,r,d.inputState,R);return T.type=="none"?(je(a),!1):T.type=="partial"?!0:T.type=="clear"?(je(a),!0):(d.inputState.keyBuffer.length=0,k=/^(\d*)(.*)$/.exec($),k[1]&&k[1]!="0"&&d.inputState.pushRepeatDigit(k[1]),T.command)}var b;return d.insertMode?b=x():b=S(),b===!1?!d.insertMode&&c.length===1?function(){return!0}:void 0:b===!0?function(){return!0}:function(){return a.operation(function(){a.curOp.isVimOp=!0;try{b.type=="keyToKey"?lr(a,b.toKeys,b):Yi.processCommand(a,d,b)}catch($){throw a.state.vim=void 0,ai(a),at.suppressErrorLogging||console.log($),$}return!0})}},handleEx:function(a,c){Tt.processCommand(a,c)},defineMotion:ud,defineAction:dd,defineOperator:Od,mapCommand:Bd,_mapCommand:Ua,defineRegister:fd,exitVisualMode:At,exitInsertMode:fi},or=[],bn=!1;function lr(a,c,u){var d=bn;if(u){if(or.indexOf(u)!=-1)return;or.push(u),bn=u.noremap!=!1}try{for(var g=ai(a),m=/<(?:[CSMA]-)*\w+>|./gi,x;x=m.exec(c);){var S=x[0],b=g.insertMode,$=at.handleKey(a,S,"mapping");if(!$&&b&&g.insertMode){if(S[0]=="<"){var k=S.toLowerCase().slice(1,-1),R=k.split("-");if(k=R.pop()||"",k=="lt")S="<";else if(k=="space")S=" ";else if(k=="cr")S=`
`;else if(w.hasOwnProperty(k)){S=w[k],Ma(a,S);continue}else S=S[0],m.lastIndex=x.index+1}a.replaceSelection(S)}}}finally{or.pop(),bn=or.length?d:!1}}function ar(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null,this.changeQueue=null}ar.prototype.pushRepeatDigit=function(a){this.operator?this.motionRepeat=this.motionRepeat.concat(a):this.prefixRepeat=this.prefixRepeat.concat(a)},ar.prototype.getRepeat=function(){var a=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(a=1,this.prefixRepeat.length>0&&(a*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(a*=parseInt(this.motionRepeat.join(""),10))),a};function je(a,c){a.state.vim.inputState=new ar,n.signal(a,"vim-command-done",c)}function cd(){this.removed=[],this.inserted=""}function Ct(a,c,u){this.clear(),this.keyBuffer=[a||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!c,this.blockwise=!!u}Ct.prototype={setText:function(a,c,u){this.keyBuffer=[a||""],this.linewise=!!c,this.blockwise=!!u},pushText:function(a,c){c&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push(a)},pushInsertModeChanges:function(a){this.insertModeChanges.push(Ht(a))},pushSearchQuery:function(a){this.searchQueries.push(a)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}};function fd(a,c){var u=_.registerController.registers;if(!a||a.length!=1)throw Error("Register name must be 1 character");if(u[a])throw Error("Register already defined "+a);u[a]=c,ie.push(a)}function oa(a){this.registers=a,this.unnamedRegister=a['"']=new Ct,a["."]=new Ct,a[":"]=new Ct,a["/"]=new Ct,a["+"]=new Ct}oa.prototype={pushText:function(a,c,u,d,g){if(a!=="_"){d&&u.charAt(u.length-1)!==`
`&&(u+=`
`);var m=this.isValidRegister(a)?this.getRegister(a):null;if(!m){switch(c){case"yank":this.registers[0]=new Ct(u,d,g);break;case"delete":case"change":u.indexOf(`
`)==-1?this.registers["-"]=new Ct(u,d):(this.shiftNumericRegisters_(),this.registers[1]=new Ct(u,d));break}this.unnamedRegister.setText(u,d,g);return}var x=ue(a);x?m.pushText(u,d):m.setText(u,d,g),a==="+"&&navigator.clipboard.writeText(u),this.unnamedRegister.setText(m.toString(),d)}},getRegister:function(a){return this.isValidRegister(a)?(a=a.toLowerCase(),this.registers[a]||(this.registers[a]=new Ct),this.registers[a]):this.unnamedRegister},isValidRegister:function(a){return a&&Ee(a,ie)},shiftNumericRegisters_:function(){for(var a=9;a>=2;a--)this.registers[a]=this.getRegister(""+(a-1))}};function Ws(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}Ws.prototype={nextMatch:function(a,c){var u=this.historyBuffer,d=c?-1:1;this.initialPrefix===null&&(this.initialPrefix=a);for(var g=this.iterator+d;c?g>=0:g<u.length;g+=d)for(var m=u[g],x=0;x<=m.length;x++)if(this.initialPrefix==m.substring(0,x))return this.iterator=g,m;if(g>=u.length)return this.iterator=u.length,this.initialPrefix;if(g<0)return a},pushInput:function(a){var c=this.historyBuffer.indexOf(a);c>-1&&this.historyBuffer.splice(c,1),a.length&&this.historyBuffer.push(a)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var Yi={matchCommand:function(a,c,u,d){var g=pd(a,c,d,u);if(!g.full&&!g.partial)return{type:"none"};if(!g.full&&g.partial)return{type:"partial"};for(var m,x=0;x<g.full.length;x++){var S=g.full[x];m||(m=S)}if(m.keys.slice(-11)=="<character>"){var b=md(a);if(!b||b.length>1)return{type:"clear"};u.selectedCharacter=b}return{type:"full",command:m}},processCommand:function(a,c,u){switch(c.inputState.repeatOverride=u.repeatOverride,u.type){case"motion":this.processMotion(a,c,u);break;case"operator":this.processOperator(a,c,u);break;case"operatorMotion":this.processOperatorMotion(a,c,u);break;case"action":this.processAction(a,c,u);break;case"search":this.processSearch(a,c,u);break;case"ex":case"keyToEx":this.processEx(a,c,u);break}},processMotion:function(a,c,u){c.inputState.motion=u.motion,c.inputState.motionArgs=hr(u.motionArgs),this.evalInput(a,c)},processOperator:function(a,c,u){var d=c.inputState;if(d.operator)if(d.operator==u.operator){d.motion="expandToLine",d.motionArgs={linewise:!0},this.evalInput(a,c);return}else je(a);d.operator=u.operator,d.operatorArgs=hr(u.operatorArgs),u.keys.length>1&&(d.operatorShortcut=u.keys),u.exitVisualBlock&&(c.visualBlock=!1,Ii(a)),c.visualMode&&this.evalInput(a,c)},processOperatorMotion:function(a,c,u){var d=c.visualMode,g=hr(u.operatorMotionArgs);g&&d&&g.visualLine&&(c.visualLine=!0),this.processOperator(a,c,u),d||this.processMotion(a,c,u)},processAction:function(a,c,u){var d=c.inputState,g=d.getRepeat(),m=!!g,x=hr(u.actionArgs)||{};d.selectedCharacter&&(x.selectedCharacter=d.selectedCharacter),u.operator&&this.processOperator(a,c,u),u.motion&&this.processMotion(a,c,u),(u.motion||u.operator)&&this.evalInput(a,c),x.repeat=g||1,x.repeatIsExplicit=m,x.registerName=d.registerName,je(a),c.lastMotion=null,u.isEdit&&this.recordLastEdit(c,d,u),Bi[u.action](a,x,c)},processSearch:function(a,c,u){if(!a.getSearchCursor)return;var d=u.searchArgs.forward,g=u.searchArgs.wholeWordOnly;Mt(a).setReversed(!d);var m=d?"/":"?",x=Mt(a).getQuery(),S=a.getScrollInfo();function b(A,G,F){_.searchHistoryController.pushInput(A),_.searchHistoryController.reset();try{Sn(a,A,G,F)}catch{pe(a,"Invalid regex: "+A),je(a);return}Yi.processMotion(a,c,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:u.searchArgs.toJumplist}})}function $(A){a.scrollTo(S.left,S.top),b(A,!0,!0);var G=_.macroModeState;G.isRecording&&Fd(G,A)}function k(A,G,F){var N=n.keyName(A),ge,He;N=="Up"||N=="Down"?(ge=N=="Up",He=A.target?A.target.selectionEnd:0,G=_.searchHistoryController.nextMatch(G,ge)||"",F(G),He&&A.target&&(A.target.selectionEnd=A.target.selectionStart=Math.min(He,A.target.value.length))):N!="Left"&&N!="Right"&&N!="Ctrl"&&N!="Alt"&&N!="Shift"&&_.searchHistoryController.reset();var Xe;try{Xe=Sn(a,G,!0,!0)}catch{}Xe?a.scrollIntoView(Xa(a,!d,Xe),30):(zs(a),a.scrollTo(S.left,S.top))}function R(A,G,F){var N=n.keyName(A);N=="Esc"||N=="Ctrl-C"||N=="Ctrl-["||N=="Backspace"&&G==""?(_.searchHistoryController.pushInput(G),_.searchHistoryController.reset(),Sn(a,x),zs(a),a.scrollTo(S.left,S.top),n.e_stop(A),je(a),F(),a.focus()):N=="Up"||N=="Down"?n.e_stop(A):N=="Ctrl-U"&&(n.e_stop(A),F(""))}switch(u.searchArgs.querySrc){case"prompt":var W=_.macroModeState;if(W.isPlaying){var z=W.replaySearchQueries.shift();b(z,!0,!1)}else cr(a,{onClose:$,prefix:m,desc:"(JavaScript regexp)",onKeyUp:k,onKeyDown:R});break;case"wordUnderCursor":var T=Ms(a,{noSymbol:!0}),C=!0;if(T||(T=Ms(a,{noSymbol:!1}),C=!1),!T){pe(a,"No word under cursor"),je(a);return}var z=a.getLine(T.start.line).substring(T.start.ch,T.end.ch);C&&g?z="\\b"+z+"\\b":z=vd(z),_.jumpList.cachedCursor=a.getCursor(),a.setCursor(T.start),b(z,!0,!1);break}},processEx:function(a,c,u){function d(m){_.exCommandHistoryController.pushInput(m),_.exCommandHistoryController.reset(),Tt.processCommand(a,m),a.state.vim&&je(a)}function g(m,x,S){var b=n.keyName(m),$,k;(b=="Esc"||b=="Ctrl-C"||b=="Ctrl-["||b=="Backspace"&&x=="")&&(_.exCommandHistoryController.pushInput(x),_.exCommandHistoryController.reset(),n.e_stop(m),je(a),S(),a.focus()),b=="Up"||b=="Down"?(n.e_stop(m),$=b=="Up",k=m.target?m.target.selectionEnd:0,x=_.exCommandHistoryController.nextMatch(x,$)||"",S(x),k&&m.target&&(m.target.selectionEnd=m.target.selectionStart=Math.min(k,m.target.value.length))):b=="Ctrl-U"?(n.e_stop(m),S("")):b!="Left"&&b!="Right"&&b!="Ctrl"&&b!="Alt"&&b!="Shift"&&_.exCommandHistoryController.reset()}u.type=="keyToEx"?Tt.processCommand(a,u.exArgs.input):c.visualMode?cr(a,{onClose:d,prefix:":",value:"'<,'>",onKeyDown:g,selectValueOnOpen:!1}):cr(a,{onClose:d,prefix:":",onKeyDown:g})},evalInput:function(a,c){var u=c.inputState,d=u.motion,g=u.motionArgs||{},m=u.operator,x=u.operatorArgs||{},S=u.registerName,b=c.sel,$=ve(c.visualMode?nt(a,b.head):a.getCursor("head")),k=ve(c.visualMode?nt(a,b.anchor):a.getCursor("anchor")),R=ve($),W=ve(k),T,C,z;if(m&&this.recordLastEdit(c,u),u.repeatOverride!==void 0?z=u.repeatOverride:z=u.getRepeat(),z>0&&g.explicitRepeat?g.repeatIsExplicit=!0:(g.noRepeat||!g.explicitRepeat&&z===0)&&(z=1,g.repeatIsExplicit=!1),u.selectedCharacter&&(g.selectedCharacter=x.selectedCharacter=u.selectedCharacter),g.repeat=z,je(a),d){var A=Kt[d](a,$,g,c,u);if(c.lastMotion=Kt[d],!A)return;if(g.toJumplist){var G=_.jumpList,F=G.cachedCursor;F?(Oa(a,F,A),delete G.cachedCursor):Oa(a,$,A)}A instanceof Array?(C=A[0],T=A[1]):T=A,T||(T=ve($)),c.visualMode?(c.visualBlock&&T.ch===1/0||(T=nt(a,T,R)),C&&(C=nt(a,C)),C=C||W,b.anchor=C,b.head=T,Ii(a),Jt(a,c,"<",ke(C,T)?C:T),Jt(a,c,">",ke(C,T)?T:C)):m||(T=nt(a,T,R),a.setCursor(T.line,T.ch))}if(m){if(x.lastSel){C=W;var N=x.lastSel,ge=Math.abs(N.head.line-N.anchor.line),He=Math.abs(N.head.ch-N.anchor.ch);N.visualLine?T=new e(W.line+ge,W.ch):N.visualBlock?T=new e(W.line+ge,W.ch+He):N.head.line==N.anchor.line?T=new e(W.line,W.ch+He):T=new e(W.line+ge,W.ch),c.visualMode=!0,c.visualLine=N.visualLine,c.visualBlock=N.visualBlock,b=c.sel={anchor:C,head:T},Ii(a)}else c.visualMode&&(x.lastSel={anchor:ve(b.anchor),head:ve(b.head),visualBlock:c.visualBlock,visualLine:c.visualLine});var Xe,ze,oe,ae,rt;if(c.visualMode){Xe=ut(b.head,b.anchor),ze=hi(b.head,b.anchor),oe=c.visualLine||x.linewise,ae=c.visualBlock?"block":oe?"line":"char";var Ye=i(a,Xe,ze);if(rt=Vs(a,{anchor:Ye.start,head:Ye.end},ae),oe){var Ae=rt.ranges;if(ae=="block")for(var ui=0;ui<Ae.length;ui++)Ae[ui].head.ch=De(a,Ae[ui].head.line);else ae=="line"&&(Ae[0].head=new e(Ae[0].head.line+1,0))}}else{if(Xe=ve(C||W),ze=ve(T||R),ke(ze,Xe)){var Kd=Xe;Xe=ze,ze=Kd}oe=g.linewise||x.linewise,oe?$d(a,Xe,ze):g.forward&&Qd(a,Xe,ze),ae="char";var Jd=!g.inclusive||oe,Ye=i(a,Xe,ze);rt=Vs(a,{anchor:Ye.start,head:Ye.end},ae,Jd)}a.setSelections(rt.ranges,rt.primary),c.lastMotion=null,x.repeat=z,x.registerName=S,x.linewise=oe;var js=Ys[m](a,x,rt.ranges,W,T);c.visualMode&&At(a,js!=null),js&&a.setCursor(js)}},recordLastEdit:function(a,c,u){var d=_.macroModeState;d.isPlaying||(a.lastEditInputState=c,a.lastEditActionCommand=u,d.lastInsertModeChanges.changes=[],d.lastInsertModeChanges.expectCursorActivityForChange=!1,d.lastInsertModeChanges.visualBlock=a.visualBlock?a.sel.head.line-a.sel.anchor.line:0)}},Kt={moveToTopLine:function(a,c,u){var d=qs(a).top+u.repeat-1;return new e(d,Vt(a.getLine(d)))},moveToMiddleLine:function(a){var c=qs(a),u=Math.floor((c.top+c.bottom)*.5);return new e(u,Vt(a.getLine(u)))},moveToBottomLine:function(a,c,u){var d=qs(a).bottom-u.repeat+1;return new e(d,Vt(a.getLine(d)))},expandToLine:function(a,c,u){var d=c;return new e(d.line+u.repeat-1,1/0)},findNext:function(a,c,u){var d=Mt(a),g=d.getQuery();if(g){var m=!u.forward;return m=d.isReversed()?!m:m,ka(a,g),Xa(a,m,g,u.repeat)}},findAndSelectNextInclusive:function(a,c,u,d,g){var m=Mt(a),x=m.getQuery();if(x){var S=!u.forward;S=m.isReversed()?!S:S;var b=jd(a,S,x,u.repeat,d);if(b){if(g.operator)return b;var $=b[0],k=new e(b[1].line,b[1].ch-1);if(d.visualMode){(d.visualLine||d.visualBlock)&&(d.visualLine=!1,d.visualBlock=!1,n.signal(a,"vim-mode-change",{mode:"visual",subMode:""}));var R=d.sel.anchor;if(R)return m.isReversed()?u.forward?[R,$]:[R,k]:u.forward?[R,k]:[R,$]}else d.visualMode=!0,d.visualLine=!1,d.visualBlock=!1,n.signal(a,"vim-mode-change",{mode:"visual",subMode:""});return S?[k,$]:[$,k]}}},goToMark:function(a,c,u,d){var g=ur(a,d,u.selectedCharacter);return g?u.linewise?{line:g.line,ch:Vt(a.getLine(g.line))}:g:null},moveToOtherHighlightedEnd:function(a,c,u,d){if(d.visualBlock&&u.sameLine){var g=d.sel;return[nt(a,new e(g.anchor.line,g.head.ch)),nt(a,new e(g.head.line,g.anchor.ch))]}else return[d.sel.head,d.sel.anchor]},jumpToMark:function(a,c,u,d){for(var g=c,m=0;m<u.repeat;m++){var x=g;for(var S in d.marks)if(K(S)){var b=d.marks[S].find(),$=u.forward?ke(b,x):ke(x,b);if(!$&&!(u.linewise&&b.line==x.line)){var k=yt(x,g),R=u.forward?ha(x,b,g):ha(g,b,x);(k||R)&&(g=b)}}}return u.linewise&&(g=new e(g.line,Vt(a.getLine(g.line)))),g},moveByCharacters:function(a,c,u){var d=c,g=u.repeat,m=u.forward?d.ch+g:d.ch-g;return new e(d.line,m)},moveByLines:function(a,c,u,d){var g=c,m=g.ch;switch(d.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:m=d.lastHPos;break;default:d.lastHPos=m}var x=u.repeat+(u.repeatOffset||0),S=u.forward?g.line+x:g.line-x,b=a.firstLine(),$=a.lastLine(),k=a.findPosV(g,u.forward?x:-x,"line",d.lastHSPos),R=u.forward?k.line>S:k.line<S;return R&&(S=k.line,m=k.ch),S<b&&g.line==b?this.moveToStartOfLine(a,c,u,d):S>$&&g.line==$?ma(a,c,u,d,!0):(u.toFirstChar&&(m=Vt(a.getLine(S)),d.lastHPos=m),d.lastHSPos=a.charCoords(new e(S,m),"div").left,new e(S,m))},moveByDisplayLines:function(a,c,u,d){var g=c;switch(d.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:d.lastHSPos=a.charCoords(g,"div").left}var m=u.repeat,x=a.findPosV(g,u.forward?m:-m,"line",d.lastHSPos);if(x.hitSide)if(u.forward)var S=a.charCoords(x,"div"),b={top:S.top+8,left:d.lastHSPos},x=a.coordsChar(b,"div");else{var $=a.charCoords(new e(a.firstLine(),0),"div");$.left=d.lastHSPos,x=a.coordsChar($,"div")}return d.lastHPos=x.ch,x},moveByPage:function(a,c,u){var d=c,g=u.repeat;return a.findPosV(d,u.forward?g:-g,"page")},moveByParagraph:function(a,c,u){var d=u.forward?1:-1;return va(a,c,u.repeat,d)},moveBySentence:function(a,c,u){var d=u.forward?1:-1;return Rd(a,c,u.repeat,d)},moveByScroll:function(a,c,u,d){var g=a.getScrollInfo(),m=null,x=u.repeat;x||(x=g.clientHeight/(2*a.defaultTextHeight()));var S=a.charCoords(c,"local");if(u.repeat=x,m=Kt.moveByDisplayLines(a,c,u,d),!m)return null;var b=a.charCoords(m,"local");return a.scrollTo(null,g.top+b.top-S.top),m},moveByWords:function(a,c,u){return Cd(a,c,u.repeat,!!u.forward,!!u.wordEnd,!!u.bigWord)},moveTillCharacter:function(a,c,u){var d=u.repeat,g=Zs(a,d,u.forward,u.selectedCharacter,c),m=u.forward?-1:1;return da(m,u),g?(g.ch+=m,g):null},moveToCharacter:function(a,c,u){var d=u.repeat;return da(0,u),Zs(a,d,u.forward,u.selectedCharacter,c)||c},moveToSymbol:function(a,c,u){var d=u.repeat;return Pd(a,d,u.forward,u.selectedCharacter)||c},moveToColumn:function(a,c,u,d){var g=u.repeat;return d.lastHPos=g-1,d.lastHSPos=a.charCoords(c,"div").left,Td(a,g)},moveToEol:function(a,c,u,d){return ma(a,c,u,d,!1)},moveToFirstNonWhiteSpaceCharacter:function(a,c){var u=c;return new e(u.line,Vt(a.getLine(u.line)))},moveToMatchedSymbol:function(a,c){for(var u=c,d=u.line,g=u.ch,m=a.getLine(d),x;g<m.length;g++)if(x=m.charAt(g),x&&fe(x)){var S=a.getTokenTypeAt(new e(d,g+1));if(S!=="string"&&S!=="comment")break}if(g<m.length){var b=g==="<"||g===">"?/[(){}[\]<>]/:/[(){}[\]]/,$=a.findMatchingBracket(new e(d,g),{bracketRegex:b});return $.to}else return u},moveToStartOfLine:function(a,c){return new e(c.line,0)},moveToLineOrEdgeOfDocument:function(a,c,u){var d=u.forward?a.lastLine():a.firstLine();return u.repeatIsExplicit&&(d=u.repeat-a.getOption("firstLineNumber")),new e(d,Vt(a.getLine(d)))},moveToStartOfDisplayLine:function(a){return a.execCommand("goLineLeft"),a.getCursor()},moveToEndOfDisplayLine:function(a){a.execCommand("goLineRight");var c=a.getCursor();return c.sticky=="before"&&c.ch--,c},textObjectManipulation:function(a,c,u,d){var g={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},m={"'":!0,'"':!0,"`":!0},x=u.selectedCharacter;x=="b"?x="(":x=="B"&&(x="{");var S=!u.textObjectInner,b,$;if(g[x]){if($=!0,b=xa(a,c,x,S),!b){var k=a.getSearchCursor(new RegExp("\\"+x,"g"),c);k.find()&&(b=xa(a,k.from(),x,S))}}else if(m[x])$=!0,b=Wd(a,c,x,S);else if(x==="W"||x==="w")for(var R=u.repeat||1;R-- >0;){var W=Ms(a,{inclusive:S,innerWord:!S,bigWord:x==="W",noSymbol:x==="W",multiline:!0},b&&b.end);W&&(b||(b=W),b.end=W.end)}else if(x==="p")if(b=va(a,c,u.repeat,0,S),u.linewise=!0,d.visualMode)d.visualLine||(d.visualLine=!0);else{var T=d.inputState.operatorArgs;T&&(T.linewise=!0),b.end.line--}else if(x==="t")b=kd(a,c,S);else if(x==="s"){var C=a.getLine(c.line);c.ch>0&&Pe(C[c.ch])&&(c.ch-=1);var z=ya(a,c,u.repeat,1,S),A=ya(a,c,u.repeat,-1,S);de(a.getLine(A.line)[A.ch])&&de(a.getLine(z.line)[z.ch-1])&&(A={line:A.line,ch:A.ch+1}),b={start:A,end:z}}return b?a.state.vim.visualMode?Sd(a,b.start,b.end,$):[b.start,b.end]:null},repeatLastCharacterSearch:function(a,c,u){var d=_.lastCharacterSearch,g=u.repeat,m=u.forward===d.forward,x=(d.increment?1:0)*(m?-1:1);a.moveH(-x,"char"),u.inclusive=!!m;var S=Zs(a,g,m,d.selectedCharacter);return S?(S.ch+=x,S):(a.moveH(x,"char"),c)}};function ud(a,c){Kt[a]=c}function la(a,c){for(var u=[],d=0;d<c;d++)u.push(a);return u}var Ys={change:function(a,c,u){var d,g,m=a.state.vim,x=u[0].anchor,S=u[0].head;if(m.visualMode)if(c.fullLine)S.ch=Number.MAX_VALUE,S.line--,a.setSelection(x,S),g=a.getSelection(),a.replaceSelection(""),d=x;else{g=a.getSelection();var k=la("",u.length);a.replaceSelections(k),d=ut(u[0].head,u[0].anchor)}else{g=a.getRange(x,S);var b=m.lastEditInputState||{};if(b.motion=="moveByWords"&&!de(g)){var $=/\s+$/.exec(g);$&&b.motionArgs&&b.motionArgs.forward&&(S=We(S,0,-$[0].length),g=g.slice(0,-$[0].length))}c.linewise&&(x=new e(x.line,Vt(a.getLine(x.line))),S.line>x.line&&(S=new e(S.line-1,Number.MAX_VALUE))),a.replaceRange("",x,S),d=x}_.registerController.pushText(c.registerName,"change",g,c.linewise,u.length>1),Bi.enterInsertMode(a,{head:d},a.state.vim)},delete:function(a,c,u){var d,g,m=a.state.vim;if(m.visualBlock){g=a.getSelection();var b=la("",u.length);a.replaceSelections(b),d=ut(u[0].head,u[0].anchor)}else{var x=u[0].anchor,S=u[0].head;c.linewise&&S.line!=a.firstLine()&&x.line==a.lastLine()&&x.line==S.line-1&&(x.line==a.firstLine()?x.ch=0:x=new e(x.line-1,De(a,x.line-1))),g=a.getRange(x,S),a.replaceRange("",x,S),d=x,c.linewise&&(d=Kt.moveToFirstNonWhiteSpaceCharacter(a,x))}return _.registerController.pushText(c.registerName,"delete",g,c.linewise,m.visualBlock),nt(a,d)},indent:function(a,c,u){var d=a.state.vim;if(a.indentMore)for(var g=d.visualMode?c.repeat:1,m=0;m<g;m++)c.indentRight?a.indentMore():a.indentLess();else{var x=u[0].anchor.line,S=d.visualBlock?u[u.length-1].anchor.line:u[0].head.line,g=d.visualMode?c.repeat:1;c.linewise&&S--;for(var b=x;b<=S;b++)for(var m=0;m<g;m++)a.indentLine(b,c.indentRight)}return Kt.moveToFirstNonWhiteSpaceCharacter(a,u[0].anchor)},indentAuto:function(a,c,u){return a.execCommand("indentAuto"),Kt.moveToFirstNonWhiteSpaceCharacter(a,u[0].anchor)},hardWrap:function(a,c,u,d,g){if(a.hardWrap){var m=u[0].anchor.line,x=u[0].head.line;c.linewise&&x--;var S=a.hardWrap({from:m,to:x});return S>m&&c.linewise&&S--,c.keepCursor?d:new e(S,0)}},changeCase:function(a,c,u,d,g){for(var m=a.getSelections(),x=[],S=c.toLower,b=0;b<m.length;b++){var $=m[b],k="";if(S===!0)k=$.toLowerCase();else if(S===!1)k=$.toUpperCase();else for(var R=0;R<$.length;R++){var W=$.charAt(R);k+=ue(W)?W.toLowerCase():W.toUpperCase()}x.push(k)}return a.replaceSelections(x),c.shouldMoveCursor?g:!a.state.vim.visualMode&&c.linewise&&u[0].anchor.line+1==u[0].head.line?Kt.moveToFirstNonWhiteSpaceCharacter(a,d):c.linewise?d:ut(u[0].anchor,u[0].head)},yank:function(a,c,u,d){var g=a.state.vim,m=a.getSelection(),x=g.visualMode?ut(g.sel.anchor,g.sel.head,u[0].head,u[0].anchor):d;return _.registerController.pushText(c.registerName,"yank",m,c.linewise,g.visualBlock),x}};function Od(a,c){Ys[a]=c}var Bi={jumpListWalk:function(a,c,u){if(!u.visualMode){var d=c.repeat,g=c.forward,m=_.jumpList,x=m.move(a,g?d:-d),S=x?x.find():void 0;S=S||a.getCursor(),a.setCursor(S)}},scroll:function(a,c,u){if(!u.visualMode){var d=c.repeat||1,g=a.defaultTextHeight(),m=a.getScrollInfo().top,x=g*d,S=c.forward?m+x:m-x,b=ve(a.getCursor()),$=a.charCoords(b,"local");if(c.forward)S>$.top?(b.line+=(S-$.top)/g,b.line=Math.ceil(b.line),a.setCursor(b),$=a.charCoords(b,"local"),a.scrollTo(null,$.top)):a.scrollTo(null,S);else{var k=S+a.getScrollInfo().clientHeight;k<$.bottom?(b.line-=($.bottom-k)/g,b.line=Math.floor(b.line),a.setCursor(b),$=a.charCoords(b,"local"),a.scrollTo(null,$.bottom-a.getScrollInfo().clientHeight)):a.scrollTo(null,S)}}},scrollToCursor:function(a,c){var u=a.getCursor().line,d=a.charCoords(new e(u,0),"local"),g=a.getScrollInfo().clientHeight,m=d.top;switch(c.position){case"center":m=d.bottom-g/2;break;case"bottom":var x=new e(u,a.getLine(u).length-1),S=a.charCoords(x,"local"),b=S.bottom-m;m=m-g+b;break}a.scrollTo(null,m)},replayMacro:function(a,c,u){var d=c.selectedCharacter,g=c.repeat,m=_.macroModeState;for(d=="@"?d=m.latestRegister:m.latestRegister=d;g--;)Id(a,u,m,d)},enterMacroRecordMode:function(a,c){var u=_.macroModeState,d=c.selectedCharacter;_.registerController.isValidRegister(d)&&u.enterMacroRecordMode(a,d)},toggleOverwrite:function(a){a.state.overwrite?(a.toggleOverwrite(!1),a.setOption("keyMap","vim-insert"),n.signal(a,"vim-mode-change",{mode:"insert"})):(a.toggleOverwrite(!0),a.setOption("keyMap","vim-replace"),n.signal(a,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(a,c,u){if(!a.getOption("readOnly")){u.insertMode=!0,u.insertModeRepeat=c&&c.repeat||1;var d=c?c.insertAt:null,g=u.sel,m=c.head||a.getCursor("head"),x=a.listSelections().length;if(d=="eol")m=new e(m.line,De(a,m.line));else if(d=="bol")m=new e(m.line,0);else if(d=="charAfter"){var S=i(a,m,We(m,0,1));m=S.end}else if(d=="firstNonBlank"){var S=i(a,m,Kt.moveToFirstNonWhiteSpaceCharacter(a,m));m=S.end}else if(d=="startOfSelectedArea"){if(!u.visualMode)return;u.visualBlock?(m=new e(Math.min(g.head.line,g.anchor.line),Math.min(g.head.ch,g.anchor.ch)),x=Math.abs(g.head.line-g.anchor.line)+1):g.head.line<g.anchor.line?m=g.head:m=new e(g.anchor.line,0)}else if(d=="endOfSelectedArea"){if(!u.visualMode)return;u.visualBlock?(m=new e(Math.min(g.head.line,g.anchor.line),Math.max(g.head.ch,g.anchor.ch)+1),x=Math.abs(g.head.line-g.anchor.line)+1):g.head.line>=g.anchor.line?m=We(g.head,0,1):m=new e(g.anchor.line,0)}else if(d=="inplace"){if(u.visualMode)return}else d=="lastEdit"&&(m=Pa(a)||m);a.setOption("disableInput",!1),c&&c.replace?(a.toggleOverwrite(!0),a.setOption("keyMap","vim-replace"),n.signal(a,"vim-mode-change",{mode:"replace"})):(a.toggleOverwrite(!1),a.setOption("keyMap","vim-insert"),n.signal(a,"vim-mode-change",{mode:"insert"})),_.macroModeState.isPlaying||(a.on("change",Ra),u.insertEnd&&u.insertEnd.clear(),u.insertEnd=a.setBookmark(m,{insertLeft:!0}),n.on(a.getInputField(),"keydown",Aa)),u.visualMode&&At(a),fa(a,m,x)}},toggleVisualMode:function(a,c,u){var d=c.repeat,g=a.getCursor(),m;if(u.visualMode)u.visualLine^c.linewise||u.visualBlock^c.blockwise?(u.visualLine=!!c.linewise,u.visualBlock=!!c.blockwise,n.signal(a,"vim-mode-change",{mode:"visual",subMode:u.visualLine?"linewise":u.visualBlock?"blockwise":""}),Ii(a)):At(a);else{u.visualMode=!0,u.visualLine=!!c.linewise,u.visualBlock=!!c.blockwise,m=nt(a,new e(g.line,g.ch+d-1));var x=i(a,g,m);u.sel={anchor:x.start,head:x.end},n.signal(a,"vim-mode-change",{mode:"visual",subMode:u.visualLine?"linewise":u.visualBlock?"blockwise":""}),Ii(a),Jt(a,u,"<",ut(g,m)),Jt(a,u,">",hi(g,m))}},reselectLastSelection:function(a,c,u){var d=u.lastSelection;if(u.visualMode&&ua(a,u),d){var g=d.anchorMark.find(),m=d.headMark.find();if(!g||!m)return;u.sel={anchor:g,head:m},u.visualMode=!0,u.visualLine=d.visualLine,u.visualBlock=d.visualBlock,Ii(a),Jt(a,u,"<",ut(g,m)),Jt(a,u,">",hi(g,m)),n.signal(a,"vim-mode-change",{mode:"visual",subMode:u.visualLine?"linewise":u.visualBlock?"blockwise":""})}},joinLines:function(a,c,u){var d,g;if(u.visualMode){if(d=a.getCursor("anchor"),g=a.getCursor("head"),ke(g,d)){var m=g;g=d,d=m}g.ch=De(a,g.line)-1}else{var x=Math.max(c.repeat,2);d=a.getCursor(),g=nt(a,new e(d.line+x-1,1/0))}for(var S=0,b=d.line;b<g.line;b++){S=De(a,d.line);var $="",k=0;if(!c.keepSpaces){var R=a.getLine(d.line+1);k=R.search(/\S/),k==-1?k=R.length:$=" "}a.replaceRange($,new e(d.line,S),new e(d.line+1,k))}var W=nt(a,new e(d.line,S));u.visualMode&&At(a,!1),a.setCursor(W)},newLineAndEnterInsertMode:function(a,c,u){u.insertMode=!0;var d=ve(a.getCursor());if(d.line===a.firstLine()&&!c.after)a.replaceRange(`
`,new e(a.firstLine(),0)),a.setCursor(a.firstLine(),0);else{d.line=c.after?d.line:d.line-1,d.ch=De(a,d.line),a.setCursor(d);var g=n.commands.newlineAndIndentContinueComment||n.commands.newlineAndIndent;g(a)}this.enterInsertMode(a,{repeat:c.repeat},u)},paste:function(a,c,u){var d=_.registerController.getRegister(c.registerName);if(c.registerName==="+")navigator.clipboard.readText().then(m=>{this.continuePaste(a,c,u,m,d)});else{var g=d.toString();this.continuePaste(a,c,u,g,d)}},continuePaste:function(a,c,u,d,g){var m=ve(a.getCursor());if(d){if(c.matchIndent){var x=a.getOption("tabSize"),S=function(Ye){var Ae=Ye.split("	").length-1,ui=Ye.split(" ").length-1;return Ae*x+ui*1},b=a.getLine(a.getCursor().line),$=S(b.match(/^\s*/)[0]),k=d.replace(/\n$/,""),R=d!==k,W=S(d.match(/^\s*/)[0]),d=k.replace(/^\s*/gm,function(Ye){var Ae=$+(S(Ye)-W);if(Ae<0)return"";if(a.getOption("indentWithTabs")){var ui=Math.floor(Ae/x);return Array(ui+1).join("	")}else return Array(Ae+1).join(" ")});d+=R?`
`:""}if(c.repeat>1)var d=Array(c.repeat+1).join(d);var T=g.linewise,C=g.blockwise;if(C){d=d.split(`
`),T&&d.pop();for(var z=0;z<d.length;z++)d[z]=d[z]==""?" ":d[z];m.ch+=c.after?1:0,m.ch=Math.min(De(a,m.line),m.ch)}else T?u.visualMode?d=u.visualLine?d.slice(0,-1):`
`+d.slice(0,d.length-1)+`
`:c.after?(d=`
`+d.slice(0,d.length-1),m.ch=De(a,m.line)):m.ch=0:m.ch+=c.after?1:0;var A;if(u.visualMode){u.lastPastedText=d;var G,F=bd(a,u),N=F[0],ge=F[1],He=a.getSelection(),Xe=a.listSelections(),ze=new Array(Xe.length).join("1").split("1");u.lastSelection&&(G=u.lastSelection.headMark.find()),_.registerController.unnamedRegister.setText(He),C?(a.replaceSelections(ze),ge=new e(N.line+d.length-1,N.ch),a.setCursor(N),ca(a,ge),a.replaceSelections(d),A=N):u.visualBlock?(a.replaceSelections(ze),a.setCursor(N),a.replaceRange(d,N,N),A=N):(a.replaceRange(d,N,ge),A=a.posFromIndex(a.indexFromPos(N)+d.length-1)),G&&(u.lastSelection.headMark=a.setBookmark(G)),T&&(A.ch=0)}else if(C){a.setCursor(m);for(var z=0;z<d.length;z++){var oe=m.line+z;oe>a.lastLine()&&a.replaceRange(`
`,new e(oe,0));var ae=De(a,oe);ae<m.ch&&yd(a,oe,m.ch)}a.setCursor(m),ca(a,new e(m.line+d.length-1,m.ch)),a.replaceSelections(d),A=m}else if(a.replaceRange(d,m),T){var oe=c.after?m.line+1:m.line;A=new e(oe,Vt(a.getLine(oe)))}else A=ve(m),/\n/.test(d)||(A.ch+=d.length-(c.after?1:0));u.visualMode&&At(a,!1),a.setCursor(A)}},undo:function(a,c){a.operation(function(){aa(a,n.commands.undo,c.repeat)(),a.setCursor(nt(a,a.getCursor("start")))})},redo:function(a,c){aa(a,n.commands.redo,c.repeat)()},setRegister:function(a,c,u){u.inputState.registerName=c.selectedCharacter},insertRegister:function(a,c,u){var d=c.selectedCharacter,g=_.registerController.getRegister(d),m=g&&g.toString();m&&a.replaceSelection(m)},oneNormalCommand:function(a,c,u){fi(a,!0),u.insertModeReturn=!0,n.on(a,"vim-command-done",function d(){u.visualMode||(u.insertModeReturn&&(u.insertModeReturn=!1,u.insertMode||Bi.enterInsertMode(a,{},u)),n.off(a,"vim-command-done",d))})},setMark:function(a,c,u){var d=c.selectedCharacter;Jt(a,u,d,a.getCursor())},replace:function(a,c,u){var d=c.selectedCharacter,g=a.getCursor(),m,x,S=a.listSelections();if(u.visualMode)g=a.getCursor("start"),x=a.getCursor("end");else{var b=a.getLine(g.line);m=g.ch+c.repeat,m>b.length&&(m=b.length),x=new e(g.line,m)}var $=i(a,g,x);if(g=$.start,x=$.end,d==`
`)u.visualMode||a.replaceRange("",g,x),(n.commands.newlineAndIndentContinueComment||n.commands.newlineAndIndent)(a);else{var k=a.getRange(g,x);if(k=k.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d),k=k.replace(/[^\n]/g,d),u.visualBlock){var R=new Array(a.getOption("tabSize")+1).join(" ");k=a.getSelection(),k=k.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d),k=k.replace(/\t/g,R).replace(/[^\n]/g,d).split(`
`),a.replaceSelections(k)}else a.replaceRange(k,g,x);u.visualMode?(g=ke(S[0].anchor,S[0].head)?S[0].anchor:S[0].head,a.setCursor(g),At(a,!1)):a.setCursor(We(x,0,-1))}},incrementNumberToken:function(a,c){for(var u=a.getCursor(),d=a.getLine(u.line),g=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,m,x,S,b;(m=g.exec(d))!==null&&(x=m.index,S=x+m[0].length,!(u.ch<S)););if(!(!c.backtrack&&S<=u.ch)){if(m){var $=m[2]||m[4],k=m[3]||m[5],R=c.increase?1:-1,W={"0b":2,0:8,"":10,"0x":16}[$.toLowerCase()],T=parseInt(m[1]+k,W)+R*c.repeat;b=T.toString(W);var C=$?new Array(k.length-b.length+1+m[1].length).join("0"):"";b.charAt(0)==="-"?b="-"+$+C+b.substr(1):b=$+C+b;var z=new e(u.line,x),A=new e(u.line,S);a.replaceRange(b,z,A)}else return;a.setCursor(new e(u.line,x+b.length-1))}},repeatLastEdit:function(a,c,u){var d=u.lastEditInputState;if(d){var g=c.repeat;g&&c.repeatIsExplicit?u.lastEditInputState.repeatOverride=g:g=u.lastEditInputState.repeatOverride||g,Va(a,u,g,!1)}},indent:function(a,c){a.indentLine(a.getCursor().line,c.indentRight)},exitInsertMode:fi};function dd(a,c){Bi[a]=c}function nt(a,c,u){var d=a.state.vim,g=d.insertMode||d.visualMode,m=Math.min(Math.max(a.firstLine(),c.line),a.lastLine()),x=a.getLine(m),S=x.length-1+ +!!g,b=Math.min(Math.max(0,c.ch),S),$=x.charCodeAt(b);if(56320<=$&&$<=57343){var k=1;u&&u.line==m&&u.ch>b&&(k=-1),b+=k,b>S&&(b-=2)}return new e(m,b)}function hr(a){var c={};for(var u in a)a.hasOwnProperty(u)&&(c[u]=a[u]);return c}function We(a,c,u){return typeof c=="object"&&(u=c.ch,c=c.line),new e(a.line+c,a.ch+u)}function pd(a,c,u,d){d.operator&&(u="operatorPending");for(var g,m=[],x=[],S=bn?c.length-s:0,b=S;b<c.length;b++){var $=c[b];u=="insert"&&$.context!="insert"||$.context&&$.context!=u||d.operator&&$.type=="action"||!(g=gd(a,$.keys))||(g=="partial"&&m.push($),g=="full"&&x.push($))}return{partial:m.length&&m,full:x.length&&x}}function gd(a,c){if(c.slice(-11)=="<character>"){var u=c.length-11,d=a.slice(0,u),g=c.slice(0,u);return d==g&&a.length>u?"full":g.indexOf(d)==0?"partial":!1}else return a==c?"full":c.indexOf(a)==0?"partial":!1}function md(a){var c=/^.*(<[^>]+>)$/.exec(a),u=c?c[1]:a.slice(-1);if(u.length>1)switch(u){case"<CR>":u=`
`;break;case"<Space>":u=" ";break;default:u="";break}return u}function aa(a,c,u){return function(){for(var d=0;d<u;d++)c(a)}}function ve(a){return new e(a.line,a.ch)}function yt(a,c){return a.ch==c.ch&&a.line==c.line}function ke(a,c){return a.line<c.line||a.line==c.line&&a.ch<c.ch}function ut(a,c){return arguments.length>2&&(c=ut.apply(void 0,Array.prototype.slice.call(arguments,1))),ke(a,c)?a:c}function hi(a,c){return arguments.length>2&&(c=hi.apply(void 0,Array.prototype.slice.call(arguments,1))),ke(a,c)?c:a}function ha(a,c,u){var d=ke(a,c),g=ke(c,u);return d&&g}function De(a,c){return a.getLine(c).length}function As(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function vd(a){return a.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function yd(a,c,u){var d=De(a,c),g=new Array(u-d+1).join(" ");a.setCursor(new e(c,d)),a.replaceRange(g,a.getCursor())}function ca(a,c){var u=[],d=a.listSelections(),g=ve(a.clipPos(c)),m=!yt(c,g),x=a.getCursor("head"),S=xd(d,x),b=yt(d[S].head,d[S].anchor),$=d.length-1,k=$-S>S?$:0,R=d[k].anchor,W=Math.min(R.line,g.line),T=Math.max(R.line,g.line),C=R.ch,z=g.ch,A=d[k].head.ch-C,G=z-C;A>0&&G<=0?(C++,m||z--):A<0&&G>=0?(C--,b||z++):A<0&&G==-1&&(C--,z++);for(var F=W;F<=T;F++){var N={anchor:new e(F,C),head:new e(F,z)};u.push(N)}return a.setSelections(u),c.ch=z,R.ch=C,R}function fa(a,c,u){for(var d=[],g=0;g<u;g++){var m=We(c,g,0);d.push({anchor:m,head:m})}a.setSelections(d,0)}function xd(a,c,u){for(var d=0;d<a.length;d++){var g=u!="head"&&yt(a[d].anchor,c),m=u!="anchor"&&yt(a[d].head,c);if(g||m)return d}return-1}function bd(a,c){var u=c.lastSelection,d=function(){var m=a.listSelections(),x=m[0],S=m[m.length-1],b=ke(x.anchor,x.head)?x.anchor:x.head,$=ke(S.anchor,S.head)?S.head:S.anchor;return[b,$]},g=function(){var m=a.getCursor(),x=a.getCursor(),S=u.visualBlock;if(S){var b=S.width,$=S.height;x=new e(m.line+$,m.ch+b);for(var k=[],R=m.line;R<x.line;R++){var W=new e(R,m.ch),T=new e(R,x.ch),C={anchor:W,head:T};k.push(C)}a.setSelections(k)}else{var z=u.anchorMark.find(),A=u.headMark.find(),G=A.line-z.line,F=A.ch-z.ch;x={line:x.line+G,ch:G?x.ch:F+x.ch},u.visualLine&&(m=new e(m.line,0),x=new e(x.line,De(a,x.line))),a.setSelection(m,x)}return[m,x]};return c.visualMode?d():g()}function ua(a,c){var u=c.sel.anchor,d=c.sel.head;c.lastPastedText&&(d=a.posFromIndex(a.indexFromPos(u)+c.lastPastedText.length),c.lastPastedText=null),c.lastSelection={anchorMark:a.setBookmark(u),headMark:a.setBookmark(d),anchor:ve(u),head:ve(d),visualMode:c.visualMode,visualLine:c.visualLine,visualBlock:c.visualBlock}}function Sd(a,c,u,d){var g=a.state.vim.sel,m=d?c:g.head,x=d?c:g.anchor,S;return ke(u,c)&&(S=u,u=c,c=S),ke(m,x)?(m=ut(c,m),x=hi(x,u)):(x=ut(c,x),m=hi(m,u),m=We(m,0,-1),m.ch==-1&&m.line!=a.firstLine()&&(m=new e(m.line-1,De(a,m.line-1)))),[x,m]}function Ii(a,c,g){var d=a.state.vim;c=c||d.sel;var g=g||d.visualLine?"line":d.visualBlock?"block":"char",m=Vs(a,c,g);a.setSelections(m.ranges,m.primary)}function Vs(a,c,u,d){var g=ve(c.head),m=ve(c.anchor);if(u=="char"){var x=!d&&!ke(c.head,c.anchor)?1:0,S=ke(c.head,c.anchor)?1:0;return g=We(c.head,0,x),m=We(c.anchor,0,S),{ranges:[{anchor:m,head:g}],primary:0}}else if(u=="line"){if(ke(c.head,c.anchor))g.ch=0,m.ch=De(a,m.line);else{m.ch=0;var b=a.lastLine();g.line>b&&(g.line=b),g.ch=De(a,g.line)}return{ranges:[{anchor:m,head:g}],primary:0}}else if(u=="block"){var $=Math.min(m.line,g.line),k=m.ch,R=Math.max(m.line,g.line),W=g.ch;k<W?W+=1:k+=1;for(var T=R-$+1,C=g.line==$?0:T-1,z=[],A=0;A<T;A++)z.push({anchor:new e($+A,k),head:new e($+A,W)});return{ranges:z,primary:C}}}function wd(a){var c=a.getCursor("head");return a.getSelection().length==1&&(c=ut(c,a.getCursor("anchor"))),c}function At(a,c){var u=a.state.vim;c!==!1&&a.setCursor(nt(a,u.sel.head)),ua(a,u),u.visualMode=!1,u.visualLine=!1,u.visualBlock=!1,u.insertMode||n.signal(a,"vim-mode-change",{mode:"normal"})}function Qd(a,c,u){var d=a.getRange(c,u);if(/\n\s*$/.test(d)){var g=d.split(`
`);g.pop();for(var m,m=g.pop();g.length>0&&m&&de(m);m=g.pop())u.line--,u.ch=0;m?(u.line--,u.ch=De(a,u.line)):u.ch=0}}function $d(a,c,u){c.ch=0,u.ch=0,u.line++}function Vt(a){if(!a)return 0;var c=a.search(/\S/);return c==-1?a.length:c}function Ms(a,{inclusive:c,innerWord:u,bigWord:d,noSymbol:g,multiline:m},x){var S=x||wd(a),b=a.getLine(S.line),$=b,k=S.line,R=k,W=S.ch,T,C=g?M[0]:q[0];if(u&&/\s/.test(b.charAt(W)))C=function(ge){return/\s/.test(ge)};else{for(;!C(b.charAt(W));)if(W++,W>=b.length){if(!m)return null;W--,T=ga(a,S,!0,d,!0);break}d?C=q[0]:(C=M[0],C(b.charAt(W))||(C=M[1]))}for(var z=W,A=W;C(b.charAt(A))&&A>=0;)A--;if(A++,T)z=T.to,R=T.line,$=a.getLine(R),!$&&z==0&&z++;else for(;C(b.charAt(z))&&z<b.length;)z++;if(c){var G=z,F=S.ch<=A&&/\s/.test(b.charAt(S.ch));if(!F)for(;/\s/.test($.charAt(z))&&z<$.length;)z++;if(G==z||F){for(var N=A;/\s/.test(b.charAt(A-1))&&A>0;)A--;!A&&!F&&(A=N)}}return{start:new e(k,A),end:new e(R,z)}}function kd(a,c,u){var d=c;if(!n.findMatchingTag||!n.findEnclosingTag)return{start:d,end:d};var g=n.findMatchingTag(a,c)||n.findEnclosingTag(a,c);return!g||!g.open||!g.close?{start:d,end:d}:u?{start:g.open.from,end:g.close.to}:{start:g.open.to,end:g.close.from}}function Oa(a,c,u){yt(c,u)||_.jumpList.add(a,c,u)}function da(a,c){_.lastCharacterSearch.increment=a,_.lastCharacterSearch.forward=c.forward,_.lastCharacterSearch.selectedCharacter=c.selectedCharacter}var Xd={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},pa={bracket:{isComplete:function(a){if(a.nextCh===a.symb){if(a.depth++,a.depth>=1)return!0}else a.nextCh===a.reverseSymb&&a.depth--;return!1}},section:{init:function(a){a.curMoveThrough=!0,a.symb=(a.forward?"]":"[")===a.symb?"{":"}"},isComplete:function(a){return a.index===0&&a.nextCh===a.symb}},comment:{isComplete:function(a){var c=a.lastCh==="*"&&a.nextCh==="/";return a.lastCh=a.nextCh,c}},method:{init:function(a){a.symb=a.symb==="m"?"{":"}",a.reverseSymb=a.symb==="{"?"}":"{"},isComplete:function(a){return a.nextCh===a.symb}},preprocess:{init:function(a){a.index=0},isComplete:function(a){if(a.nextCh==="#"){var c=a.lineText.match(/^#(\w+)/)[1];if(c==="endif"){if(a.forward&&a.depth===0)return!0;a.depth++}else if(c==="if"){if(!a.forward&&a.depth===0)return!0;a.depth--}if(c==="else"&&a.depth===0)return!0}return!1}}};function Pd(a,c,u,d){var g=ve(a.getCursor()),m=u?1:-1,x=u?a.lineCount():-1,S=g.ch,b=g.line,$=a.getLine(b),k={lineText:$,nextCh:$.charAt(S),lastCh:null,index:S,symb:d,reverseSymb:(u?{")":"(","}":"{"}:{"(":")","{":"}"})[d],forward:u,depth:0,curMoveThrough:!1},R=Xd[d];if(!R)return g;var W=pa[R].init,T=pa[R].isComplete;for(W&&W(k);b!==x&&c;){if(k.index+=m,k.nextCh=k.lineText.charAt(k.index),!k.nextCh){if(b+=m,k.lineText=a.getLine(b)||"",m>0)k.index=0;else{var C=k.lineText.length;k.index=C>0?C-1:0}k.nextCh=k.lineText.charAt(k.index)}T(k)&&(g.line=b,g.ch=k.index,c--)}return k.nextCh||k.curMoveThrough?new e(b,k.index):g}function ga(a,c,u,d,g){var m=c.line,x=c.ch,S=a.getLine(m),b=u?1:-1,$=d?q:M;if(g&&S==""){if(m+=b,S=a.getLine(m),!ee(a,m))return null;x=u?0:S.length}for(;;){if(g&&S=="")return{from:0,to:0,line:m};for(var k=b>0?S.length:-1,R=k,W=k;x!=k;){for(var T=!1,C=0;C<$.length&&!T;++C)if($[C](S.charAt(x))){for(R=x;x!=k&&$[C](S.charAt(x));)x+=b;if(W=x,T=R!=W,R==c.ch&&m==c.line&&W==R+b)continue;return{from:Math.min(R,W+1),to:Math.max(R,W),line:m}}T||(x+=b)}if(m+=b,!ee(a,m))return null;S=a.getLine(m),x=b>0?0:S.length}}function Cd(a,c,u,d,g,m){var x=ve(c),S=[];(d&&!g||!d&&g)&&u++;for(var b=!(d&&g),$=0;$<u;$++){var k=ga(a,c,d,m,b);if(!k){var R=De(a,a.lastLine());S.push(d?{line:a.lastLine(),from:R,to:R}:{line:0,from:0,to:0});break}S.push(k),c=new e(k.line,d?k.to-1:k.from)}var W=S.length!=u,T=S[0],C=S.pop();return d&&!g?(!W&&(T.from!=x.ch||T.line!=x.line)&&(C=S.pop()),new e(C.line,C.from)):d&&g?new e(C.line,C.to-1):!d&&g?(!W&&(T.to!=x.ch||T.line!=x.line)&&(C=S.pop()),new e(C.line,C.to)):new e(C.line,C.from)}function ma(a,c,u,d,g){var m=c,x=new e(m.line+u.repeat-1,1/0),S=a.clipPos(x);return S.ch--,g||(d.lastHPos=1/0,d.lastHSPos=a.charCoords(S,"div").left),x}function Zs(a,c,u,d,g){for(var m=g||a.getCursor(),x=m.ch,S,b=0;b<c;b++){var $=a.getLine(m.line);if(S=Ud(x,$,d,u,!0),S==-1)return null;x=S}return new e(a.getCursor().line,S)}function Td(a,c){var u=a.getCursor().line;return nt(a,new e(u,c-1))}function Jt(a,c,u,d){Ee(u,J)&&(c.marks[u]&&c.marks[u].clear(),c.marks[u]=a.setBookmark(d))}function Ud(a,c,u,d,g){var m;return d?(m=c.indexOf(u,a+1),m!=-1&&!g&&(m-=1)):(m=c.lastIndexOf(u,a-1),m!=-1&&!g&&(m+=1)),m}function va(a,c,u,d,g){var m=c.line,x=a.firstLine(),S=a.lastLine(),b,$,k=m;function R(A){return!a.getLine(A)}function W(A,G,F){return F?R(A)!=R(A+G):!R(A)&&R(A+G)}if(d){for(;x<=k&&k<=S&&u>0;)W(k,d)&&u--,k+=d;return new e(k,0)}var T=a.state.vim;if(T.visualLine&&W(m,1,!0)){var C=T.sel.anchor;W(C.line,-1,!0)&&(!g||C.line!=m)&&(m+=1)}var z=R(m);for(k=m;k<=S&&u;k++)W(k,1,!0)&&(!g||R(k)!=z)&&u--;for($=new e(k,0),k>S&&!z?z=!0:g=!1,k=m;k>x&&!((!g||R(k)==z||k==m)&&W(k,-1,!0));k--);return b=new e(k,0),{start:b,end:$}}function ya(a,c,u,d,g){function m($){$.pos+$.dir<0||$.pos+$.dir>=$.line.length?$.line=null:$.pos+=$.dir}function x($,k,R,W){var T=$.getLine(k),C={line:T,ln:k,pos:R,dir:W};if(C.line==="")return{ln:C.ln,pos:C.pos};var z=C.pos;for(m(C);C.line!==null;){if(z=C.pos,Pe(C.line[C.pos]))if(g){for(m(C);C.line!==null&&de(C.line[C.pos]);)z=C.pos,m(C);return{ln:C.ln,pos:z+1}}else return{ln:C.ln,pos:C.pos+1};m(C)}return{ln:C.ln,pos:z+1}}function S($,k,R,W){var T=$.getLine(k),C={line:T,ln:k,pos:R,dir:W};if(C.line==="")return{ln:C.ln,pos:C.pos};var z=C.pos;for(m(C);C.line!==null;){if(!de(C.line[C.pos])&&!Pe(C.line[C.pos]))z=C.pos;else if(Pe(C.line[C.pos]))return g?de(C.line[C.pos+1])?{ln:C.ln,pos:C.pos+1}:{ln:C.ln,pos:z}:{ln:C.ln,pos:z};m(C)}return C.line=T,g&&de(C.line[C.pos])?{ln:C.ln,pos:C.pos}:{ln:C.ln,pos:z}}for(var b={ln:c.line,pos:c.ch};u>0;)d<0?b=S(a,b.ln,b.pos,d):b=x(a,b.ln,b.pos,d),u--;return new e(b.ln,b.pos)}function Rd(a,c,u,d){function g(b,$){if($.pos+$.dir<0||$.pos+$.dir>=$.line.length){if($.ln+=$.dir,!ee(b,$.ln)){$.line=null,$.ln=null,$.pos=null;return}$.line=b.getLine($.ln),$.pos=$.dir>0?0:$.line.length-1}else $.pos+=$.dir}function m(b,$,k,R){var A=b.getLine($),W=A==="",T={line:A,ln:$,pos:k,dir:R},C={ln:T.ln,pos:T.pos},z=T.line==="";for(g(b,T);T.line!==null;){if(C.ln=T.ln,C.pos=T.pos,T.line===""&&!z)return{ln:T.ln,pos:T.pos};if(W&&T.line!==""&&!de(T.line[T.pos]))return{ln:T.ln,pos:T.pos};Pe(T.line[T.pos])&&!W&&(T.pos===T.line.length-1||de(T.line[T.pos+1]))&&(W=!0),g(b,T)}var A=b.getLine(C.ln);C.pos=0;for(var G=A.length-1;G>=0;--G)if(!de(A[G])){C.pos=G;break}return C}function x(b,$,k,R){var z=b.getLine($),W={line:z,ln:$,pos:k,dir:R},T={ln:W.ln,pos:null},C=W.line==="";for(g(b,W);W.line!==null;){if(W.line===""&&!C)return T.pos!==null?T:{ln:W.ln,pos:W.pos};if(Pe(W.line[W.pos])&&T.pos!==null&&!(W.ln===T.ln&&W.pos+1===T.pos))return T;W.line!==""&&!de(W.line[W.pos])&&(C=!1,T={ln:W.ln,pos:W.pos}),g(b,W)}var z=b.getLine(T.ln);T.pos=0;for(var A=0;A<z.length;++A)if(!de(z[A])){T.pos=A;break}return T}for(var S={ln:c.line,pos:c.ch};u>0;)d<0?S=x(a,S.ln,S.pos,d):S=m(a,S.ln,S.pos,d),u--;return new e(S.ln,S.pos)}function xa(a,c,u,d){var g=c,m,x,S={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[u],b={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[u],$=a.getLine(g.line).charAt(g.ch),k=$===b?1:0;if(m=a.scanForBracket(new e(g.line,g.ch+k),-1,void 0,{bracketRegex:S}),x=a.scanForBracket(new e(g.line,g.ch+k),1,void 0,{bracketRegex:S}),!m||!x)return null;if(m=m.pos,x=x.pos,m.line==x.line&&m.ch>x.ch||m.line>x.line){var R=m;m=x,x=R}return d?x.ch+=1:m.ch+=1,{start:m,end:x}}function Wd(a,c,u,d){var g=ve(c),m=a.getLine(g.line),x=m.split(""),S,b,$,k,R=x.indexOf(u);if(g.ch<R)g.ch=R;else if(R<g.ch&&x[g.ch]==u){var W=/string/.test(a.getTokenTypeAt(We(c,0,1))),T=/string/.test(a.getTokenTypeAt(c)),C=W&&!T;C||(b=g.ch,--g.ch)}if(x[g.ch]==u&&!b)S=g.ch+1;else for($=g.ch;$>-1&&!S;$--)x[$]==u&&(S=$+1);if(S&&!b)for($=S,k=x.length;$<k&&!b;$++)x[$]==u&&(b=$);return!S||!b?{start:g,end:g}:(d&&(--S,++b),{start:new e(g.line,S),end:new e(g.line,b)})}xe("pcre",!0,"boolean");function ba(){}ba.prototype={getQuery:function(){return _.query},setQuery:function(a){_.query=a},getOverlay:function(){return this.searchOverlay},setOverlay:function(a){this.searchOverlay=a},isReversed:function(){return _.isReversed},setReversed:function(a){_.isReversed=a},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(a){this.annotate=a}};function Mt(a){var c=a.state.vim;return c.searchState_||(c.searchState_=new ba)}function Yd(a){return Sa(a,"/")}function Ad(a){return wa(a,"/")}function Sa(a,c){var u=wa(a,c)||[];if(!u.length)return[];var d=[];if(u[0]===0){for(var g=0;g<u.length;g++)typeof u[g]=="number"&&d.push(a.substring(u[g]+1,u[g+1]));return d}}function wa(a,c){c||(c="/");for(var u=!1,d=[],g=0;g<a.length;g++){var m=a.charAt(g);!u&&m==c&&d.push(g),u=!u&&m=="\\"}return d}function Vd(a){for(var c="|(){",u="}",d=!1,g=[],m=-1;m<a.length;m++){var x=a.charAt(m)||"",S=a.charAt(m+1)||"",b=S&&c.indexOf(S)!=-1;d?((x!=="\\"||!b)&&g.push(x),d=!1):x==="\\"?(d=!0,S&&u.indexOf(S)!=-1&&(b=!0),(!b||S==="\\")&&g.push(x)):(g.push(x),b&&S!=="\\"&&g.push("\\"))}return g.join("")}var Qa={"\\n":`
`,"\\r":"\r","\\t":"	"};function Md(a){for(var c=!1,u=[],d=-1;d<a.length;d++){var g=a.charAt(d)||"",m=a.charAt(d+1)||"";Qa[g+m]?(u.push(Qa[g+m]),d++):c?(u.push(g),c=!1):g==="\\"?(c=!0,le(m)||m==="$"?u.push("$"):m!=="/"&&m!=="\\"&&u.push("\\")):(g==="$"&&u.push("$"),u.push(g),m==="/"&&u.push("\\"))}return u.join("")}var $a={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function Zd(a){for(var c=new n.StringStream(a),u=[];!c.eol();){for(;c.peek()&&c.peek()!="\\";)u.push(c.next());var d=!1;for(var g in $a)if(c.match(g,!0)){d=!0,u.push($a[g]);break}d||u.push(c.next())}return u.join("")}function zd(a,c,u){var d=_.registerController.getRegister("/");if(d.setText(a),a instanceof RegExp)return a;var g=Ad(a),m,x;if(!g.length)m=a;else{m=a.substring(0,g[0]);var S=a.substring(g[0]);x=S.indexOf("i")!=-1}if(!m)return null;Re("pcre")||(m=Vd(m)),u&&(c=/^[^A-Z]*$/.test(m));var b=new RegExp(m,c||x?"im":"m");return b}function ci(a){typeof a=="string"&&(a=document.createElement(a));for(var c,u=1;u<arguments.length;u++)if(c=arguments[u])if(typeof c!="object"&&(c=document.createTextNode(c)),c.nodeType)a.appendChild(c);else for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(d[0]==="$"?a.style[d.slice(1)]=c[d]:a.setAttribute(d,c[d]));return a}function pe(a,c){var u=ci("div",{$color:"red",$whiteSpace:"pre",class:"cm-vim-message"},c);a.openNotification?a.openNotification(u,{bottom:!0,duration:5e3}):alert(u.innerText)}function qd(a,c){return ci("div",{$display:"flex"},ci("span",{$fontFamily:"monospace",$whiteSpace:"pre",$flex:1},a,ci("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false",$width:"100%"})),c&&ci("span",{$color:"#888"},c))}function cr(a,c){var u=qd(c.prefix,c.desc);if(a.openDialog)a.openDialog(u,c.onClose,{onKeyDown:c.onKeyDown,onKeyUp:c.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:c.value});else{var d="";typeof c.prefix!="string"&&c.prefix&&(d+=c.prefix.textContent),c.desc&&(d+=" "+c.desc),c.onClose(prompt(d,""))}}function Ld(a,c){if(a instanceof RegExp&&c instanceof RegExp){for(var u=["global","multiline","ignoreCase","source"],d=0;d<u.length;d++){var g=u[d];if(a[g]!==c[g])return!1}return!0}return!1}function Sn(a,c,u,d){if(c){var g=Mt(a),m=zd(c,!!u,!!d);if(m)return ka(a,m),Ld(m,g.getQuery())||g.setQuery(m),m}}function Ed(a){if(a.source.charAt(0)=="^")var c=!0;return{token:function(u){if(c&&!u.sol()){u.skipToEnd();return}var d=u.match(a,!1);if(d)return d[0].length==0?(u.next(),"searching"):!u.sol()&&(u.backUp(1),!a.exec(u.next()+d[0]))?(u.next(),null):(u.match(a),"searching");for(;!u.eol()&&(u.next(),!u.match(a,!1)););},query:a}}var fr=0;function ka(a,c){clearTimeout(fr),fr=setTimeout(function(){if(a.state.vim){var u=Mt(a),d=u.getOverlay();(!d||c!=d.query)&&(d&&a.removeOverlay(d),d=Ed(c),a.addOverlay(d),a.showMatchesOnScrollbar&&(u.getScrollbarAnnotate()&&u.getScrollbarAnnotate().clear(),u.setScrollbarAnnotate(a.showMatchesOnScrollbar(c))),u.setOverlay(d))}},50)}function Xa(a,c,u,d){return d===void 0&&(d=1),a.operation(function(){for(var g=a.getCursor(),m=a.getSearchCursor(u,g),x=0;x<d;x++){var S=m.find(c);if(x==0&&S&&yt(m.from(),g)){var b=c?m.from():m.to();S=m.find(c),S&&!S[0]&&yt(m.from(),b)&&a.getLine(b.line).length==b.ch&&(S=m.find(c))}if(!S&&(m=a.getSearchCursor(u,c?new e(a.lastLine()):new e(a.firstLine(),0)),!m.find(c)))return}return m.from()})}function jd(a,c,u,d,g){return d===void 0&&(d=1),a.operation(function(){var m=a.getCursor(),x=a.getSearchCursor(u,m),S=x.find(!c);!g.visualMode&&S&&yt(x.from(),m)&&x.find(!c);for(var b=0;b<d;b++)if(S=x.find(c),!S&&(x=a.getSearchCursor(u,c?new e(a.lastLine()):new e(a.firstLine(),0)),!x.find(c)))return;return[x.from(),x.to()]})}function zs(a){var c=Mt(a);a.removeOverlay(Mt(a).getOverlay()),c.setOverlay(null),c.getScrollbarAnnotate()&&(c.getScrollbarAnnotate().clear(),c.setScrollbarAnnotate(null))}function Dd(a,c,u){return typeof a!="number"&&(a=a.line),c instanceof Array?Ee(a,c):typeof u=="number"?a>=c&&a<=u:a==c}function qs(a){var c=a.getScrollInfo(),u=6,d=10,g=a.coordsChar({left:0,top:u+c.top},"local"),m=c.clientHeight-d+c.top,x=a.coordsChar({left:0,top:m},"local");return{top:g.line,bottom:x.line}}function ur(a,c,u){if(u=="'"||u=="`")return _.jumpList.find(a,-1)||new e(0,0);if(u==".")return Pa(a);var d=c.marks[u];return d&&d.find()}function Pa(a){if(a.getLastEditEnd)return a.getLastEditEnd();for(var c=a.doc.history.done,u=c.length;u--;)if(c[u].changes)return ve(c[u].changes[0].to)}var Ca=function(){this.buildCommandMap_()};Ca.prototype={processCommand:function(a,c,u){var d=this;a.operation(function(){a.curOp.isVimOp=!0,d._processCommand(a,c,u)})},_processCommand:function(a,c,u){var d=a.state.vim,g=_.registerController.getRegister(":"),m=g.toString(),x=new n.StringStream(c);g.setText(c);var S=u||{};S.input=c;try{this.parseInput_(a,x,S)}catch(R){throw pe(a,R.toString()),R}d.visualMode&&At(a);var b,$;if(!S.commandName)S.line!==void 0&&($="move");else if(b=this.matchCommand_(S.commandName),b){if($=b.name,b.excludeFromCommandHistory&&g.setText(m),this.parseCommandArgs_(x,S,b),b.type=="exToKey"){for(var k=0;k<b.toKeys.length;k++)at.handleKey(a,b.toKeys[k],"mapping");return}else if(b.type=="exToEx"){this.processCommand(a,b.toInput);return}}if(!$){pe(a,'Not an editor command ":'+c+'"');return}try{Ta[$](a,S),(!b||!b.possiblyAsync)&&S.callback&&S.callback()}catch(R){throw pe(a,R.toString()),R}},parseInput_:function(a,c,u){c.eatWhile(":"),c.eat("%")?(u.line=a.firstLine(),u.lineEnd=a.lastLine()):(u.line=this.parseLineSpec_(a,c),u.line!==void 0&&c.eat(",")&&(u.lineEnd=this.parseLineSpec_(a,c))),u.line==null?a.state.vim.visualMode?(u.selectionLine=ur(a,a.state.vim,"<")?.line,u.selectionLineEnd=ur(a,a.state.vim,">")?.line):u.selectionLine=a.getCursor().line:(u.selectionLine=u.line,u.selectionLineEnd=u.lineEnd);var d=c.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return d?u.commandName=d[1]:u.commandName=c.match(/.*/)[0],u},parseLineSpec_:function(a,c){var u=c.match(/^(\d+)/);if(u)return parseInt(u[1],10)-1;switch(c.next()){case".":return this.parseLineSpecOffset_(c,a.getCursor().line);case"$":return this.parseLineSpecOffset_(c,a.lastLine());case"'":var d=c.next(),g=ur(a,a.state.vim,d);if(!g)throw new Error("Mark not set");return this.parseLineSpecOffset_(c,g.line);case"-":case"+":return c.backUp(1),this.parseLineSpecOffset_(c,a.getCursor().line);default:c.backUp(1);return}},parseLineSpecOffset_:function(a,c){var u=a.match(/^([+-])?(\d+)/);if(u){var d=parseInt(u[2],10);u[1]=="-"?c-=d:c+=d}return c},parseCommandArgs_:function(a,c,u){if(!a.eol()){c.argString=a.match(/.*/)[0];var d=u.argDelimiter||/\s+/,g=As(c.argString).split(d);g.length&&g[0]&&(c.args=g)}},matchCommand_:function(a){for(var c=a.length;c>0;c--){var u=a.substring(0,c);if(this.commandMap_[u]){var d=this.commandMap_[u];if(d.name.indexOf(a)===0)return d}}return null},buildCommandMap_:function(){this.commandMap_={};for(var a=0;a<o.length;a++){var c=o[a],u=c.shortName||c.name;this.commandMap_[u]=c}},map:function(a,c,u,d){if(a!=":"&&a.charAt(0)==":"){if(u)throw Error("Mode not supported for ex mappings");var g=a.substring(1);c!=":"&&c.charAt(0)==":"?this.commandMap_[g]={name:g,type:"exToEx",toInput:c.substring(1),user:!0}:this.commandMap_[g]={name:g,type:"exToKey",toKeys:c,user:!0}}else if(c!=":"&&c.charAt(0)==":"){var m={keys:a,type:"keyToEx",exArgs:{input:c.substring(1)}};u&&(m.context=u),r.unshift(m)}else{var m={keys:a,type:"keyToKey",toKeys:c,noremap:!!d};u&&(m.context=u),r.unshift(m)}},unmap:function(a,c){if(a!=":"&&a.charAt(0)==":"){if(c)throw Error("Mode not supported for ex mappings");var u=a.substring(1);if(this.commandMap_[u]&&this.commandMap_[u].user)return delete this.commandMap_[u],!0}else for(var d=a,g=0;g<r.length;g++)if(d==r[g].keys&&r[g].context===c)return r.splice(g,1),!0}};var Ta={colorscheme:function(a,c){if(!c.args||c.args.length<1){pe(a,a.getOption("theme"));return}a.setOption("theme",c.args[0])},map:function(a,c,u,d){var g=c.args;if(!g||g.length<2){a&&pe(a,"Invalid mapping: "+c.input);return}Tt.map(g[0],g[1],u,d)},imap:function(a,c){this.map(a,c,"insert")},nmap:function(a,c){this.map(a,c,"normal")},vmap:function(a,c){this.map(a,c,"visual")},omap:function(a,c){this.map(a,c,"operatorPending")},noremap:function(a,c){this.map(a,c,void 0,!0)},inoremap:function(a,c){this.map(a,c,"insert",!0)},nnoremap:function(a,c){this.map(a,c,"normal",!0)},vnoremap:function(a,c){this.map(a,c,"visual",!0)},onoremap:function(a,c){this.map(a,c,"operatorPending",!0)},unmap:function(a,c,u){var d=c.args;(!d||d.length<1||!Tt.unmap(d[0],u))&&a&&pe(a,"No such mapping: "+c.input)},mapclear:function(a,c){at.mapclear()},imapclear:function(a,c){at.mapclear("insert")},nmapclear:function(a,c){at.mapclear("normal")},vmapclear:function(a,c){at.mapclear("visual")},omapclear:function(a,c){at.mapclear("operatorPending")},move:function(a,c){Yi.processCommand(a,a.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:c.line+1})},set:function(a,c){var u=c.args,d=c.setCfg||{};if(!u||u.length<1){a&&pe(a,"Invalid mapping: "+c.input);return}var g=u[0].split("="),m=g[0],x=g[1],S=!1,b=!1;if(m.charAt(m.length-1)=="?"){if(x)throw Error("Trailing characters: "+c.argString);m=m.substring(0,m.length-1),S=!0}else m.charAt(m.length-1)=="!"&&(m=m.substring(0,m.length-1),b=!0);x===void 0&&m.substring(0,2)=="no"&&(m=m.substring(2),x=!1);var $=$e[m]&&$e[m].type=="boolean";if($&&(b?x=!Re(m,a,d):x==null&&(x=!0)),!$&&x===void 0||S){var k=Re(m,a,d);k instanceof Error?pe(a,k.message):k===!0||k===!1?pe(a," "+(k?"":"no")+m):pe(a,"  "+m+"="+k)}else{var R=Fe(m,x,a,d);R instanceof Error&&pe(a,R.message)}},setlocal:function(a,c){c.setCfg={scope:"local"},this.set(a,c)},setglobal:function(a,c){c.setCfg={scope:"global"},this.set(a,c)},registers:function(a,c){var u=c.args,d=_.registerController.registers,g=`----------Registers----------

`;if(u){var m;u=u.join("");for(var S=0;S<u.length;S++)if(m=u.charAt(S),!!_.registerController.isValidRegister(m)){var b=d[m]||new Ct;g+='"'+m+"    "+b.toString()+`
`}}else for(var m in d){var x=d[m].toString();x.length&&(g+='"'+m+"    "+x+`
`)}pe(a,g)},sort:function(a,c){var u,d,g,m,x;function S(){if(c.argString){var oe=new n.StringStream(c.argString);if(oe.eat("!")&&(u=!0),oe.eol())return;if(!oe.eatSpace())return"Invalid arguments";var ae=oe.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!ae&&!oe.eol())return"Invalid arguments";if(ae[1]){d=ae[1].indexOf("i")!=-1,g=ae[1].indexOf("u")!=-1;var rt=ae[1].indexOf("d")!=-1||ae[1].indexOf("n")!=-1&&1,Ye=ae[1].indexOf("x")!=-1&&1,Ae=ae[1].indexOf("o")!=-1&&1;if(rt+Ye+Ae>1)return"Invalid arguments";m=rt&&"decimal"||Ye&&"hex"||Ae&&"octal"}ae[2]&&(x=new RegExp(ae[2].substr(1,ae[2].length-2),d?"i":""))}}var b=S();if(b){pe(a,b+": "+c.argString);return}var $=c.line||a.firstLine(),k=c.lineEnd||c.line||a.lastLine();if($==k)return;var R=new e($,0),W=new e(k,De(a,k)),T=a.getRange(R,W).split(`
`),C=x||(m=="decimal"?/(-?)([\d]+)/:m=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:m=="octal"?/([0-7]+)/:null),z=m=="decimal"?10:m=="hex"?16:m=="octal"?8:null,A=[],G=[];if(m||x)for(var F=0;F<T.length;F++){var N=x?T[F].match(x):null;N&&N[0]!=""?A.push(N):!x&&C.exec(T[F])?A.push(T[F]):G.push(T[F])}else G=T;function ge(oe,ae){if(u){var rt;rt=oe,oe=ae,ae=rt}d&&(oe=oe.toLowerCase(),ae=ae.toLowerCase());var Ye=m&&C.exec(oe),Ae=m&&C.exec(ae);return Ye?(Ye=parseInt((Ye[1]+Ye[2]).toLowerCase(),z),Ae=parseInt((Ae[1]+Ae[2]).toLowerCase(),z),Ye-Ae):oe<ae?-1:1}function He(oe,ae){if(u){var rt;rt=oe,oe=ae,ae=rt}return d&&(oe[0]=oe[0].toLowerCase(),ae[0]=ae[0].toLowerCase()),oe[0]<ae[0]?-1:1}if(A.sort(x?He:ge),x)for(var F=0;F<A.length;F++)A[F]=A[F].input;else m||G.sort(ge);if(T=u?A.concat(G):G.concat(A),g){var Xe=T,ze;T=[];for(var F=0;F<Xe.length;F++)Xe[F]!=ze&&T.push(Xe[F]),ze=Xe[F]}a.replaceRange(T.join(`
`),R,W)},vglobal:function(a,c){this.global(a,c)},normal:function(a,c){var u=c.argString;if(u&&u[0]=="!"&&(u=u.slice(1),bn=!0),u=u.trimStart(),!u){pe(a,"Argument is required.");return}var d=c.line;if(typeof d=="number")for(var g=isNaN(c.lineEnd)?d:c.lineEnd,m=d;m<=g;m++)a.setCursor(m,0),lr(a,c.argString.trimStart()),a.state.vim.insertMode&&fi(a,!0);else lr(a,c.argString.trimStart()),a.state.vim.insertMode&&fi(a,!0)},global:function(a,c){var u=c.argString;if(!u){pe(a,"Regular Expression missing from global");return}var d=c.commandName[0]==="v";u[0]==="!"&&c.commandName[0]==="g"&&(d=!0,u=u.slice(1));var g=c.line!==void 0?c.line:a.firstLine(),m=c.lineEnd||c.line||a.lastLine(),x=Yd(u),S=u,b;if(x.length&&(S=x[0],b=x.slice(1,x.length).join("/")),S)try{Sn(a,S,!0,!0)}catch{pe(a,"Invalid regex: "+S);return}for(var $=Mt(a).getQuery(),k=[],R=g;R<=m;R++){var W=a.getLine(R),T=$.test(W);T!==d&&k.push(b?a.getLineHandle(R):W)}if(!b){pe(a,k.join(`
`));return}var C=0,z=function(){if(C<k.length){var A=k[C++],G=a.getLineNumber(A);if(G==null){z();return}var F=G+1+b;Tt.processCommand(a,F,{callback:z})}else a.releaseLineHandles&&a.releaseLineHandles()};z()},substitute:function(a,c){if(!a.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var u=c.argString,d=u?Sa(u,u[0]):[],g,m="",x,S,b,$=!1,k=!1;if(d.length)g=d[0],Re("pcre")&&g!==""&&(g=new RegExp(g).source),m=d[1],m!==void 0&&(Re("pcre")?m=Zd(m.replace(/([^\\])&/g,"$1$$&")):m=Md(m),_.lastSubstituteReplacePart=m),x=d[2]?d[2].split(" "):[];else if(u&&u.length){pe(a,"Substitutions should be of the form :s/pattern/replace/");return}if(x&&(S=x[0],b=parseInt(x[1]),S&&(S.indexOf("c")!=-1&&($=!0),S.indexOf("g")!=-1&&(k=!0),Re("pcre")?g=g+"/"+S:g=g.replace(/\//g,"\\/")+"/"+S)),g)try{Sn(a,g,!0,!0)}catch{pe(a,"Invalid regex: "+g);return}if(m=m||_.lastSubstituteReplacePart,m===void 0){pe(a,"No previous substitute regular expression");return}var R=Mt(a),W=R.getQuery(),T=c.line!==void 0?c.line:a.getCursor().line,C=c.lineEnd||T;T==a.firstLine()&&C==a.lastLine()&&(C=1/0),b&&(T=C,C=T+b-1);var z=nt(a,new e(T,0)),A=a.getSearchCursor(W,z);_d(a,$,k,T,C,A,W,m,c.callback)},startinsert:function(a,c){lr(a,c.argString=="!"?"A":"i",{})},redo:n.commands.redo,undo:n.commands.undo,write:function(a){n.commands.save?n.commands.save(a):a.save&&a.save()},nohlsearch:function(a){zs(a)},yank:function(a){var c=ve(a.getCursor()),u=c.line,d=a.getLine(u);_.registerController.pushText("0","yank",d,!0,!0)},delete:function(a,c){var u=c.selectionLine,d=isNaN(c.selectionLineEnd)?u:c.selectionLineEnd;Ys.delete(a,{linewise:!0},[{anchor:new e(u,0),head:new e(d+1,0)}])},join:function(a,c){var u=c.selectionLine,d=isNaN(c.selectionLineEnd)?u:c.selectionLineEnd;a.setCursor(new e(u,0)),Bi.joinLines(a,{repeat:d-u},a.state.vim)},delmarks:function(a,c){if(!c.argString||!As(c.argString)){pe(a,"Argument required");return}for(var u=a.state.vim,d=new n.StringStream(As(c.argString));!d.eol();){d.eatSpace();var g=d.pos;if(!d.match(/[a-zA-Z]/,!1)){pe(a,"Invalid argument: "+c.argString.substring(g));return}var m=d.next();if(d.match("-",!0)){if(!d.match(/[a-zA-Z]/,!1)){pe(a,"Invalid argument: "+c.argString.substring(g));return}var x=m,S=d.next();if(K(x)&&K(S)||ue(x)&&ue(S)){var b=x.charCodeAt(0),$=S.charCodeAt(0);if(b>=$){pe(a,"Invalid argument: "+c.argString.substring(g));return}for(var k=0;k<=$-b;k++){var R=String.fromCharCode(b+k);delete u.marks[R]}}else{pe(a,"Invalid argument: "+x+"-");return}}else delete u.marks[m]}}},Tt=new Ca;function _d(a,c,u,d,g,m,x,S,b){a.state.vim.exMode=!0;var $=!1,k,R,W;function T(){a.operation(function(){for(;!$;)C(),A();G()})}function C(){var N=a.getRange(m.from(),m.to()),ge=N.replace(x,S),He=m.to().line;m.replace(ge),R=m.to().line,g+=R-He,W=R<He}function z(){var N=k&&ve(m.to()),ge=m.findNext();return ge&&!ge[0]&&N&&yt(m.from(),N)&&(ge=m.findNext()),ge}function A(){for(;z()&&Dd(m.from(),d,g);)if(!(!u&&m.from().line==R&&!W)){a.scrollIntoView(m.from(),30),a.setSelection(m.from(),m.to()),k=m.from(),$=!1;return}$=!0}function G(N){if(N&&N(),a.focus(),k){a.setCursor(k);var ge=a.state.vim;ge.exMode=!1,ge.lastHPos=ge.lastHSPos=k.ch}b&&b()}function F(N,ge,He){n.e_stop(N);var Xe=n.keyName(N);switch(Xe){case"Y":C(),A();break;case"N":A();break;case"A":var ze=b;b=void 0,a.operation(T),b=ze;break;case"L":C();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":G(He);break}return $&&G(He),!0}if(A(),$){pe(a,"No matches for "+x.source);return}if(!c){T(),b&&b();return}cr(a,{prefix:ci("span","replace with ",ci("strong",S)," (y/n/a/q/l)"),onKeyDown:F})}n.keyMap.vim={attach:O,detach:f,call:p};function fi(a,c){var u=a.state.vim,d=_.macroModeState,g=_.registerController.getRegister("."),m=d.isPlaying,x=d.lastInsertModeChanges;m||(a.off("change",Ra),u.insertEnd&&u.insertEnd.clear(),u.insertEnd=null,n.off(a.getInputField(),"keydown",Aa)),!m&&u.insertModeRepeat>1&&(Va(a,u,u.insertModeRepeat-1,!0),u.lastEditInputState.repeatOverride=u.insertModeRepeat),delete u.insertModeRepeat,u.insertMode=!1,c||a.setCursor(a.getCursor().line,a.getCursor().ch-1),a.setOption("keyMap","vim"),a.setOption("disableInput",!0),a.toggleOverwrite(!1),g.setText(x.changes.join("")),n.signal(a,"vim-mode-change",{mode:"normal"}),d.isRecording&&Gd(d)}function Ua(a){r.unshift(a)}function Bd(a,c,u,d,g){var m={keys:a,type:c};m[c]=u,m[c+"Args"]=d;for(var x in g)m[x]=g[x];Ua(m)}xe("insertModeEscKeysTimeout",200,"number"),n.keyMap["vim-insert"]={fallthrough:["default"],attach:O,detach:f,call:p},n.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:O,detach:f};function Id(a,c,u,d){var g=_.registerController.getRegister(d);if(d==":"){g.keyBuffer[0]&&Tt.processCommand(a,g.keyBuffer[0]),u.isPlaying=!1;return}var m=g.keyBuffer,x=0;u.isPlaying=!0,u.replaySearchQueries=g.searchQueries.slice(0);for(var S=0;S<m.length;S++)for(var b=m[S],$,k;b;)if($=/<\w+-.+?>|<\w+>|./.exec(b),k=$[0],b=b.substring($.index+k.length),at.handleKey(a,k,"macro"),c.insertMode){var R=g.insertModeChanges[x++].changes;_.macroModeState.lastInsertModeChanges.changes=R,Za(a,R,1),fi(a)}u.isPlaying=!1}function Nd(a,c){if(!a.isPlaying){var u=a.latestRegister,d=_.registerController.getRegister(u);d&&d.pushText(c)}}function Gd(a){if(!a.isPlaying){var c=a.latestRegister,u=_.registerController.getRegister(c);u&&u.pushInsertModeChanges&&u.pushInsertModeChanges(a.lastInsertModeChanges)}}function Fd(a,c){if(!a.isPlaying){var u=a.latestRegister,d=_.registerController.getRegister(u);d&&d.pushSearchQuery&&d.pushSearchQuery(c)}}function Ra(a,c){var u=_.macroModeState,d=u.lastInsertModeChanges;if(!u.isPlaying)for(var g=a.state.vim;c;){if(d.expectCursorActivityForChange=!0,d.ignoreCount>1)d.ignoreCount--;else if(c.origin=="+input"||c.origin=="paste"||c.origin===void 0){var m=a.listSelections().length;m>1&&(d.ignoreCount=m);var x=c.text.join(`
`);if(d.maybeReset&&(d.changes=[],d.maybeReset=!1),x)if(a.state.overwrite&&!/\n/.test(x))d.changes.push([x]);else{if(x.length>1){var S=g&&g.insertEnd&&g.insertEnd.find(),b=a.getCursor();if(S&&S.line==b.line){var $=S.ch-b.ch;$>0&&$<x.length&&(d.changes.push([x,$]),x="")}}x&&d.changes.push(x)}}c=c.next}}function Wa(a){var c=a.state.vim;if(c.insertMode){var u=_.macroModeState;if(u.isPlaying)return;var d=u.lastInsertModeChanges;d.expectCursorActivityForChange?d.expectCursorActivityForChange=!1:(d.maybeReset=!0,c.insertEnd&&c.insertEnd.clear(),c.insertEnd=a.setBookmark(a.getCursor(),{insertLeft:!0}))}else a.curOp.isVimOp||Ya(a,c)}function Ya(a,c){var u=a.getCursor("anchor"),d=a.getCursor("head");if(c.visualMode&&!a.somethingSelected()?At(a,!1):!c.visualMode&&!c.insertMode&&a.somethingSelected()&&(c.visualMode=!0,c.visualLine=!1,n.signal(a,"vim-mode-change",{mode:"visual"})),c.visualMode){var g=ke(d,u)?0:-1,m=ke(d,u)?-1:0;d=We(d,0,g),u=We(u,0,m),c.sel={anchor:u,head:d},Jt(a,c,"<",ut(d,u)),Jt(a,c,">",hi(d,u))}else c.insertMode||(c.lastHPos=a.getCursor().ch)}function Ls(a){this.keyName=a}function Aa(a){var c=_.macroModeState,u=c.lastInsertModeChanges,d=n.keyName(a);if(!d)return;function g(){return u.maybeReset&&(u.changes=[],u.maybeReset=!1),u.changes.push(new Ls(d)),!0}(d.indexOf("Delete")!=-1||d.indexOf("Backspace")!=-1)&&n.lookupKey(d,"vim-insert",g)}function Va(a,c,u,d){var g=_.macroModeState;g.isPlaying=!0;var m=!!c.lastEditActionCommand,x=c.inputState;function S(){m?Yi.processAction(a,c,c.lastEditActionCommand):Yi.evalInput(a,c)}function b(k){if(g.lastInsertModeChanges.changes.length>0){k=c.lastEditActionCommand?k:1;var R=g.lastInsertModeChanges;Za(a,R.changes,k)}}if(c.inputState=c.lastEditInputState,m&&c.lastEditActionCommand.interlaceInsertRepeat)for(var $=0;$<u;$++)S(),b(1);else d||S(),b(u);c.inputState=x,c.insertMode&&!d&&fi(a),g.isPlaying=!1}function Ma(a,c){n.lookupKey(c,"vim-insert",function(d){return typeof d=="string"?n.commands[d](a):d(a),!0})}function Za(a,c,u){var d=a.getCursor("head"),g=_.macroModeState.lastInsertModeChanges.visualBlock;g&&(fa(a,d,g+1),u=a.listSelections().length,a.setCursor(d));for(var m=0;m<u;m++){g&&a.setCursor(We(d,m,0));for(var x=0;x<c.length;x++){var S=c[x];if(S instanceof Ls)Ma(a,S.keyName);else if(typeof S=="string")a.replaceSelection(S);else{var b=a.getCursor(),$=We(b,0,S[0].length-(S[1]||0));a.replaceRange(S[0],b,S[1]?b:$),a.setCursor($)}}}g&&a.setCursor(We(d,0,1))}function Es(a){var c=new a.constructor;return Object.keys(a).forEach(function(u){if(u!="insertEnd"){var d=a[u];Array.isArray(d)?d=d.slice():d&&typeof d=="object"&&d.constructor!=Object&&(d=Es(d)),c[u]=d}}),a.sel&&(c.sel={head:a.sel.head&&ve(a.sel.head),anchor:a.sel.anchor&&ve(a.sel.anchor)}),c}function Hd(a,c,u){var d=!1,g=at.maybeInitVimState_(a),m=g.visualBlock||g.wasInVisualBlock,x=a.isInMultiSelectMode();if(g.wasInVisualBlock&&!x?g.wasInVisualBlock=!1:x&&g.visualBlock&&(g.wasInVisualBlock=!0),c=="<Esc>"&&!g.insertMode&&!g.visualMode&&x&&g.status=="<Esc>")je(a);else if(m||!x||a.inVirtualSelectionMode)d=at.handleKey(a,c,u);else{var S=Es(g),b=g.inputState.changeQueueList||[];a.operation(function(){a.curOp.isVimOp=!0;var $=0;a.forEachSelection(function(){a.state.vim.inputState.changeQueue=b[$];var k=a.getCursor("head"),R=a.getCursor("anchor"),W=ke(k,R)?0:-1,T=ke(k,R)?-1:0;k=We(k,0,W),R=We(R,0,T),a.state.vim.sel.head=k,a.state.vim.sel.anchor=R,d=at.handleKey(a,c,u),a.virtualSelection&&(b[$]=a.state.vim.inputState.changeQueue,a.state.vim=Es(S)),$++}),a.curOp.cursorActivity&&!d&&(a.curOp.cursorActivity=!1),a.state.vim=g,g.inputState.changeQueueList=b,g.inputState.changeQueue=null},!0)}return d&&!g.visualMode&&!g.insert&&g.visualMode!=a.somethingSelected()&&Ya(a,g),d}return sa(),at}function st(n,e){var t=e.ch,i=e.line+1;i<1&&(i=1,t=0),i>n.lines&&(i=n.lines,t=Number.MAX_VALUE);var r=n.line(i);return Math.min(r.from+Math.max(0,t),r.to)}function xt(n,e){let t=n.lineAt(e);return{line:t.number-1,ch:e-t.from}}class jt{constructor(e,t){this.line=e,this.ch=t}}function IO(n,e,t){if(n.addEventListener)n.addEventListener(e,t,!1);else{var i=n._handlers||(n._handlers={});i[e]=(i[e]||[]).concat(t)}}function NO(n,e,t){if(n.removeEventListener)n.removeEventListener(e,t,!1);else{var i=n._handlers,r=i&&i[e];if(r){var s=r.indexOf(t);s>-1&&(i[e]=r.slice(0,s).concat(r.slice(s+1)))}}}function GO(n,e,...t){var i,r=(i=n._handlers)===null||i===void 0?void 0:i[e];if(r)for(var s=0;s<r.length;++s)r[s](...t)}function bc(n,...e){if(n)for(var t=0;t<n.length;++t)n[t](...e)}var Y1={Return:"CR",Backspace:"BS",Delete:"Del",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"CR"," ":"Space"},FO={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1,AltGraph:1,Dead:1,Unidentified:1};let gl;try{gl=new RegExp("[\\w\\p{Alphabetic}\\p{Number}_]","u")}catch{gl=/[\w]/}function Vn(n,e){var t=n.cm6,i="input.type.compose";if(n.curOp&&(n.curOp.lastChange||(i="input.type.compose.start")),e.annotations)try{e.annotations.some(function(r){r.value=="input"&&(r.value=i)})}catch(r){console.error(r)}else e.userEvent=i;return t.dispatch(e)}function Sc(n,e){var t;n.curOp&&(n.curOp.$changeStart=void 0),(e?_l:hs)(n.cm6);let i=(t=n.curOp)===null||t===void 0?void 0:t.$changeStart;i!=null&&n.cm6.dispatch({selection:{anchor:i}})}var A1={};class re{constructor(e){this.state={},this.marks=Object.create(null),this.$mid=0,this.options={},this._handlers={},this.$lastChangeEndOffset=0,this.virtualSelection=null,this.cm6=e,this.onChange=this.onChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this)}openDialog(e,t,i){return M1(this,e,t,i)}openNotification(e,t){return V1(this,e,t)}on(e,t){IO(this,e,t)}off(e,t){NO(this,e,t)}signal(e,t,i){GO(this,e,t,i)}indexFromPos(e){return st(this.cm6.state.doc,e)}posFromIndex(e){return xt(this.cm6.state.doc,e)}foldCode(e){let t=this.cm6,i=t.state.selection.ranges,r=this.cm6.state.doc,s=st(r,e),o=Y.create([Y.range(s,s)],0).ranges;t.state.selection.ranges=o,Vu(t),t.state.selection.ranges=i}firstLine(){return 0}lastLine(){return this.cm6.state.doc.lines-1}lineCount(){return this.cm6.state.doc.lines}setCursor(e,t){typeof e=="object"&&(t=e.ch,e=e.line);var i=st(this.cm6.state.doc,{line:e,ch:t});this.cm6.dispatch({selection:{anchor:i}},{scrollIntoView:!this.curOp}),this.curOp&&!this.curOp.isVimOp&&this.onBeforeEndOperation()}getCursor(e){var t=this.cm6.state.selection.main,i=e=="head"||!e?t.head:e=="anchor"?t.anchor:e=="start"?t.from:e=="end"?t.to:null;if(i==null)throw new Error("Invalid cursor type");return this.posFromIndex(i)}listSelections(){var e=this.cm6.state.doc;return this.cm6.state.selection.ranges.map(t=>({anchor:xt(e,t.anchor),head:xt(e,t.head)}))}setSelections(e,t){var i=this.cm6.state.doc,r=e.map(s=>Y.range(st(i,s.anchor),st(i,s.head)));this.cm6.dispatch({selection:Y.create(r,t)})}setSelection(e,t,i){var r=this.cm6.state.doc,s=[Y.range(st(r,e),st(r,t))];this.cm6.dispatch({selection:Y.create(s,0)}),i&&i.origin=="*mouse"&&this.onBeforeEndOperation()}getLine(e){var t=this.cm6.state.doc;return e<0||e>=t.lines?"":this.cm6.state.doc.line(e+1).text}getLineHandle(e){return this.$lineHandleChanges||(this.$lineHandleChanges=[]),{row:e,index:this.indexFromPos(new jt(e,0))}}getLineNumber(e){var t=this.$lineHandleChanges;if(!t)return null;for(var i=e.index,r=0;r<t.length;r++)if(i=t[r].changes.mapPos(i,1,Ne.TrackAfter),i==null)return null;var s=this.posFromIndex(i);return s.ch==0?s.line:null}releaseLineHandles(){this.$lineHandleChanges=void 0}getRange(e,t){var i=this.cm6.state.doc;return this.cm6.state.sliceDoc(st(i,e),st(i,t))}replaceRange(e,t,i){i||(i=t);var r=this.cm6.state.doc,s=st(r,t),o=st(r,i);Vn(this,{changes:{from:s,to:o,insert:e}})}replaceSelection(e){Vn(this,this.cm6.state.replaceSelection(e))}replaceSelections(e){var t=this.cm6.state.selection.ranges,i=t.map((r,s)=>({from:r.from,to:r.to,insert:e[s]||""}));Vn(this,{changes:i})}getSelection(){return this.getSelections().join(`
`)}getSelections(){var e=this.cm6;return e.state.selection.ranges.map(t=>e.state.sliceDoc(t.from,t.to))}somethingSelected(){return this.cm6.state.selection.ranges.some(e=>!e.empty)}getInputField(){return this.cm6.contentDOM}clipPos(e){var t=this.cm6.state.doc,i=e.ch,r=e.line+1;r<1&&(r=1,i=0),r>t.lines&&(r=t.lines,i=Number.MAX_VALUE);var s=t.line(r);return i=Math.min(Math.max(0,i),s.to-s.from),new jt(r-1,i)}getValue(){return this.cm6.state.doc.toString()}setValue(e){var t=this.cm6;return t.dispatch({changes:{from:0,to:t.state.doc.length,insert:e},selection:Y.range(0,0)})}focus(){return this.cm6.focus()}blur(){return this.cm6.contentDOM.blur()}defaultTextHeight(){return this.cm6.defaultLineHeight}findMatchingBracket(e){var t=this.cm6.state,i=st(t.doc,e),r=wt(t,i+1,-1);return r&&r.end?{to:xt(t.doc,r.end.from)}:(r=wt(t,i,1),r&&r.end?{to:xt(t.doc,r.end.from)}:{to:void 0})}scanForBracket(e,t,i,r){return q1(this,e,t,i,r)}indentLine(e,t){t?this.indentMore():this.indentLess()}indentMore(){bO(this.cm6)}indentLess(){SO(this.cm6)}execCommand(e){if(e=="indentAuto")re.commands.indentAuto(this);else if(e=="goLineLeft")nO(this.cm6);else if(e=="goLineRight"){iO(this.cm6);let t=this.cm6.state,i=t.selection.main.head;i<t.doc.length&&t.sliceDoc(i,i+1)!==`
`&&xv(this.cm6)}else console.log(e+" is not implemented")}setBookmark(e,t){var i=t?.insertLeft?1:-1,r=this.indexFromPos(e),s=new j1(this,r,i);return s}addOverlay({query:e}){let t=new Hl({regexp:!0,search:e.source,caseSensitive:!/i/.test(e.flags)});if(t.valid){t.forVim=!0,this.cm6Query=t;let i=Ti.of(t);return this.cm6.dispatch({effects:i}),t}}removeOverlay(e){if(!this.cm6Query)return;this.cm6Query.forVim=!1;let t=Ti.of(this.cm6Query);this.cm6.dispatch({effects:t})}getSearchCursor(e,t){var i=this,r=null,s=null;t.ch==null&&(t.ch=Number.MAX_VALUE);var o=st(i.cm6.state.doc,t),l=e.source.replace(/(\\.|{(?:\d+(?:,\d*)?|,\d+)})|[{}]/g,function(v,y){return y||"\\"+v});function h(v,y=0,w=v.length){return new Fl(v,l,{ignoreCase:e.ignoreCase},y,w)}function f(v){var y=i.cm6.state.doc;if(v>y.length)return null;let w=h(y,v).next();return w.done?null:w.value}var O=1e4;function p(v,y){var w=i.cm6.state.doc;for(let X=1;;X++){let P=Math.max(v,y-X*O),U=h(w,P,y),M=null;for(;!U.next().done;)M=U.value;if(M&&(P==v||M.from>P+10))return M;if(P==v)return null}}return{findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(v){var y=i.cm6.state.doc;if(v){let w=r?r.from==r.to?r.to-1:r.from:o;r=p(0,w)}else{let w=r?r.from==r.to?r.to+1:r.to:o;r=f(w)}return s=r&&{from:xt(y,r.from),to:xt(y,r.to),match:r.match},r&&r.match},from:function(){return s?.from},to:function(){return s?.to},replace:function(v){r&&(Vn(i,{changes:{from:r.from,to:r.to,insert:v}}),r.to=r.from+v.length,s&&(s.to=xt(i.cm6.state.doc,r.to)))}}}findPosV(e,t,i,r){let{cm6:s}=this;const o=s.state.doc;let l=i=="page"?s.dom.clientHeight:0;const h=st(o,e);let f=Y.range(h,h,r),O=Math.round(Math.abs(t));for(let v=0;v<O;v++)i=="page"?f=s.moveVertically(f,t>0,l):i=="line"&&(f=s.moveVertically(f,t>0));let p=xt(o,f.head);return(t<0&&f.head==0&&r!=0&&e.line==0&&e.ch!=0||t>0&&f.head==o.length&&p.ch!=r&&e.line==p.line)&&(p.hitSide=!0),p}charCoords(e,t){var i=this.cm6.contentDOM.getBoundingClientRect(),r=st(this.cm6.state.doc,e),s=this.cm6.coordsAtPos(r),o=-i.top;return{left:(s?.left||0)-i.left,top:(s?.top||0)+o,bottom:(s?.bottom||0)+o}}coordsChar(e,t){var i=this.cm6.contentDOM.getBoundingClientRect(),r=this.cm6.posAtCoords({x:e.left+i.left,y:e.top+i.top})||0;return xt(this.cm6.state.doc,r)}getScrollInfo(){var e=this.cm6.scrollDOM;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight,width:e.scrollWidth,clientHeight:e.clientHeight,clientWidth:e.clientWidth}}scrollTo(e,t){e!=null&&(this.cm6.scrollDOM.scrollLeft=e),t!=null&&(this.cm6.scrollDOM.scrollTop=t)}scrollIntoView(e,t){if(e){var i=this.indexFromPos(e);this.cm6.dispatch({effects:D.scrollIntoView(i)})}else this.cm6.dispatch({scrollIntoView:!0,userEvent:"scroll"})}getWrapperElement(){return this.cm6.dom}getMode(){return{name:this.getOption("mode")}}setSize(e,t){this.cm6.dom.style.width=e+4+"px",this.cm6.dom.style.height=t+"px",this.refresh()}refresh(){this.cm6.measure()}destroy(){this.removeOverlay()}getLastEditEnd(){return this.posFromIndex(this.$lastChangeEndOffset)}onChange(e){this.$lineHandleChanges&&this.$lineHandleChanges.push(e);for(let i in this.marks)this.marks[i].update(e.changes);this.virtualSelection&&(this.virtualSelection.ranges=this.virtualSelection.ranges.map(i=>i.map(e.changes)));var t=this.curOp=this.curOp||{};e.changes.iterChanges((i,r,s,o,l)=>{(t.$changeStart==null||t.$changeStart>s)&&(t.$changeStart=s),this.$lastChangeEndOffset=o;var h={text:l.toJSON()};t.lastChange?t.lastChange.next=t.lastChange=h:t.lastChange=t.change=h},!0),t.changeHandlers||(t.changeHandlers=this._handlers.change&&this._handlers.change.slice())}onSelectionChange(){var e=this.curOp=this.curOp||{};e.cursorActivityHandlers||(e.cursorActivityHandlers=this._handlers.cursorActivity&&this._handlers.cursorActivity.slice()),this.curOp.cursorActivity=!0}operation(e){this.curOp||(this.curOp={$d:0}),this.curOp.$d++;try{var t=e()}finally{this.curOp&&(this.curOp.$d--,this.curOp.$d||this.onBeforeEndOperation())}return t}onBeforeEndOperation(){var e=this.curOp,t=!1;e&&(e.change&&bc(e.changeHandlers,this,e.change),e&&e.cursorActivity&&(bc(e.cursorActivityHandlers,this,null),e.isVimOp&&(t=!0)),this.curOp=null),t&&this.scrollIntoView()}moveH(e,t){if(t=="char"){var i=this.getCursor();this.setCursor(i.line,i.ch+e)}}setOption(e,t){switch(e){case"keyMap":this.state.keyMap=t;break;case"textwidth":this.state.textwidth=t;break}}getOption(e){switch(e){case"firstLineNumber":return 1;case"tabSize":return this.cm6.state.tabSize||4;case"readonly":return this.cm6.state.readOnly;case"indentWithTabs":return this.cm6.state.facet(Fn)=="	";case"indentUnit":return this.cm6.state.facet(Fn).length||2;case"textwidth":return this.state.textwidth;case"keyMap":return this.state.keyMap||"vim"}}toggleOverwrite(e){this.state.overwrite=e}getTokenTypeAt(e){var t,i=this.indexFromPos(e),r=Xu(this.cm6.state,i),s=r?.resolve(i),o=((t=s?.type)===null||t===void 0?void 0:t.name)||"";return/comment/i.test(o)?"comment":/string/i.test(o)?"string":""}overWriteSelection(e){var t=this.cm6.state.doc,i=this.cm6.state.selection,r=i.ranges.map(s=>{if(s.empty){var o=s.to<t.length?t.sliceString(s.from,s.to+1):"";if(o&&!/\n/.test(o))return Y.range(s.from,s.to+1)}return s});this.cm6.dispatch({selection:Y.create(r,i.mainIndex)}),this.replaceSelection(e)}isInMultiSelectMode(){return this.cm6.state.selection.ranges.length>1}virtualSelectionMode(){return!!this.virtualSelection}forEachSelection(e){var t=this.cm6.state.selection;this.virtualSelection=Y.create(t.ranges,t.mainIndex);for(var i=0;i<this.virtualSelection.ranges.length;i++){var r=this.virtualSelection.ranges[i];r&&(this.cm6.dispatch({selection:Y.create([r])}),e(),this.virtualSelection.ranges[i]=this.cm6.state.selection.ranges[0])}this.cm6.dispatch({selection:this.virtualSelection}),this.virtualSelection=null}hardWrap(e){return D1(this,e)}}re.isMac=typeof navigator<"u"&&/Mac/.test(navigator.platform);re.Pos=jt;re.StringStream=H0;re.commands={cursorCharLeft:function(n){Il(n.cm6)},redo:function(n){Sc(n,!1)},undo:function(n){Sc(n,!0)},newlineAndIndent:function(n){vO({state:n.cm6.state,dispatch:e=>Vn(n,e)})},indentAuto:function(n){xO(n.cm6)}};re.defineOption=function(n,e,t){};re.isWordChar=function(n){return gl.test(n)};re.keys=A1;re.keyMap={};re.addClass=function(){};re.rmClass=function(){};re.e_preventDefault=function(n){n.preventDefault()};re.e_stop=function(n){var e,t;(e=n?.stopPropagation)===null||e===void 0||e.call(n),(t=n?.preventDefault)===null||t===void 0||t.call(n)};re.keyName=function(n){var e=n.key;if(!FO[e]){e=="Escape"&&(e="Esc"),e==" "&&(e="Space"),e.length>1&&(e=e.replace(/Numpad|Arrow/,"")),e.length==1&&(e=e.toUpperCase());var t="";return n.ctrlKey&&(t+="Ctrl-"),n.altKey&&(t+="Alt-"),(t||e.length>1)&&n.shiftKey&&(t+="Shift-"),t+=e,t}};re.vimKey=function(e){var t=e.key;if(!FO[t]){t.length>1&&t[0]=="n"&&(t=t.replace("Numpad","")),t=Y1[t]||t;var i="";return e.ctrlKey&&(i+="C-"),e.altKey&&(i+="A-"),e.metaKey&&(i+="M-"),re.isMac&&e.altKey&&!e.metaKey&&!e.ctrlKey&&(i=i.slice(2)),(i||t.length>1)&&e.shiftKey&&(i+="S-"),i+=t,i.length>1&&(i="<"+i+">"),i}};re.lookupKey=function(e,t,i){var r=re.keys[e];r&&i(r)};re.on=IO;re.off=NO;re.signal=GO;re.findMatchingTag=L1;re.findEnclosingTag=E1;function HO(n,e,t){var i=document.createElement("div");return i.appendChild(e),i}function KO(n,e){n.state.currentNotificationClose&&n.state.currentNotificationClose(),n.state.currentNotificationClose=e}function V1(n,e,t){KO(n,l);var i=HO(n,e,t&&t.bottom),r=!1,s,o=t&&typeof t.duration<"u"?t.duration:5e3;function l(){r||(r=!0,clearTimeout(s),i.remove(),ed(n,i))}return i.onclick=function(h){h.preventDefault(),l()},JO(n,i),o&&(s=setTimeout(l,o)),l}function JO(n,e){var t=n.state.dialog;n.state.dialog=e,e&&t!==e&&(t&&t.contains(document.activeElement)&&n.focus(),t&&t.parentElement?t.parentElement.replaceChild(e,t):t&&t.remove(),re.signal(n,"dialog"))}function ed(n,e){n.state.dialog==e&&(n.state.dialog=null,re.signal(n,"dialog"))}function M1(n,e,t,i){i||(i={}),KO(n,void 0);var r=HO(n,e,i.bottom),s=!1;JO(n,r);function o(h){if(typeof h=="string")l.value=h;else{if(s)return;s=!0,ed(n,r),n.state.dialog||n.focus(),i.onClose&&i.onClose(r)}}var l=r.getElementsByTagName("input")[0];return l&&(i.value&&(l.value=i.value,i.selectValueOnOpen!==!1&&l.select()),i.onInput&&re.on(l,"input",function(h){i.onInput(h,l.value,o)}),i.onKeyUp&&re.on(l,"keyup",function(h){i.onKeyUp(h,l.value,o)}),re.on(l,"keydown",function(h){i&&i.onKeyDown&&i.onKeyDown(h,l.value,o)||(h.keyCode==13&&t(l.value),(h.keyCode==27||i.closeOnEnter!==!1&&h.keyCode==13)&&(l.blur(),re.e_stop(h),o()))}),i.closeOnBlur!==!1&&re.on(l,"blur",function(){setTimeout(function(){document.activeElement!==l&&o()})}),l.focus()),o}var Z1={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function z1(n){return n&&n.bracketRegex||/[(){}[\]]/}function q1(n,e,t,i,r){for(var s=r&&r.maxScanLineLength||1e4,o=r&&r.maxScanLines||1e3,l=[],h=z1(r),f=t>0?Math.min(e.line+o,n.lastLine()+1):Math.max(n.firstLine()-1,e.line-o),O=e.line;O!=f;O+=t){var p=n.getLine(O);if(p){var v=t>0?0:p.length-1,y=t>0?p.length:-1;if(!(p.length>s))for(O==e.line&&(v=e.ch-(t<0?1:0));v!=y;v+=t){var w=p.charAt(v);if(h.test(w)){var X=Z1[w];if(X&&X.charAt(1)==">"==t>0)l.push(w);else if(l.length)l.pop();else return{pos:new jt(O,v),ch:w}}}}}return O-t==(t>0?n.lastLine():n.firstLine())?!1:null}function L1(n,e){}function E1(n,e){var t,i,r=n.cm6.state,s=n.indexFromPos(e);if(s<r.doc.length){var o=r.sliceDoc(s,s+1);o=="<"&&s++}for(var l=Xu(r,s),h=l?.resolve(s)||null;h;){if(((t=h.firstChild)===null||t===void 0?void 0:t.type.name)=="OpenTag"&&((i=h.lastChild)===null||i===void 0?void 0:i.type.name)=="CloseTag")return{open:wc(r.doc,h.firstChild),close:wc(r.doc,h.lastChild)};h=h.parent}}function wc(n,e){return{from:xt(n,e.from),to:xt(n,e.to)}}class j1{constructor(e,t,i){this.cm=e,this.id=e.$mid++,this.offset=t,this.assoc=i,e.marks[this.id]=this}clear(){delete this.cm.marks[this.id]}find(){return this.offset==null?null:this.cm.posFromIndex(this.offset)}update(e){this.offset!=null&&(this.offset=e.mapPos(this.offset,this.assoc,Ne.TrackDel))}}function D1(n,e){for(var t=e.column||n.getOption("textwidth")||80,i=e.allowMerge!=!1,r=Math.min(e.from,e.to),s=Math.max(e.from,e.to);r<=s;){var o=n.getLine(r);if(o.length>t){var l=y(o,t,5);if(l){var h=/^\s*/.exec(o)[0];n.replaceRange(`
`+h,new jt(r,l.start),new jt(r,l.end))}s++}else if(i&&/\S/.test(o)&&r!=s){var f=n.getLine(r+1);if(f&&/\S/.test(f)){var O=o.replace(/\s+$/,""),p=f.replace(/^\s+/,""),v=O+" "+p,l=y(v,t,5);l&&l.start>O.length||v.length<t?(n.replaceRange(" ",new jt(r,O.length),new jt(r+1,f.length-p.length)),r--,s--):O.length<o.length&&n.replaceRange("",new jt(r,O.length),new jt(r,o.length))}}r++}return r;function y(w,X,P){if(!(w.length<X)){var U=w.slice(0,X),M=w.slice(X),q=/^(?:(\s+)|(\S+)(\s+))/.exec(M),Z=/(?:(\s+)|(\s+)(\S+))$/.exec(U),V=0,L=0;if(Z&&!Z[2]&&(V=X-Z[1].length,L=X),q&&!q[2]&&(V||(V=X),L=X+q[1].length),V)return{start:V,end:L};if(Z&&Z[2]&&Z.index>P)return{start:Z.index,end:Z.index+Z[2].length};if(q&&q[2])return V=X+q[2].length,{start:V,end:V+q[3].length}}}}let ml=em||function(){let n={cursorBlinkRate:1200};return function(){return n}}();class _1{constructor(e,t,i,r,s,o,l,h,f,O){this.left=e,this.top=t,this.height=i,this.fontFamily=r,this.fontSize=s,this.fontWeight=o,this.color=l,this.className=h,this.letter=f,this.partial=O}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.fontFamily=this.fontFamily,e.style.fontSize=this.fontSize,e.style.fontWeight=this.fontWeight,e.style.color=this.partial?"transparent":this.color,e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.height==e.height&&this.fontFamily==e.fontFamily&&this.fontSize==e.fontSize&&this.fontWeight==e.fontWeight&&this.color==e.color&&this.className==e.className&&this.letter==e.letter}}class B1{constructor(e,t){this.view=e,this.rangePieces=[],this.cursors=[],this.cm=t,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){let t=ml(this.cm.cm6.state).cursorBlinkRate;this.cursorLayer.style.animationDuration=t+"ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),I1(e)&&this.setBlinkRate()}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,t=[];for(let i of e.selection.ranges){let r=i==e.selection.main,s=H1(this.cm,this.view,i,r);s&&t.push(s)}return{cursors:t}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some((t,i)=>!t.eq(this.cursors[i]))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const i of e)this.cursorLayer.appendChild(i.draw())}else e.forEach((i,r)=>i.adjust(t[r]));this.cursors=e}}destroy(){this.cursorLayer.remove()}}function I1(n){return ml(n.startState)!=ml(n.state)}const N1={".cm-vimMode .cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}},G1=_i.highest(D.theme(N1));function F1(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Qe.LTR?e.left:e.right-n.scrollDOM.clientWidth)-n.scrollDOM.scrollLeft,top:e.top-n.scrollDOM.scrollTop}}function H1(n,e,t,i){var r,s;let o=t.head,l=!1,h=1,f=n.state.vim;if(f&&(!f.insertMode||n.state.overwrite)){if(l=!0,f.visualBlock&&!i)return null;t.anchor<t.head&&o--,n.state.overwrite?h=.2:f.status&&(h=.5)}if(l){let p=o<e.state.doc.length&&e.state.sliceDoc(o,o+1);p&&/[\uDC00-\uDFFF]/.test(p)&&o>1&&(o--,p=e.state.sliceDoc(o,o+1));let v=e.coordsAtPos(o,1);if(!v)return null;let y=F1(e),w=e.domAtPos(o),X=w?w.node:e.contentDOM;for(;w&&w.node instanceof HTMLElement;)X=w.node,w={node:w.node.childNodes[w.offset],offset:0};if(!(X instanceof HTMLElement)){if(!X.parentNode)return null;X=X.parentNode}let P=getComputedStyle(X),U=v.left,M=(s=(r=e).coordsForChar)===null||s===void 0?void 0:s.call(r,o);if(M&&(U=M.left),!p||p==`
`||p=="\r")p=" ";else if(p=="	"){p=" ";var O=e.coordsAtPos(o+1,-1);O&&(U=O.left-(O.left-v.left)/parseInt(P.tabSize))}else/[\uD800-\uDBFF]/.test(p)&&o<e.state.doc.length-1&&(p+=e.state.sliceDoc(o+1,o+2));let q=v.bottom-v.top;return new _1(U-y.left,v.top-y.top+q*(1-h),q*h,P.fontFamily,P.fontSize,P.fontWeight,P.color,i?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",p,h!=1)}else return null}var K1=typeof navigator<"u"&&/linux/i.test(navigator.platform)&&/ Gecko\/\d+/.exec(navigator.userAgent);const Cn=W1(re),J1=250,ex=D.baseTheme({".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"0px 10px",fontFamily:"monospace",minHeight:"1.3em"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"inherit"},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"}}),tx=Te.fromClass(class{constructor(n){this.status="",this.query=null,this.decorations=H.none,this.waitForCopy=!1,this.lastKeydown="",this.useNextTextInput=!1,this.view=n;const e=this.cm=new re(n);Cn.enterVimMode(this.cm),this.view.cm=this.cm,this.cm.state.vimPlugin=this,this.blockCursor=new B1(n,e),this.updateClass(),this.cm.on("vim-command-done",()=>{e.state.vim&&(e.state.vim.status=""),this.blockCursor.scheduleRedraw(),this.updateStatus()}),this.cm.on("vim-mode-change",t=>{e.state.vim.mode=t.mode,t.subMode&&(e.state.vim.mode+=" block"),e.state.vim.status="",this.blockCursor.scheduleRedraw(),this.updateClass(),this.updateStatus()}),this.cm.on("dialog",()=>{this.cm.state.statusbar?this.updateStatus():n.dispatch({effects:td.of(!!this.cm.state.dialog)})}),this.dom=document.createElement("span"),this.dom.style.cssText="position: absolute; right: 10px; top: 1px",this.statusButton=document.createElement("span"),this.statusButton.onclick=t=>{Cn.handleKey(this.cm,"<Esc>","user"),this.cm.focus()},this.statusButton.style.cssText="cursor: pointer"}update(n){var e;if((n.viewportChanged||n.docChanged)&&this.query&&this.highlight(this.query),n.docChanged&&this.cm.onChange(n),n.selectionSet&&this.cm.onSelectionChange(),n.viewportChanged,this.cm.curOp&&!this.cm.curOp.isVimOp&&this.cm.onBeforeEndOperation(),n.transactions){for(let t of n.transactions)for(let i of t.effects)if(i.is(Ti))if(!((e=i.value)===null||e===void 0?void 0:e.forVim))this.highlight(null);else{let s=i.value.create();this.highlight(s)}}this.blockCursor.update(n)}updateClass(){const n=this.cm.state;!n.vim||n.vim.insertMode&&!n.overwrite?this.view.scrollDOM.classList.remove("cm-vimMode"):this.view.scrollDOM.classList.add("cm-vimMode")}updateStatus(){let n=this.cm.state.statusbar,e=this.cm.state.vim;if(!n||!e)return;let t=this.cm.state.dialog;if(t)t.parentElement!=n&&(n.textContent="",n.appendChild(t));else{n.textContent="";var i=(e.mode||"normal").toUpperCase();e.insertModeReturn&&(i+="(C-O)"),this.statusButton.textContent=`--${i}--`,n.appendChild(this.statusButton)}this.dom.textContent=e.status,n.appendChild(this.dom)}destroy(){Cn.leaveVimMode(this.cm),this.updateClass(),this.blockCursor.destroy(),delete this.view.cm}highlight(n){if(this.query=n,!n)return this.decorations=H.none;let{view:e}=this,t=new ii;for(let i=0,r=e.visibleRanges,s=r.length;i<s;i++){let{from:o,to:l}=r[i];for(;i<s-1&&l>r[i+1].from-2*J1;)l=r[++i].to;n.highlight(e.state,o,l,(h,f)=>{t.add(h,f,nx)})}return this.decorations=t.finish()}handleKey(n,e){const t=re.vimKey(n),i=this.cm;if(!t)return;let r=i.state.vim;if(!r)return;if(t=="<Esc>"&&!r.insertMode&&!r.visualMode&&this.query){const l=r.searchState_;l&&(i.removeOverlay(l.getOverlay()),l.setOverlay(null))}if(t==="<C-c>"&&!re.isMac&&i.somethingSelected())return this.waitForCopy=!0,!0;r.status=(r.status||"")+t;let o=Cn.multiSelectHandleKey(i,t,"user");return r=i.state.vim,!o&&r.insertMode&&i.state.overwrite&&(n.key&&n.key.length==1&&!/\n/.test(n.key)?(o=!0,i.overWriteSelection(n.key)):n.key=="Backspace"&&(o=!0,re.commands.cursorCharLeft(i))),o&&(re.signal(this.cm,"vim-keypress",t),n.preventDefault(),n.stopPropagation(),this.blockCursor.scheduleRedraw()),this.updateStatus(),!!o}},{eventHandlers:{copy:function(n,e){this.waitForCopy&&(this.waitForCopy=!1,Promise.resolve().then(()=>{var t=this.cm,i=t.state.vim;i&&(i.insertMode?t.setSelection(t.getCursor(),t.getCursor()):t.operation(()=>{t.curOp&&(t.curOp.isVimOp=!0),Cn.handleKey(t,"<Esc>","user")}))}))},compositionstart:function(n,e){this.useNextTextInput=!0},keypress:function(n,e){this.lastKeydown=="Dead"&&this.handleKey(n,e)},keydown:function(n,e){this.lastKeydown=n.key,this.lastKeydown=="Unidentified"||this.lastKeydown=="Process"||this.lastKeydown=="Dead"?this.useNextTextInput=!0:(this.useNextTextInput=!1,this.handleKey(n,e))}},provide:()=>[D.inputHandler.of((n,e,t,i)=>{var r,s,o=lx(n);if(!o)return!1;var l=(r=o.state)===null||r===void 0?void 0:r.vim,h=o.state.vimPlugin;if(l&&!l.insertMode&&!(!((s=o.curOp)===null||s===void 0)&&s.isVimOp)){if(i==="\0\0")return!0;if(i.length==1&&h.useNextTextInput)return h.handleKey({key:i,preventDefault:()=>{},stopPropagation:()=>{}}),ix(n),!0}return!1})],decorations:n=>n.decorations});function ix(n){var e=n.scrollDOM.parentElement;if(e){if(K1){n.contentDOM.textContent="\0\0",n.contentDOM.dispatchEvent(new CustomEvent("compositionend"));return}var t=n.scrollDOM.nextSibling,i=window.getSelection(),r=i&&{anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset};n.scrollDOM.remove(),e.insertBefore(n.scrollDOM,t);try{r&&i&&(i.setPosition(r.anchorNode,r.anchorOffset),r.focusNode&&i.extend(r.focusNode,r.focusOffset))}catch(s){console.error(s)}n.focus(),n.contentDOM.dispatchEvent(new CustomEvent("compositionend"))}}const nx=H.mark({class:"cm-searchMatch"}),td=te.define(),rx=Le.define({create:()=>!1,update(n,e){for(let t of e.effects)t.is(td)&&(n=t.value);return n},provide:n=>ji.from(n,e=>e?sx:null)});function sx(n){let e=document.createElement("div");e.className="cm-vim-panel";let t=n.cm;return t.state.dialog&&e.appendChild(t.state.dialog),{top:!1,dom:e}}function ox(n){let e=document.createElement("div");e.className="cm-vim-panel";let t=n.cm;return t.state.statusbar=e,t.state.vimPlugin.updateStatus(),{dom:e}}function id(n={}){return[ex,tx,G1,n.status?ji.of(ox):rx]}function lx(n){return n.cm||null}class vs{constructor(e,t,i,r,s,o,l,h,f,O=0,p){this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=s,this.score=o,this.buffer=l,this.bufferBase=h,this.curContext=f,this.lookAhead=O,this.parent=p}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let r=e.parser.context;return new vs(e,[],t,i,i,0,[],0,r?new Qc(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,r=e&65535,{parser:s}=this.p,o=s.dynamicPrecedence(r);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),this.reduceContext(r,this.reducePos);return}let l=this.stack.length-(i-1)*3-(e&262144?6:0),h=l?this.stack[l-2]:this.p.ranges[0].from,f=this.reducePos-h;f>=2e3&&!(!((t=this.p.parser.nodeSet.types[r])===null||t===void 0)&&t.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=f):this.p.lastBigReductionSize<f&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=f));let O=l?this.stack[l-1]:0,p=this.bufferBase+this.buffer.length-O;if(r<s.minRepeatTerm||e&131072){let v=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,h,v,p+4,!0)}if(e&262144)this.state=this.stack[l];else{let v=this.stack[l-3];this.state=s.getGoto(v,r,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(r,h)}storeNode(e,t,i,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,l=this.buffer.length;if(l==0&&o.parent&&(l=o.bufferBase-o.parent.bufferBase,o=o.parent),l>0&&o.buffer[l-4]==0&&o.buffer[l-1]>-1){if(t==i)return;if(o.buffer[l-2]>=t){o.buffer[l-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,r);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=r}}shift(e,t,i,r){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,r,4);else{let s=e,{parser:o}=this.p;(r>this.pos||t<=o.maxNode)&&(this.pos=r,o.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(t,i),t<=o.maxNode&&this.buffer.push(t,i,r,4)}}apply(e,t,i,r){e&65536?this.reduce(e):this.shift(e,t,i,r)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new vs(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new ax(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&r.push(t[s],o);if(this.stack.length<120)for(let s=0;r.length<8&&s<t.length;s+=2){let o=t[s+1];r.some((l,h)=>h&1&&l==o)||r.push(t[s],o)}t=r}let i=[];for(let r=0;r<t.length&&i.length<4;r+=2){let s=t[r+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[r],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let i=t>>19,r=t&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],r,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(r,s)=>{if(!t.includes(r))return t.push(r),e.allActions(r,o=>{if(!(o&393216))if(o&65536){let l=(o>>19)-s;if(l>1){let h=o&65535,f=this.stack.length-l*3;if(f>=0&&e.getGoto(this.stack[f],h,!1)>=0)return l<<19|65536|h}}else{let l=i(o,s+1);if(l!=null)return l}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Qc(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Qc{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class ax{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class ys{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new ys(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new ys(this.stack,this.pos,this.index)}}function Ar(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,r=0;i<n.length;){let s=0;for(;;){let o=n.charCodeAt(i++),l=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let h=o-32;if(h>=46&&(h-=46,l=!0),s+=h,l)break;s*=46}t?t[r++]=s:t=new e(s)}return t}class Br{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const $c=new Br;class hx{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=$c,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let o=this.ranges[--r];s-=i.from-o.to,i=o}for(;t<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let o=this.ranges[++r];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,r;if(t>=0&&t<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,l=this.range;for(;l.to<=i;)l=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=$c,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class hn{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;cx(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}hn.prototype.contextual=hn.prototype.fallback=hn.prototype.extend=!1;hn.prototype.fallback=hn.prototype.extend=!1;class nd{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function cx(n,e,t,i,r,s){let o=0,l=1<<i,{dialect:h}=t.p.parser;e:for(;l&n[o];){let f=n[o+1];for(let y=o+3;y<f;y+=2)if((n[y+1]&l)>0){let w=n[y];if(h.allows(w)&&(e.token.value==-1||e.token.value==w||fx(w,e.token.value,r,s))){e.acceptToken(w);break}}let O=e.next,p=0,v=n[o+2];if(e.next<0&&v>p&&n[f+v*3-3]==65535){o=n[f+v*3-1];continue e}for(;p<v;){let y=p+v>>1,w=f+y+(y<<1),X=n[w],P=n[w+1]||65536;if(O<X)v=y;else if(O>=P)p=y+1;else{o=n[w+2],e.advance();continue e}}break}}function kc(n,e,t){for(let i=e,r;(r=n[i])!=65535;i++)if(r==t)return i-e;return-1}function fx(n,e,t,i){let r=kc(t,i,e);return r<0||kc(t,i,n)<r}const dt=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let go=null;function Xc(n,e,t){let i=n.cursor(qe.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class ux{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Xc(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Xc(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],r=this.index[t];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],o=this.start[t]+i.positions[r];if(o>e)return this.nextStart=o,null;if(s instanceof Ue){if(o==e){if(o<this.safeFrom)return null;let l=o+s.length;if(l<=this.safeTo){let h=s.prop(se.lookAhead);if(!h||l+h<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class Ox{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Br)}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,o=r.stateSlot(e.state,3),l=e.curContext?e.curContext.hash:0,h=0;for(let f=0;f<s.length;f++){if(!(1<<f&o))continue;let O=s[f],p=this.tokens[f];if(!(i&&!O.fallback)&&((O.contextual||p.start!=e.pos||p.mask!=o||p.context!=l)&&(this.updateCachedToken(p,O,e),p.mask=o,p.context=l),p.lookAhead>p.end+25&&(h=Math.max(p.lookAhead,h)),p.value!=0)){let v=t;if(p.extended>-1&&(t=this.addActions(e,p.extended,p.end,t)),t=this.addActions(e,p.value,p.end,t),!O.extend&&(i=p,t>v))break}}for(;this.actions.length>t;)this.actions.pop();return h&&e.setLookAhead(h),!i&&e.pos==this.stream.end&&(i=new Br,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Br,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){let r=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(r,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let l=s.specializers[o](this.stream.read(e.start,e.end),i);if(l>=0&&i.p.parser.dialect.allows(l>>1)){l&1?e.extended=l>>1:e.value=l>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:s}=e,{parser:o}=e.p,{data:l}=o;for(let h=0;h<2;h++)for(let f=o.stateSlot(s,h?2:1);;f+=3){if(l[f]==65535)if(l[f+1]==1)f=ti(l,f+2);else{r==0&&l[f+1]==2&&(r=this.putAction(ti(l,f+2),t,i,r));break}l[f]==t&&(r=this.putAction(ti(l,f+1),t,i,r))}return r}}class dx{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new hx(t,r),this.tokens=new Ox(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[vs.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new ux(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],r,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let l=e[o];for(;;){if(this.tokens.mainToken=null,l.pos>t)i.push(l);else{if(this.advanceStack(l,i,e))continue;{r||(r=[],s=[]),r.push(l);let h=this.tokens.getMainToken(l);s.push(h.value,h.end)}}break}}if(!i.length){let o=r&&gx(r);if(o)return dt&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw dt&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let o=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(o)return dt&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((l,h)=>h.score-l.score);i.length>o;)i.pop();i.some(l=>l.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let l=i[o];for(let h=o+1;h<i.length;h++){let f=i[h];if(l.sameState(f)||l.buffer.length>500&&f.buffer.length>500)if((l.score-f.score||l.buffer.length-f.buffer.length)>0)i.splice(h--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let r=e.pos,{parser:s}=this,o=dt?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,O=f?e.curContext.hash:0;for(let p=this.fragments.nodeAt(r);p;){let v=this.parser.nodeSet.types[p.type.id]==p.type?s.getGoto(e.state,p.type.id):-1;if(v>-1&&p.length&&(!f||(p.prop(se.contextHash)||0)==O))return e.useNode(p,v),dt&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(p.type.id)})`),!0;if(!(p instanceof Ue)||p.children.length==0||p.positions[0]>0)break;let y=p.children[0];if(y instanceof Ue&&p.positions[0]==0)p=y;else break}}let l=s.stateSlot(e.state,4);if(l>0)return e.reduce(l),dt&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(l&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let h=this.tokens.getActions(e);for(let f=0;f<h.length;){let O=h[f++],p=h[f++],v=h[f++],y=f==h.length||!i,w=y?e:e.split(),X=this.tokens.mainToken;if(w.apply(O,p,X?X.start:w.pos,v),dt&&console.log(o+this.stackID(w)+` (via ${O&65536?`reduce of ${s.getName(O&65535)}`:"shift"} for ${s.getName(p)} @ ${r}${w==e?"":", split"})`),y)return!0;w.pos>r?t.push(w):i.push(w)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return Pc(e,t),!0}}runRecovery(e,t,i){let r=null,s=!1;for(let o=0;o<e.length;o++){let l=e[o],h=t[o<<1],f=t[(o<<1)+1],O=dt?this.stackID(l)+" -> ":"";if(l.deadEnd&&(s||(s=!0,l.restart(),dt&&console.log(O+this.stackID(l)+" (restarted)"),this.advanceFully(l,i))))continue;let p=l.split(),v=O;for(let y=0;p.forceReduce()&&y<10&&(dt&&console.log(v+this.stackID(p)+" (via force-reduce)"),!this.advanceFully(p,i));y++)dt&&(v=this.stackID(p)+" -> ");for(let y of l.recoverByInsert(h))dt&&console.log(O+this.stackID(y)+" (via recover-insert)"),this.advanceFully(y,i);this.stream.end>l.pos?(f==l.pos&&(f++,h=0),l.recoverByDelete(h,f),dt&&console.log(O+this.stackID(l)+` (via recover-delete ${this.parser.getName(h)})`),Pc(l,i)):(!r||r.score<l.score)&&(r=l)}return r}stackToTree(e){return e.close(),Ue.build({buffer:ys.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(go||(go=new WeakMap)).get(e);return t||go.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Pc(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class px{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}class xs extends wu{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let l=0;l<e.repeatNodeCount;l++)t.push("");let i=Object.keys(e.topRules).map(l=>e.topRules[l][1]),r=[];for(let l=0;l<t.length;l++)r.push([]);function s(l,h,f){r[l].push([h,h.deserialize(String(f))])}if(e.nodeProps)for(let l of e.nodeProps){let h=l[0];typeof h=="string"&&(h=se[h]);for(let f=1;f<l.length;){let O=l[f++];if(O>=0)s(O,h,l[f++]);else{let p=l[f+-O];for(let v=-O;v>0;v--)s(l[f++],h,p);f++}}}this.nodeSet=new Al(t.map((l,h)=>ft.define({name:h>=this.minRepeatTerm?void 0:l,id:h,props:r[h],top:i.indexOf(h)>-1,error:h==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(h)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=yu;let o=Ar(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(Cc),this.states=Ar(e.states,Uint32Array),this.data=Ar(e.stateData),this.goto=Ar(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(l=>typeof l=="number"?new hn(o,l):l),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new dx(this,e,t,i);for(let s of this.wrappers)r=s(r,e,t,i);return r}getGoto(e,t,i=!1){let r=this.goto;if(t>=r[0])return-1;for(let s=r[t+1];;){let o=r[s++],l=o&1,h=r[s++];if(l&&i)return h;for(let f=s+(o>>1);s<f;s++)if(r[s]==e)return h;if(l)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=ti(i,s+2)];else{if(i[s+1]==2)return ti(i,s+2);break}if(o==t||o==0)return ti(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),r=i?t(i):void 0;for(let s=this.stateSlot(e,1);r==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=ti(this.data,s+2);else break;r=t(ti(this.data,s+1))}return r}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=ti(this.data,i+2);else break;if(!(this.data[i+2]&1)){let r=this.data[i+1];t.some((s,o)=>o&1&&s==r)||t.push(this.data[i],r)}}return t}configure(e){let t=Object.assign(Object.create(xs.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,r)=>{let s=e.specializers.find(l=>l.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[r]=Cc(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(i[o]=!0)}let r=null;for(let s=0;s<t.length;s++)if(!i[s])for(let o=this.dialects[t[s]],l;(l=this.data[o++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[l]=1;return new px(e,i,r)}static deserialize(e){return new xs(e)}}function ti(n,e){return n[e]|n[e+1]<<16}function gx(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function Cc(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const Tc=1,mx=2,vx=3,yx=82,xx=76,bx=117,Sx=85,wx=97,Qx=122,$x=65,kx=90,Xx=95,vl=48,Uc=34,Px=40,Rc=41,Cx=32,Wc=62,Tx=new nd(n=>{if(n.next==xx||n.next==Sx?n.advance():n.next==bx&&(n.advance(),n.next==vl+8&&n.advance()),n.next!=yx||(n.advance(),n.next!=Uc))return;n.advance();let e="";for(;n.next!=Px;){if(n.next==Cx||n.next<=13||n.next==Rc)return;e+=String.fromCharCode(n.next),n.advance()}for(n.advance();;){if(n.next<0)return n.acceptToken(Tc);if(n.next==Rc){let t=!0;for(let i=0;t&&i<e.length;i++)n.peek(i+1)!=e.charCodeAt(i)&&(t=!1);if(t&&n.peek(e.length+1)==Uc)return n.acceptToken(Tc,2+e.length)}n.advance()}}),Ux=new nd(n=>{if(n.next==Wc)n.peek(1)==Wc&&n.acceptToken(mx,1);else{let e=!1,t=0;for(;;t++){if(n.next>=$x&&n.next<=kx)e=!0;else{if(n.next>=wx&&n.next<=Qx)return;if(n.next!=Xx&&!(n.next>=vl&&n.next<=vl+9))break}n.advance()}e&&t>1&&n.acceptToken(vx)}},{extend:!0}),Rx=Qu({"typedef struct union enum class typename decltype auto template operator friend noexcept namespace using requires concept import export module __attribute__ __declspec __based":Q.definitionKeyword,"extern MsCallModifier MsPointerModifier extern static register thread_local inline const volatile restrict _Atomic mutable constexpr constinit consteval virtual explicit VirtualSpecifier Access":Q.modifier,"if else switch for while do case default return break continue goto throw try catch":Q.controlKeyword,"co_return co_yield co_await":Q.controlKeyword,"new sizeof delete static_assert":Q.operatorKeyword,"NULL nullptr":Q.null,this:Q.self,"True False":Q.bool,"TypeSize PrimitiveType":Q.standard(Q.typeName),TypeIdentifier:Q.typeName,FieldIdentifier:Q.propertyName,"CallExpression/FieldExpression/FieldIdentifier":Q.function(Q.propertyName),"ModuleName/Identifier":Q.namespace,PartitionName:Q.labelName,StatementIdentifier:Q.labelName,"Identifier DestructorName":Q.variableName,"CallExpression/Identifier":Q.function(Q.variableName),"CallExpression/ScopedIdentifier/Identifier":Q.function(Q.variableName),"FunctionDeclarator/Identifier FunctionDeclarator/DestructorName":Q.function(Q.definition(Q.variableName)),NamespaceIdentifier:Q.namespace,OperatorName:Q.operator,ArithOp:Q.arithmeticOperator,LogicOp:Q.logicOperator,BitOp:Q.bitwiseOperator,CompareOp:Q.compareOperator,AssignOp:Q.definitionOperator,UpdateOp:Q.updateOperator,LineComment:Q.lineComment,BlockComment:Q.blockComment,Number:Q.number,String:Q.string,"RawString SystemLibString":Q.special(Q.string),CharLiteral:Q.character,EscapeSequence:Q.escape,"UserDefinedLiteral/Identifier":Q.literal,PreProcArg:Q.meta,"PreprocDirectiveName #include #ifdef #ifndef #if #define #else #endif #elif":Q.processingInstruction,MacroName:Q.special(Q.name),"( )":Q.paren,"[ ]":Q.squareBracket,"{ }":Q.brace,"< >":Q.angleBracket,". ->":Q.derefOperator,", ;":Q.separator}),Wx={__proto__:null,bool:34,char:34,int:34,float:34,double:34,void:34,size_t:34,ssize_t:34,intptr_t:34,uintptr_t:34,charptr_t:34,int8_t:34,int16_t:34,int32_t:34,int64_t:34,uint8_t:34,uint16_t:34,uint32_t:34,uint64_t:34,char8_t:34,char16_t:34,char32_t:34,char64_t:34,const:68,volatile:70,restrict:72,_Atomic:74,mutable:76,constexpr:78,constinit:80,consteval:82,struct:86,__declspec:90,final:148,override:148,public:152,private:152,protected:152,virtual:154,extern:160,static:162,register:164,inline:166,thread_local:168,__attribute__:172,__based:178,__restrict:180,__uptr:180,__sptr:180,_unaligned:180,__unaligned:180,noexcept:194,requires:198,TRUE:784,true:784,FALSE:786,false:786,typename:218,class:220,template:234,throw:248,__cdecl:256,__clrcall:256,__stdcall:256,__fastcall:256,__thiscall:256,__vectorcall:256,try:260,catch:264,export:282,import:286,case:296,default:298,if:308,else:314,switch:318,do:322,while:324,for:330,return:334,break:338,continue:342,goto:346,co_return:350,co_yield:354,using:362,typedef:366,namespace:380,new:398,delete:400,co_await:402,concept:406,enum:410,static_assert:414,friend:422,union:424,explicit:430,operator:444,module:456,signed:518,unsigned:518,long:518,short:518,decltype:528,auto:530,sizeof:566,NULL:572,nullptr:586,this:588},Yx={__proto__:null,"<":131},Ax={__proto__:null,">":135},Vx={__proto__:null,operator:388,new:576,delete:582},Mx=xs.deserialize({version:14,states:"$:|Q!QQVOOP'gOUOOO(XOWO'#CdO,RQUO'#CgO,]QUO'#FjO-sQbO'#CwO.UQUO'#CwO0TQUO'#KZO0[QUO'#CvO0gOpO'#DvO0oQ!dO'#D]OOQR'#JO'#JOO5XQVO'#GUO5fQUO'#JVOOQQ'#JV'#JVO8zQUO'#KmO<eQUO'#KmO>{QVO'#E^O?]QUO'#E^OOQQ'#Ed'#EdOOQQ'#Ee'#EeO?bQVO'#EfO@XQVO'#EiOBUQUO'#FPOBvQUO'#FhOOQR'#Fj'#FjOB{QUO'#FjOOQR'#LQ'#LQOOQR'#LP'#LPOETQVO'#KQOFxQUO'#LVOGVQUO'#KqOGkQUO'#LVOH]QUO'#LXOOQR'#HU'#HUOOQR'#HV'#HVOOQR'#HW'#HWOOQR'#K|'#K|OOQR'#J_'#J_Q!QQVOOOHkQVO'#FOOIWQUO'#EhOI_QUOOOKZQVO'#HgOKkQUO'#HgONVQUO'#KqONaQUO'#KqOOQQ'#Kq'#KqO!!_QUO'#KqOOQQ'#Jq'#JqO!!lQUO'#HxOOQQ'#KZ'#KZO!&^QUO'#KZO!&zQUO'#KQO!(zQVO'#I]O!(zQVO'#I`OCQQUO'#KQOOQQ'#Ip'#IpOOQQ'#KQ'#KQO!,}QUO'#KZOOQR'#KY'#KYO!-UQUO'#DYO!/mQUO'#KnOOQQ'#Kn'#KnO!/tQUO'#KnO!/{QUO'#ETO!0QQUO'#EWO!0VQUO'#FRO8zQUO'#FPO!QQVO'#F^O!0[Q#vO'#F`O!0gQUO'#FkO!0oQUO'#FpO!0tQVO'#FrO!0oQUO'#FuO!3sQUO'#FvO!3xQVO'#FxO!4SQUO'#FzO!4XQUO'#F|O!4^QUO'#GOO!4cQVO'#GQO!(zQVO'#GSO!4jQUO'#GpO!4xQUO'#GYO!(zQVO'#FeO!6VQUO'#FeO!6[QVO'#G`O!6cQUO'#GaO!6nQUO'#GnO!6sQUO'#GrO!6xQUO'#GzO!7jQ&lO'#HiO!:mQUO'#GuO!:}QUO'#HXO!;YQUO'#HZO!;bQUO'#DWO!;bQUO'#HuO!;bQUO'#HvO!;yQUO'#HwO!<[QUO'#H|O!=PQUO'#H}O!>uQVO'#IbO!(zQVO'#IdO!?PQUO'#IgO!?WQVO'#IjP!@}{,UO'#CbP!6n{,UO'#CbP!AY{7[O'#CbP!6n{,UO'#CbP!A_{,UO'#CbP!AjOSO'#IzPOOO)CEn)CEnOOOO'#I|'#I|O!AtOWO,59OOOQR,59O,59OO!(zQVO,59UOOQQ,59W,59WO!(zQVO,5;ROOQR,5<U,5<UO!BPQUO,59YO!(zQVO,5>qOOQR'#IX'#IXOOQR'#IY'#IYOOQR'#IZ'#IZOOQR'#I['#I[O!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!DOQVO,5>zOOQQ,5?W,5?WO!EqQVO'#ChO!IjQUO'#CyOOQQ,59c,59cOOQQ,59b,59bOOQQ,5<},5<}O!IwQ&lO,5=mO!?PQUO,5?RO!LkQVO,5?UO!LrQbO,59cO!L}QVO'#FYOOQQ,5?P,5?PO!M_QVO,59VO!MfO`O,5:bO!MkQbO'#D^O!M|QbO'#K^O!N[QbO,59wO!NdQbO'#CwO!NuQUO'#CwO!NzQUO'#KZO# UQUO'#CvOOQR-E<|-E<|O# aQUO,5AoO# hQVO'#EfO@XQVO'#EiOBUQUO,5;kOOQR,5<p,5<pO#$aQUO'#KQO#$hQUO'#KQO!(zQVO'#IUO8zQUO,5;kO#${Q&lO'#HiO#(SQUO'#CsO#*wQbO'#CwO#*|QUO'#CvO#.jQUO'#KZOOQQ-E=T-E=TO#0}QUO,5AXO#1XQUO'#KZO#1cQUO,5AXOOQR,5Ao,5AoOOQQ,5>l,5>lO#3gQUO'#CgO#4]QUO,5>pO#6OQUO'#IeOOQR'#I}'#I}O#6WQUO,5:xO#6tQUO,5:xO#7eQUO,5:xO#8YQUO'#CtO!0QQUO'#ClOOQQ'#JW'#JWO#6tQUO,5:xO#8bQUO,5;QO!4xQUO'#C}O#9kQUO,5;QO#9pQUO,5>QO#:|QUO'#C}O#;dQUO,5>{O#;iQUO'#KwO#<rQUO,5;TO#<zQVO,5;TO#=UQUO,5;TOOQQ,5;T,5;TO#>}QUO'#L[O#?UQUO,5>UO#?ZQbO'#CwO#?fQUO'#GcO#?kQUO'#E^O#@[QUO,5;kO#@sQUO'#K}O#@{QUO,5;rOKkQUO'#HfOBUQUO'#HgO#AQQUO'#KqO!6nQUO'#HjO#AxQUO'#CtO!0tQVO,5<SOOQQ'#Cg'#CgOOQR'#Jh'#JhO#A}QVO,5=`OOQQ,5?Z,5?ZO#DWQbO'#CwO#DcQUO'#GcOOQQ'#Ji'#JiOOQQ-E=g-E=gOGVQUO,5AqOGkQUO,5AqO#DhQUO,5AsO#DsQUO'#G|OOQR,5Aq,5AqO#DhQUO,5AqO#EOQUO'#HOO#EWQUO,5AsOOQR,5As,5AsOOQR,5At,5AtO#EfQVO,5AtOOQR-E=]-E=]O#G`QVO,5;jOOQR,5;j,5;jO#IaQUO'#EjO#JfQUO'#EwO#K]QVO'#ExO#MoQUO'#EvO#MwQUO'#EyO#NvQUO'#EzOOQQ'#Kz'#KzO$ mQUO,5;SO$!sQUO'#EvOOQQ,5;S,5;SO$#pQUO,5;SO$%cQUO,5:yO$'|QVO,5>PO$(WQUO'#E[O$(eQUO,5>ROOQQ,5>S,5>SO$,RQVO'#C{OOQQ-E=o-E=oOOQQ,5>d,5>dOOQQ,59`,59`O$,]QUO,5>wO$.]QUO,5>zO!6nQUO,59tO$.pQUO,5;qO$.}QUO,5<{O!0QQUO,5:oOOQQ,5:r,5:rO$/YQUO,5;mO$/_QUO'#KmOBUQUO,5;kOOQR,5;x,5;xO$0OQUO'#FbO$0^QUO'#FbO$0cQUO,5;zO$3|QVO'#FmO!0tQVO,5<VO!0oQUO,5<VO!0VQUO,5<[O$4TQVO'#GUO$7PQUO,5<^O!0tQVO,5<aO$:gQVO,5<bO$:tQUO,5<dOOQR,5<d,5<dO$;}QUO,5<dOOQR,5<f,5<fOOQR,5<h,5<hOOQQ'#Fi'#FiO$<SQUO,5<jO$<XQUO,5<lOOQR,5<l,5<lO$=_QUO,5<nO$>eQUO,5<rO$>pQUO,5=[O$>uQUO,5=[O!4xQUO,5<tO$>}QUO,5<tO$?cQUO,5<PO$@iQVO,5<PO$BzQUO,5<zOOQR,5<z,5<zOOQR,5<{,5<{O$>uQUO,5<{O$DQQUO,5<{O$D]QUO,5=YO!(zQVO,5=^O!(zQVO,5=fO#NeQUO,5=mOOQQ,5>T,5>TO$FbQUO,5>TO$FlQUO,5>TO$FqQUO,5>TO$FvQUO,5>TO!6nQUO,5>TO$HtQUO'#KZO$H{QUO,5=oO$IWQUO,5=aOKkQUO,5=oO$JQQUO,5=sOOQR,5=s,5=sO$JYQUO,5=sO$LeQVO'#H[OOQQ,5=u,5=uO!;]QUO,5=uO%#`QUO'#KjO%#gQUO'#K[O%#{QUO'#KjO%$VQUO'#DyO%$hQUO'#D|O%'eQUO'#K[OOQQ'#K['#K[O%)WQUO'#K[O%#gQUO'#K[O%)]QUO'#K[OOQQ,59r,59rOOQQ,5>a,5>aOOQQ,5>b,5>bO%)eQUO'#HzO%)mQUO,5>cOOQQ,5>c,5>cO%-XQUO,5>cO%-dQUO,5>hO%1OQVO,5>iO%1VQUO,5>|O# hQVO'#EfO%4]QUO,5>|OOQQ,5>|,5>|O%4|QUO,5?OO%7QQUO,5?RO!<[QUO,5?RO%8|QUO,5?UO%<iQVO,5?UP!A_{,UO,58|P%<p{,UO,58|P%=O{7[O,58|P%=U{,UO,58|PO{O'#Ju'#JuP%=Z{,UO'#LcPOOO'#Lc'#LcP%=a{,UO'#LcPOOO,58|,58|POOO,5?f,5?fP%=fOSO,5?fOOOO-E<z-E<zOOQR1G.j1G.jO%=mQUO1G.pO%>sQUO1G0mOOQQ1G0m1G0mO%@PQUO'#CoO%B`QbO'#CwO%BkQUO'#CrO%BpQUO'#CrO%BuQUO1G.tO#AxQUO'#CqOOQQ1G.t1G.tO%DxQUO1G4]O%FOQUO1G4^O%GqQUO1G4^O%IdQUO1G4^O%KVQUO1G4^O%LxQUO1G4^O%NkQUO1G4^O&!^QUO1G4^O&$PQUO1G4^O&%rQUO1G4^O&'eQUO1G4^O&)WQUO1G4^O&*yQUO'#KPO&,SQUO'#KPO&,[QUO,59SOOQQ,5=P,5=PO&.dQUO,5=PO&.nQUO,5=PO&.sQUO,5=PO&.xQUO,5=PO!6nQUO,5=PO#NeQUO1G3XO&/SQUO1G4mO!<[QUO1G4mO&1OQUO1G4pO&2qQVO1G4pOOQQ1G.}1G.}OOQQ1G.|1G.|OOQQ1G2i1G2iO!IwQ&lO1G3XO&2xQUO'#LOO@XQVO'#EiO&4RQUO'#F]OOQQ'#Ja'#JaO&4WQUO'#FZO&4cQUO'#LOO&4kQUO,5;tO&4pQUO1G.qOOQQ1G.q1G.qOOQR1G/|1G/|O&6cQ!dO'#JPO&6hQbO,59xO&8yQ!eO'#D`O&9QQ!dO'#JRO&9VQbO,5@xO&9VQbO,5@xOOQR1G/c1G/cO&9bQbO1G/cO&9gQ&lO'#GeO&:eQbO,59cOOQR1G7Z1G7ZO#@[QUO1G1VO&:pQUO1G1^OBUQUO1G1VO&=RQUO'#CyO#*wQbO,59cO&@tQUO1G6sOOQR-E<{-E<{O&BWQUO1G0dO#6WQUO1G0dOOQQ-E=U-E=UO#6tQUO1G0dOOQQ1G0l1G0lO&B{QUO,59iOOQQ1G3l1G3lO&CcQUO,59iO&CyQUO,59iO!M_QVO1G4gO!(zQVO'#JYO&DeQUO,5AcOOQQ1G0o1G0oO!(zQVO1G0oO!6nQUO'#JnO&DmQUO,5AvOOQQ1G3p1G3pOOQR1G1V1G1VO&HjQVO'#FOO!M_QVO,5;sOOQQ,5;s,5;sOBUQUO'#JcO&JfQUO,5AiO&JnQVO'#E[OOQR1G1^1G1^O&M]QUO'#L[OOQR1G1n1G1nOOQR-E=f-E=fOOQR1G7]1G7]O#DhQUO1G7]OGVQUO1G7]O#DhQUO1G7_OOQR1G7_1G7_O&MeQUO'#G}O&MmQUO'#LWOOQQ,5=h,5=hO&M{QUO,5=jO&NQQUO,5=kOOQR1G7`1G7`O#EfQVO1G7`O&NVQUO1G7`O' ]QVO,5=kOOQR1G1U1G1UO$.vQUO'#E]O'!RQUO'#E]OOQQ'#Ky'#KyO'!lQUO'#KxO'!wQUO,5;UO'#PQUO'#ElO'#dQUO'#ElO'#wQUO'#EtOOQQ'#J['#J[O'#|QUO,5;cO'$sQUO,5;cO'%nQUO,5;dO'&tQVO,5;dOOQQ,5;d,5;dO''OQVO,5;dO'&tQVO,5;dO''VQUO,5;bO'(SQUO,5;eO'(_QUO'#KpO'(gQUO,5:vO'(lQUO,5;fOOQQ1G0n1G0nOOQQ'#J]'#J]O''VQUO,5;bO!4xQUO'#E}OOQQ,5;b,5;bO')gQUO'#E`O'+aQUO'#E{OHrQUO1G0nO'+fQUO'#EbOOQQ'#JX'#JXO'-OQUO'#KrOOQQ'#Kr'#KrO'-xQUO1G0eO'.pQUO1G3kO'/vQVO1G3kOOQQ1G3k1G3kO'0QQVO1G3kO'0XQUO'#L_O'1eQUO'#KXO'1sQUO'#KWO'2OQUO,59gO'2WQUO1G/`O'2]QUO'#FPOOQR1G1]1G1]OOQR1G2g1G2gO$>uQUO1G2gO'2gQUO1G2gO'2rQUO1G0ZOOQR'#J`'#J`O'2wQVO1G1XO'8pQUO'#FTO'8uQUO1G1VO!6nQUO'#JdO'9TQUO,5;|O$0^QUO,5;|OOQQ'#Fc'#FcOOQQ,5;|,5;|O'9cQUO1G1fOOQR1G1f1G1fO'9kQUO,5<XO$.vQUO'#FWOBUQUO'#FWO'9rQUO,5<XO!(zQVO,5<XO'9zQUO,5<XO':PQVO1G1qO!0tQVO1G1qOOQR1G1v1G1vO'?oQUO1G1xOOQR1G1{1G1{O'?tQUO1G1|OBUQUO1G2]O'@}QVO1G1|O'CcQUO1G1|O'ChQUO'#GWO8zQUO1G2]OOQR1G2O1G2OOOQR1G2U1G2UOOQR1G2W1G2WOOQR1G2Y1G2YO'CmQUO1G2^O!4xQUO1G2^OOQR1G2v1G2vO'CuQUO1G2vO$>}QUO1G2`OOQQ'#Cu'#CuO'CzQUO'#G[O'DuQUO'#G[O'DzQUO'#LRO'EYQUO'#G_OOQQ'#LS'#LSO'EhQUO1G2`O'EmQVO1G1kO'HOQVO'#GUOBUQUO'#FWOOQR'#Je'#JeO'EmQVO1G1kO'HYQUO'#FvOOQR1G2f1G2fO'H_QUO1G2gO'HdQUO'#JgO'2gQUO1G2gO!(zQVO1G2tO'HlQUO1G2xO'IuQUO1G3QO'J{QUO1G3XOOQQ1G3o1G3oO'KaQUO1G3oOOQR1G3Z1G3ZO'KfQUO'#KZO'2]QUO'#LTOGkQUO'#LVOOQR'#Gy'#GyO#DhQUO'#LXOOQR'#HQ'#HQO'KpQUO'#GvO'#wQUO'#GuOOQR1G2{1G2{O'LmQUO1G2{O'MdQUO1G3ZO'MoQUO1G3_O'MtQUO1G3_OOQR1G3_1G3_O'M|QUO'#H]OOQR'#H]'#H]O( VQUO'#H]O!(zQVO'#H`O!(zQVO'#H_OOQR'#LZ'#LZO( [QUO'#LZOOQR'#Jk'#JkO( aQVO,5=vOOQQ,5=v,5=vO( hQUO'#H^O( pQUO'#HZOOQQ1G3a1G3aO( zQUO,5@vOOQQ,5@v,5@vO%)WQUO,5@vO%)]QUO,5@vO%$VQUO,5:eO(%iQUO'#KkO(%wQUO'#KkOOQQ,5:e,5:eOOQQ'#JS'#JSO(&SQUO'#D}O(&^QUO'#KqOGkQUO'#LVO('YQUO'#D}OOQQ'#Hp'#HpOOQQ'#Hr'#HrOOQQ'#Hs'#HsOOQQ'#Kl'#KlOOQQ'#JU'#JUO('dQUO,5:hOOQQ,5:h,5:hO((aQUO'#LVO((nQUO'#HtO()UQUO,5@vO()]QUO'#H{O()hQUO'#L^O()pQUO,5>fO()uQUO'#L]OOQQ1G3}1G3}O(-lQUO1G3}O(-sQUO1G3}O(-zQUO1G4TO(/QQUO1G4TO(/VQUO,5A|O!6nQUO1G4hO!(zQVO'#IiOOQQ1G4m1G4mO(/[QUO1G4mO(1_QVO1G4pPOOO1G.h1G.hP!A_{,UO1G.hP(3_QUO'#LeP(3j{,UO1G.hP(3o{7[O1G.hPO{O-E=s-E=sPOOO,5A},5A}P(3w{,UO,5A}POOO1G5Q1G5QO!(zQVO7+$[O(3|QUO'#CyOOQQ,59^,59^O(4XQbO,59cO(4dQbO,59^OOQQ,59],59]OOQQ7+)w7+)wO!M_QVO'#JtO(4oQUO,5@kOOQQ1G.n1G.nOOQQ1G2k1G2kO(4wQUO1G2kO(4|QUO7+(sOOQQ7+*X7+*XO(7bQUO7+*XO(7iQUO7+*XO(1_QVO7+*[O#NeQUO7+(sO(7vQVO'#JbO(8ZQUO,5AjO(8cQUO,5;vOOQQ'#Co'#CoOOQQ,5;w,5;wO!(zQVO'#F[OOQQ-E=_-E=_O!M_QVO,5;uOOQQ1G1`1G1`OOQQ,5?k,5?kOOQQ-E<}-E<}OOQR'#Dg'#DgOOQR'#Di'#DiOOQR'#Dl'#DlO(9lQ!eO'#K_O(9sQMkO'#K_O(9zQ!eO'#K_OOQR'#K_'#K_OOQR'#JQ'#JQO(:RQ!eO,59zOOQQ,59z,59zO(:YQbO,5?mOOQQ-E=P-E=PO(:hQbO1G6dOOQR7+$}7+$}OOQR7+&q7+&qOOQR7+&x7+&xO'8uQUO7+&qO(:sQUO7+&OO#6WQUO7+&OO(;hQUO1G/TO(<OQUO1G/TO(<jQUO7+*ROOQQ7+*V7+*VO(>]QUO,5?tOOQQ-E=W-E=WO(?fQUO7+&ZOOQQ,5@Y,5@YOOQQ-E=l-E=lO(?kQUO'#LOO@XQVO'#EiO(@wQUO1G1_OOQQ1G1_1G1_O(BQQUO,5?}OOQQ,5?},5?}OOQQ-E=a-E=aO(BfQUO'#KpOOQR7+,w7+,wO#DhQUO7+,wOOQR7+,y7+,yO(BsQUO,5=iO#DsQUO'#JjO(CUQUO,5ArOOQR1G3U1G3UOOQR1G3V1G3VO(CdQUO7+,zOOQR7+,z7+,zO(E[QUO,5:wO(FyQUO'#EwO!(zQVO,5;VO(GlQUO,5:wO(GvQUO'#EpO(HXQUO'#EzOOQQ,5;Z,5;ZO#K]QVO'#ExO(HoQUO,5:wO(HvQUO'#EyO#GgQUO'#JZO(J`QUO,5AdOOQQ1G0p1G0pO(JkQUO,5;WO!<[QUO,5;^O(KUQUO,5;_O(KdQUO,5;WO(MvQUO,5;`OOQQ-E=Y-E=YO(NOQUO1G0}OOQQ1G1O1G1OO(NyQUO1G1OO)!PQVO1G1OO)!WQVO1G1OO)!bQUO1G0|OOQQ1G0|1G0|OOQQ1G1P1G1PO)#_QUO'#JoO)#iQUO,5A[OOQQ1G0b1G0bOOQQ-E=Z-E=ZO)#qQUO,5;iO!<[QUO,5;iO)$nQVO,5:zO)$uQUO,5;gO$ mQUO7+&YOOQQ7+&Y7+&YO!(zQVO'#EfO)$|QUO,5:|OOQQ'#Ks'#KsOOQQ-E=V-E=VOOQQ,5A^,5A^OOQQ'#Jl'#JlO)(qQUO7+&PPOQQ7+&P7+&POOQQ7+)V7+)VO))iQUO7+)VO)*oQVO7+)VOOQQ,5>m,5>mO$)YQVO'#JsO)*vQUO,5@rOOQQ1G/R1G/ROOQQ7+$z7+$zO)+RQUO7+(RO)+WQUO7+(ROOQR7+(R7+(RO$>uQUO7+(ROOQQ7+%u7+%uOOQR-E=^-E=^O!0VQUO,5;oOOQQ,5@O,5@OOOQQ-E=b-E=bO$0^QUO1G1hOOQQ1G1h1G1hOOQR7+'Q7+'QOOQR1G1s1G1sOBUQUO,5;rO)+tQUO,5<YO)+{QUO1G1sO)-UQUO1G1sO!0tQVO7+']O)-ZQVO7+']O)2yQUO7+'dO)3OQVO7+'hO)5dQUO7+'wO)5nQUO7+'hO)6tQVO7+'hOKkQUO7+'wO$>hQUO,5<rO!4xQUO7+'xO)6{QUO7+'xOOQR7+(b7+(bO)7QQUO7+'zO)7VQUO,5<vO'CzQUO,5<vO)7}QUO,5<vO'CzQUO,5<vOOQQ,5<w,5<wO)8`QVO,5<xO'EYQUO'#JfO)8jQUO,5AmO)8rQUO,5<yOOQR7+'z7+'zO)8}QVO7+'VO)5gQUO'#K}OOQR-E=c-E=cO);`QVO,5<bOOQQ,5@R,5@RO!6nQUO,5@ROOQQ-E=e-E=eO)=wQUO7+(`O)>}QUO7+(dO)?SQVO7+(dOOQQ7+(l7+(lOOQQ7+)Z7+)ZO)?[QUO'#KjO)?fQUO'#KjOOQR,5=b,5=bO)?sQUO,5=bO!;bQUO,5=bO!;bQUO,5=bO!;bQUO,5=bOOQR7+(g7+(gOOQR7+(u7+(uOOQR7+(y7+(yOOQR,5=w,5=wO)?xQUO,5=zO)AOQUO,5=yOOQR,5Au,5AuOOQR-E=i-E=iOOQQ1G3b1G3bO)BUQUO,5=xO)BZQVO'#EfOOQQ1G6b1G6bO%)WQUO1G6bO%)]QUO1G6bOOQQ1G0P1G0POOQQ-E=Q-E=QO)DrQUO,5AVO(%iQUO'#JTO)D}QUO,5AVO)D}QUO,5AVO)EVQUO,5:iO8zQUO,5:iOOQQ,5>],5>]O)EaQUO,5AqO)EhQUO'#EVO)FrQUO'#EVO)G]QUO,5:iO)GgQUO'#HlO)GgQUO'#HmOOQQ'#Ko'#KoO)HUQUO'#KoO!(zQVO'#HnOOQQ,5:i,5:iO)HvQUO,5:iO!M_QVO,5:iOOQQ-E=S-E=SOOQQ1G0S1G0SOOQQ,5>`,5>`O)H{QUO1G6bO!(zQVO,5>gO)LjQUO'#JrO)LuQUO,5AxOOQQ1G4Q1G4QO)L}QUO,5AwOOQQ,5Aw,5AwOOQQ7+)i7+)iO*!lQUO7+)iOOQQ7+)o7+)oO*'kQVO1G7hO*)mQUO7+*SO*)rQUO,5?TO**xQUO7+*[POOO7+$S7+$SP*,kQUO'#LfP*,sQUO,5BPP*,x{,UO7+$SPOOO1G7i1G7iO*,}QUO<<GvOOQQ1G.x1G.xOOQQ'#IT'#ITO*.pQUO,5@`OOQQ,5@`,5@`OOQQ-E=r-E=rOOQQ7+(V7+(VOOQQ<<Ms<<MsO*/yQUO<<MsO*1|QUO<<MvO*3oQUO<<L_O*4TQUO,5?|OOQQ,5?|,5?|OOQQ-E=`-E=`OOQQ1G1b1G1bO*5^QUO,5;vO*6dQUO1G1aOOQQ1G1a1G1aOOQR,5@y,5@yO*7mQ!eO,5@yO*7tQMkO,5@yO*7{Q!eO,5@yOOQR-E=O-E=OOOQQ1G/f1G/fO*8SQ!eO'#DwOOQQ1G5X1G5XOOQR<<J]<<J]O*8ZQUO<<IjO*9OQUO7+$oOOQQ<<Iu<<IuO(7vQVO,5;ROOQR<=!c<=!cOOQQ1G3T1G3TOOQQ,5@U,5@UOOQQ-E=h-E=hOOQR<=!f<=!fO*9{QUO1G0cO*:SQUO'#EzO*:dQUO1G0cO*:kQUO'#I}O*<RQUO1G0qO!(zQVO1G0qOOQQ,5;[,5;[OOQQ,5;],5;]OOQQ,5?u,5?uOOQQ-E=X-E=XO!<[QUO1G0xO*=bQUO1G0xOOQQ1G0y1G0yO*=sQUO'#ElOOQQ1G0z1G0zOOQQ7+&j7+&jO*>XQUO7+&jO*?_QVO7+&jOOQQ7+&h7+&hOOQQ,5@Z,5@ZOOQQ-E=m-E=mO*@ZQUO1G1TO*@eQUO1G1TO*AOQUO1G0fOOQQ1G0f1G0fO*BUQUO'#K{O*B^QUO1G1ROOQQ<<It<<ItOOQQ'#Hb'#HbO'+fQUO,5={OOQQ'#Hd'#HdO'+fQUO,5=}OOQQ-E=j-E=jPOQQ<<Ik<<IkPOQQ-E=k-E=kOOQQ<<Lq<<LqO*BcQUO'#LaO*CoQUO'#L`OOQQ,5@_,5@_OOQQ-E=q-E=qOOQR<<Km<<KmO$>uQUO<<KmO*C}QUO<<KmOOQR1G1Z1G1ZOOQQ7+'S7+'SO!M_QVO1G1tO*DSQUO1G1tOOQR7+'_7+'_OOQR<<Jw<<JwO!0tQVO<<JwOOQR<<KO<<KOO*D_QUO<<KSO*EeQVO<<KSOKkQUO<<KcO!M_QVO<<KcO*ElQUO<<KSO!0tQVO<<KSO*FuQUO<<KSO*FzQUO<<KcO*GVQUO<<KdOOQR<<Kd<<KdOOQR<<Kf<<KfO*G[QUO1G2bO)7VQUO1G2bO'CzQUO1G2bO*GmQUO1G2dO*HsQVO1G2dOOQQ1G2d1G2dO*H}QVO1G2dO*IUQUO,5@QOOQQ-E=d-E=dOOQQ1G2e1G2eO*IdQUO1G1|O*JmQVO1G1|O*JtQUO1G1|OOQQ1G5m1G5mOOQR<<Kz<<KzOOQR<<LO<<LOO*JyQVO<<LOO*KUQUO<<LOOOQR1G2|1G2|O*KZQUO1G2|O*KbQUO1G3eOOQR1G3d1G3dOOQQ7++|7++|O%)WQUO7++|O*KmQUO1G6qO*KmQUO1G6qO(%iQUO,5?oO*KuQUO,5?oOOQQ-E=R-E=RO*LQQUO1G0TOOQQ1G0T1G0TO*L[QUO1G0TO!M_QVO1G0TO*LaQUO1G0TOOQQ1G3w1G3wO*LkQUO,5:qO)EhQUO,5:qO*MXQUO,5:qO)EhQUO,5:qO$#uQUO,5:uO*MvQVO,5>VO)GgQUO'#JpO*NQQUO1G0TO*NcQVO1G0TOOQQ1G3u1G3uO*NjQUO,5>WO*NuQUO,5>XO+ dQUO,5>YO+!jQUO1G0TO%)]QUO7++|O+#pQUO1G4ROOQQ,5@^,5@^OOQQ-E=p-E=pOOQQ<<MT<<MTOOQQ<<Mn<<MnO+$yQUO1G4oP+&|QUO'#JvP+'UQUO,5BQPO{O1G7k1G7kPOOO<<Gn<<GnOOQQANC_ANC_OOQR1G6e1G6eO+'^Q!eO,5:cOOQQ,5:c,5:cO+'eQUO1G0mO+(qQUO7+&]O+*QQUO7+&dO+*cQUO,5;WOOQQ<<JU<<JUO+*qQUO7+&oOOQQ7+&Q7+&QO!4xQUO'#J^O++lQUO,5AgOOQQ7+&m7+&mOOQQ1G3g1G3gO++tQUO1G3iOOQQ,5>n,5>nO+/iQUOANAXOOQRANAXANAXO+/nQUO7+'`OOQRAN@cAN@cO+0zQVOAN@nO+1RQUOAN@nO!0tQVOAN@nO+2[QUOAN@nO+2aQUOAN@}O+2lQUOAN@}O+3rQUOAN@}OOQRAN@nAN@nO!M_QVOAN@}OOQRANAOANAOO+3wQUO7+'|O)7VQUO7+'|OOQQ7+(O7+(OO+4YQUO7+(OO+5`QVO7+(OO+5gQVO7+'hO+5nQUOANAjOOQR7+(h7+(hOOQR7+)P7+)PO+5sQUO7+)PO+5xQUO7+)POOQQ<= h<= hO+6QQUO7+,]O+6YQUO1G5ZOOQQ1G5Z1G5ZO+6eQUO7+%oOOQQ7+%o7+%oO+6vQUO7+%oO*NcQVO7+%oOOQQ7+)a7+)aO+6{QUO7+%oO+8RQUO7+%oO!M_QVO7+%oO+8]QUO1G0]O*LkQUO1G0]O)EhQUO1G0]OOQQ1G0a1G0aO+8zQUO1G3qO+:QQVO1G3qOOQQ1G3q1G3qO+:[QVO1G3qO+:cQUO,5@[OOQQ-E=n-E=nOOQQ1G3r1G3rO%)WQUO<= hOOQQ7+*Z7+*ZPOQQ,5@b,5@bPOQQ-E=t-E=tOOQQ1G/}1G/}OOQQ,5?x,5?xOOQQ-E=[-E=[OOQRG26sG26sO+:zQUOG26YO!0tQVOG26YO+<TQUOG26YOOQRG26YG26YO!M_QVOG26iO!0tQVOG26iO+<YQUOG26iO+=`QUOG26iO+=eQUO<<KhOOQQ<<Kj<<KjOOQRG27UG27UOOQR<<Lk<<LkO+=vQUO<<LkOOQQ7+*u7+*uOOQQ<<IZ<<IZO+={QUO<<IZO!M_QVO<<IZO+>QQUO<<IZO+?WQUO<<IZO*NcQVO<<IZOOQQ<<L{<<L{O+?iQUO7+%wO*LkQUO7+%wOOQQ7+)]7+)]O+@WQUO7+)]O+A^QVO7+)]OOQQANESANESO!0tQVOLD+tOOQRLD+tLD+tO+AeQUOLD,TO+BkQUOLD,TOOQRLD,TLD,TO!0tQVOLD,TOOQRANBVANBVOOQQAN>uAN>uO+BpQUOAN>uO+CvQUOAN>uO!M_QVOAN>uO+C{QUO<<IcOOQQ<<Lw<<LwOOQR!$( `!$( `O!0tQVO!$( oOOQR!$( o!$( oOOQQG24aG24aO+DjQUOG24aO+EpQUOG24aOOQR!)9EZ!)9EZOOQQLD){LD){O+EuQUO'#CgO(dQUO'#CgO+IrQUO'#CyO+LcQUO'#CyO!E{QUO'#CyO+M[QUO'#CyO+MoQUO'#CyO,#bQUO'#CyO,#rQUO'#CyO,$PQUO'#CyO,$[QbO,59cO,$gQbO,59cO,$rQbO,59cO,$}QbO'#CwO,%`QbO'#CwO,%qQbO'#CwO,&SQUO'#CgO,(gQUO'#CgO,(tQUO'#CgO,+iQUO'#CgO,.lQUO'#CgO,.|QUO'#CgO,2uQUO'#CgO,2|QUO'#CgO,3|QUO'#CgO,6VQUO,5:xO#?kQUO,5:xO#?kQUO,5:xO#=ZQUO'#L[O,6sQbO'#CwO,7OQbO'#CwO,7ZQbO'#CwO,7fQbO'#CwO#6tQUO'#E^O,7qQUO'#E^O,9OQUO'#HgO,9pQbO'#CwO,9{QbO'#CwO,:WQUO'#CvO,:]QUO'#CvO,:bQUO'#CoO,:pQbO,59cO,:{QbO,59cO,;WQbO,59cO,;cQbO,59cO,;nQbO,59cO,;yQbO,59cO,<UQbO,59cO,6VQUO1G0dO,<aQUO1G0dO#?kQUO1G0dO,7qQUO1G0dO,>nQUO'#KZO,?OQUO'#CyO,?^QbO,59cO,6VQUO7+&OO,<aQUO7+&OO,?iQUO'#EwO,@[QUO'#EzO,@{QUO'#E^O,AQQUO'#GcO,AVQUO'#CvO,A[QUO'#CwO,AaQUO'#CwO,AfQUO'#CvO,AkQUO'#GcO,ApQUO'#KZO,B^QUO'#KZO,BhQUO'#CvO,BsQUO'#CvO,COQUO'#CvO,<aQUO,5:xO,7qQUO,5:xO,7qQUO,5:xO,CZQUO'#KZO,CnQbO'#CwO,CyQUO'#CrO,DOQUO'#E^",stateData:",Dt~O(nOSSOSTOSRPQVPQ'ePQ'gPQ'hPQ'iPQ'jPQ'kPQ'lPQ'mPQ~O*ZOS~OPmO]eOa!]Od!POlTOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!TxO!VfO!X!XO!Y!WO!i!YO!opO!r!`O!s!aO!t!aO!u!bO!v!aO!x!cO!{!dO#V#QO#a#VO#b#TO#i#OO#p!xO#t!fO#v!eO$R!gO$T!hO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO${!tO$}!uO%U!yO%_#ZO%`#[O%a#YO%c!zO%e#UO%g!{O%l#SO%o!|O%v!}O%|#PO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(rRO)PYO)SaO)U|O)V{O)WiO)X!ZO)YXO)hcO)idO~OR#bOV#]O'e#^O'g#_O'h#`O'i#`O'j#aO'k#aO'l#_O'm#_O~OX#dO(p#dO(q#fO~O]ZX]iXdiXlgXpZXpiXriXsiXtiXuiXviXwiXxiXyiX}iX!TiX!VZX!ViX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX!riX!siX!tiX!uiX!viX!xiX!{iX%viX&riX&siX(riX(uZX(v$]X(wZX(xZX)SZX)SiX)TZX)UZX)UiX)VZX)ViX)WZX)XZX)jZX~O)WiX!UZX~P(dO]#}O!V#lO!X#{O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO(w#kO(x#kO)S#mO)T#oO)U#nO)V#pO)W#jO)X#|O~Od$RO%Y$SO'[$TO'_$UO(y$OO~Ol$VO~O!T$WO](}Xd(}Xr(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}X}(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)S(}X)U(}X)V(}X)W(}X~Ol$VO~P.ZOl$VO!g$YO)j$YO~OX$ZO)Z$ZO~O!R$[O)X)QP)])QP~OPmO]$eOa!]Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!TxO!V$fO!X!XO!Y!WO!i!YO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#V#QO#a#VO#b#TO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO)PYO)S$kO)V$kO)WiO)X!ZO)YXO)hcO)idO~Ol$_O#t$lO(rRO~P0zO](]Xa'yXd(]Xl'yXl(]Xr'yXr(]Xs'yXs(]Xt'yXt(]Xu'yXu(]Xv'yXv(]Xw'yXw(]Xx'yXx(]Xy'yXy(]X{'yX}'yX!V(]X!o(]X!r'yX!r(]X!s'yX!s(]X!t'yX!t(]X!u'yX!u(]X!v'yX!v(]X!x'yX!x(]X!{(]X#a'yX#b'yX%e'yX%l'yX%o(]X%v(]X&m'yX&r'yX&s'yX(r'yX(r(]X)S(]X)U(]X)V(]X~Oa!TOl$oOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O}!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO&r#WO&s$wO])aXd)aXl)aX!V)aX!{)aX%v)aX(r)aX)S)aX)U)aX)V)aX~O)W$vO~P:nOPmO]eOd!POr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!VfO!X!XO!Y!WO!i!YO!{!dO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO)SaO)U|O)V{O)X!ZO)YXO)hcO)idO~Oa%QOl:zO!|%RO(r$xO~P<lO)S%SO~Oa!]Ol$_O{#RO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r:}O~P<lOPmO]$eOa%QOl:zO!V$fO!W%_O!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S$kO)V%]O)X!ZO)YXO)hcO)idO)j%[O~O]%hOd!POl%bO!V%kO!{!dO%v$mO(r;OO)S%dO)U%iO)V%iO~O(v%mO~O)W#jO~O(r%nO](tX!V(tX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)S(tX)T(tX)U(tX)V(tX)W(tX)X(tX!g(tX)j(tX!O(tX!W(tX(v(tX!U(tXQ(tX!d(tX~OP%oO(oQO~PCQO]%hOd!POr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!V%kO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO!{!dO%o!|O%v!}O)S;`O)U|O)V|O~Ol%rO!o%wO(r$xO~PE_O!TxO#v!eO(v%yO)j%|O])eX!V)eX~O]%hOd!POl%rO!V%kO!{!dO%v!}O(r$xO)S;`O)U|O)V|O~O!TxO#v!eO)W&PO)j&QO~O!U&TO~P!QO]&YO!TxO!V&WO)S&VO)U&ZO)V&ZO~Op&UO~PHrO]&cO!V&bO~OPmO]eOd!PO!VfO!X!XO!Y!WO!i!YO!{!dO#V#QO%_#ZO%`#[O%a#YO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO)SaO)U|O)V{O)X!ZO)YXO)hcO)idO~Oa%QOl:zO%v$mO(r$xO~PIgO]%hOd!POl;[O!V%kO!{!dO%v$mO(r$xO)S;`O)U|O)V|O~Op&fO](tX])eX!V(tX!V)eX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)S(tX)T(tX)U(tX)V(tX)W(tX)X(tX!O(tX!O)eX!U(tX~O!g$YO)j$YO~PL]O!g(tX)j(tX~PL]O](tX!V(tX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)S(tX)T(tX)U(tX)V(tX)W(tX)X(tX!g(tX)j(tX!O(tX!U(tX~O])eX!V)eX!O)eX~PNkOa&hO&m!RO]&lXd&lXl&lXr&lXs&lXt&lXu&lXv&lXw&lXx&lXy&lX}&lX!V&lX!r&lX!s&lX!t&lX!u&lX!v&lX!x&lX!{&lX%v&lX&r&lX&s&lX(r&lX)S&lX)U&lX)V&lX)W&lX!O&lX!T&lX!X&lX!Y&lX![&lX!^&lX!_&lX!a&lX!b&lX!c&lX!e&lX!f&lX!h&lX(u&lX(w&lX(x&lX)T&lX)X&lX!g&lX)j&lX!W&lXQ&lX!d&lX(v&lX!U&lX#v&lX~Op&fOl(}X!O(}XQ(}X!d(}X!h(}X)X(}X)j(}X~P.ZO!g$YO)j$YO](tX!V(tX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)S(tX)T(tX)U(tX)V(tX)W(tX)X(tX!O(tX!W(tX(v(tX!U(tXQ(tX!d(tX~OPmO]$eOa%QOl:zO!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S$kO)V$kO)X!ZO)YXO)hcO)idO~O](}Xd(}Xl(}Xr(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}X}(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)S(}X)U(}X)V(}X)W(}X!O(}XQ(}X!d(}X!h(}X)X(}X)j(}X~O]#}O~P!*qO]&lO~O])bXa)bXd)bXl)bXr)bXs)bXt)bXu)bXv)bXw)bXx)bXy)bX{)bX})bX!V)bX!o)bX!r)bX!s)bX!t)bX!u)bX!v)bX!x)bX!{)bX#a)bX#b)bX%e)bX%l)bX%o)bX%v)bX&m)bX&r)bX&s)bX(r)bX)S)bX)U)bX)V)bX~O(oQO~P!-ZO%U&nO~P!-ZO]&oO~O]#}O~O!TxO~O$W&wO(r%nO(v&vO~O]&xOw&zO~O]&xO~OPmO]$eOa%QOl:zO!TxO!V$fO!X!XO!Y!WO!i!YO#V#QO#p!xO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r:mO)PYO)S$kO)V$kO)WiO)X!ZO)YXO)hcO)idO~O]'PO~O!T$WO)W'RO~P!(zO)W'TO~O)W'UO~O(r'VO~O)W'YO~P!(zOl;^O%U'^O%e'^O(r;PO~Oa!TOl$oOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO~O(v'bO~O)W'dO~P!(zO!TxO(r%nO)j'fO~O(r%nO~O]'iO~O]'jOd%nXl%nX!V%nX!{%nX%v%nX(r%nX)S%nX)U%nX)V%nX~O]'nO!V'oO!X'lO!g'lO%Z'lO%['lO%]'lO%^'lO%_'pO%`'pO%a'lO(x'mO)j'lO)x'qO~P8zO]%hOa!TOd!POr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!V%kO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO!{!dO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO)S;`O)U|O)V|O~Ol;_Op&UO%v$mO(r;QO~P!8jO(r%nO(v'vO)W'wO~O]&cO!T'yO~Ol$oO}!_O!T(QO!l(VO(r$nO(v(PO)PYO~Ol$oO{(^O!T(ZO#b(^O(r$nO~Oa!TOl$oO{#RO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO~O](`O~OPmOa%QOl:zO!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S$kO)V$kO)YXO)hcO)idO~O](bO)X(cO~P!=UO]#}O~P!<[OPmO]$eOa%QOl:zO!V(iO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S$kO)V$kO)X!ZO)YXO)hcO)idO~OY(jO(oQO(r%nO~O'f(mO~OS(qOT(nO*W(pO~O]#}O(n(tO~Q'nXX#dO(p#dO(q(vO~Od)QOl({O&r#WO(r(zO~O!Y'Sa!['Sa!^'Sa!_'Sa!a'Sa!b'Sa!c'Sa!e'Sa!f'Sa!h'Sa(u'Sa)S'Sa)T'Sa)U'Sa)V'Sa)W'Sa)X'Sa!g'Sa)j'Sa!O'Sa!W'Sa(v'Sa!U'SaQ'Sa!d'Sa~OPmOa%QOl:zO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)YXO)hcO)idO]'Sa!V'Sa!X'Sa(w'Sa(x'Sa~P!B_O!T$WO!O(sP~P!(zO]nX]%WXdnXlmXpnXp%WXrnXsnXtnXunXvnXwnXxnXynX}nX!TnX!VnX!V%WX!X%WX!Y%WX![%WX!^%WX!_%WX!a%WX!b%WX!c%WX!e%WX!f%WX!gmX!h%WX!rnX!snX!tnX!unX!vnX!xnX!{nX%vnX&rnX&snX(rnX(u%WX(w%WX(x%WX)SnX)S%WX)T%WX)UnX)U%WX)VnX)V%WX)W%WX)X%WX)jmX!O%WX~O)WnX!OnX!U%WX~P!E{O])dO!V)eO!X)bO!g)bO%Z)bO%[)bO%])bO%^)bO%_)fO%`)fO%a)bO(x)cO)j)bO)x)gO~P8zOPmO]$eOa%QOl:zO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S$kO)V$kO)X!ZO)YXO)hcO)idO~O!V)lO~P!JwOd)oO%Y)pO(y$OO~O!T$WO!V)rO(w)sO!U)rP~P!JwO!T$WO~P!(zO)[)zO~Ol){O]!QX!h!QX)X!QX)]!QX~O])}O!h*OO)X)QX)])QX~O)X*SO)]*RO~Od$RO%Y*TO'[$TO'_$UO(y$OO~Ol*UO~Ol*UO!O(}X~P.ZOl*UO!g$YO)j$YO~O)W*VO~P:nOPmO]$eOa!]Ol$_Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r:}O)S$kO)V$kO)X!ZO)YXO)hcO)idO~Op&fO~P!&zOp&fO!W(tX(v(tXQ(tX!d(tX~PNkO]'nO!V'oO!X'lO!g'lO%Z'lO%['lO%]'lO%^'lO%_'pO%`'pO%a'lO(x'mO)j'lO)x'qO~O]iXdiXlgXpiXriXsiXtiXuiXviXwiXxiXyiX}iX!ViX!riX!siX!tiX!uiX!viX!xiX!{iX%viX&riX&siX(riX)SiX)UiX)ViX!TiX!hiX)XiX)jiX!OiX~O!liX(viX)WiX!XiX!YiX![iX!^iX!_iX!aiX!biX!ciX!eiX!fiX(uiX(wiX(xiX)TiX!giX!WiXQiX!diX!UiX#viX#TiX#ViX#piXaiX{iX!oiX#aiX#biX#iiX#tiX${iX%ciX%eiX%kiX%liX%oiX&miX)PiX~P#%yO(y*ZO~Ol*[O~O](}Xd(}Xr(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}X}(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)S(}X)U(}X)V(}X)W(}X!T(}X!X(}X!Y(}X![(}X!^(}X!_(}X!a(}X!b(}X!c(}X!e(}X!f(}X!h(}X(u(}X(w(}X(x(}X)T(}X)X(}X!g(}X)j(}X!O(}X!W(}XQ(}X!d(}X(v(}X!U(}X#v(}X~Ol*[O~P#+ROr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O}!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO])aad)aal)aa!V)aa!{)aa%v)aa(r)aa)S)aa)U)aa)V)aaQ)aa!d)aa!h)aa)X)aa)j)aa!O)aa!T)aa(v)aa)W)aa~O&r#WO&s$wO~P#.qOp&fOl(}X~P#+RO&r)aa~P#.qO]ZXlgXpZXpiX!TiX!VZX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX(uZX(wZX(xZX)SZX)TZX)UZX)VZX)WZX)XZX)jZX!OZX~O!WZX(vZX!UZXQZX!dZX~P#1jO]#}O!V#lO!X#{O(w#kO(x#kO~O!Y&xa![&xa!^&xa!_&xa!a&xa!b&xa!c&xa!e&xa!f&xa!g&xa!h&xa(u&xa)S&xa)T&xa)U&xa)V&xa)W&xa)X&xa)j&xa!O&xa!W&xa(v&xa!U&xaQ&xa!d&xa~P#3zOl;hO!T$WO~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O~PKkOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!|%RO~PKkO]&cO!V&bO!O#Qa!T#Qa!h#Qa#v#Qa)W#Qa)j#QaQ#Qa!d#Qa(v#Qa~Op&fO!T$WO~O!O*cO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O*cO~O]&cO!O*eO!V&bO~O]&YOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!V&WO&r#WO&s$wO)S&VO)U&ZO)V&ZO~O!OqXQqX!dqX!hqX)XqX)WqX~P#9{O!O*hO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h*iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!W)kX~P#3zO!W*kO!h*lO~O!W*kO!h*lO~P!(zO!W*kO~Op&fO!g$YO!h*mO)j$YO](tX!V(tX!W(tX!W*OX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX(u(tX(w(tX(x(tX)S(tX)T(tX)U(tX)V(tX)X(tX~O!h(tX~P#=ZO!W*oO~Od$RO%Y*TO(y:rO~Ol;kO~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!|%RO~PBUO]*vO!T*qO!V&bO!h*tO#v!eO)j*rO)W)qX~O!h*tO)W)qX~O)W*wO~Op&fO])eX!T)eX!V)eX!h)eX#v)eX)W)eX)j)eX!O)eXQ)eX!d)eX(v)eX~Op&fO~OP%oO(oQO]%ha!V%ha!X%ha!Y%ha![%ha!^%ha!_%ha!a%ha!b%ha!c%ha!e%ha!f%ha!h%ha(r%ha(u%ha(w%ha(x%ha)S%ha)T%ha)U%ha)V%ha)W%ha)X%ha!g%ha)j%ha!O%ha!W%ha(v%ha!U%haQ%ha!d%ha~Od$RO%Y$SO(y:oO~Ol:wO~O!TxO#v!eO)j%|O~Ol<[O&r#WO(r;gO~O$Z+TO%`+UO~O!TxO#v!eO)W+VO)j+WO~OPmO]$eOa%QOl:zO!V$fO!X!XO!Y!WO!i!YO#V#QO$Z+TO%_#ZO%`+YO%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S$kO)V$kO)X!ZO)YXO)hcO)idO~O!U+ZO~P!QOa!TOl$oOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#a+aO#b+bO#i+cO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO)PYO~OQ)lP!d)lP~P#GgO]&YOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!V&WO)S&VO)U&ZO)V&ZO~O!O#kX!T#kX#v#kX)W#kX)j#kXQ#kX!d#kX!h#kX)X#kX!x#kX(v#kX~P#IkOPmO]$eOa%QOl:zOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!V$fO!W+iO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S+jO)V$kO)X!ZO)YXO)hcO)idO~O]&cO!V+kO~O]&YO!V&WO)PYO)S&VO)U&ZO)V&ZO)X+nO!O)dP~P8zO]&YO!V&WO)S&VO)U&ZO)V&ZO~O!O#nX!T#nX#v#nX)W#nX)j#nXQ#nX!d#nX!h#nX)X#nX!x#nX(v#nX~P#NeO!TxO])nX!V)nX~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O#T+vO#p+wO(x+tO)U+rO)V+rO~O]#jX!T#jX!V#jX!O#jX#v#jX)W#jX)j#jXQ#jX!d#jX!h#jX)X#jX!x#jX(v#jX~P$ xO#V+yO~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!l+zO#T+vO#V+yO#p+wO(x+tO)U+zO)V+zO])fP!T)fP!V)fP#v)fP(v)fP)j)fP!O)fP!h)fP)W)fP~O!x)fPQ)fP!d)fP~P$#uOPmO]$eOa%QOl:zOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)V$kO)X!ZO)YXO)hcO)idO~O!W,QO)S,RO~P$%pO)PYO)X+nO!O)dP~P8zO]&cO!V&bO!O&Za!T&Za!h&Za#v&Za)W&Za)j&ZaQ&Za!d&Za(v&Za~OPmO]$eOa!]Ol:|Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r;RO)S$kO)V$kO)X!ZO)YXO)hcO)idO~OQ(zP!d(zP~P$)YO]#}O!V#lO(w#kO(x#kO!X'Pa!Y'Pa!['Pa!^'Pa!_'Pa!a'Pa!b'Pa!c'Pa!e'Pa!f'Pa!h'Pa(u'Pa)S'Pa)T'Pa)U'Pa)V'Pa)W'Pa)X'Pa!g'Pa)j'Pa!O'Pa!W'Pa(v'Pa!U'PaQ'Pa!d'Pa~O]#}O!V#lO!X#{O(w#kO(x#kO~P!B_O!TxO#t!fO)PYO~P8zO!TxO(r%nO)j,[O~O#x,aO~OQ)aX!d)aX!h)aX)X)aX)j)aX!O)aX!T)aX(v)aX)W)aX~P:nO(v,eO(w,cO)P$UX)W$UX~O(r,fO~O)PYO)W,iO~OPmO]$eOa!]Ol:{Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!V$fO!X!XO!Y!WO!i!YO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO)PYO)S$kO)V$kO)WiO)X!ZO)YXO)hcO)idO~O(r;SO~P$0kOPmO]$eOa%QOl:zO!TxO!V$fO!X!XO!Y!WO!i!YO#V#QO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r:mO)PYO)S$kO)V$kO)WiO)X!ZO)YXO)hcO)idO~O$h,sO~OPmO]$eOa!]Ol:{Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!V$fO!X!XO!Y!WO!i!YO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#V#QO#a#VO#b#TO$}!uO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO)PYO)S$kO)V$kO)X!ZO)YXO)hcO)idO~O${,yO(r:}O)W,wO~P$7UO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)W,{O)X#|O~P#3zO)W,{O~O)W,|O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W,}O)X#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W-OO)X#|O~P#3zOp&fO)PYO)j-QO~O)W-RO~Ol;^O(r;PO~O]-YO!{!dO&r#WO&s$wO(r-UO)S-VO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO(v-]O)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!TxO$`!iO$e!jO$g!kO$h!lO$k-bO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO$}!uO(r:nOd$Xa!o$Xa!{$Xa#i$Xa#p$Xa#t$Xa#v$Xa$R$Xa$T$Xa$Y$Xa$Z$Xa${$Xa%U$Xa%c$Xa%g$Xa%o$Xa%|$Xa(k$Xa)U$Xa!U$Xa$c$Xa~P$0kO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W-cO)X#|O~P#3zOl-eO!TxO)j,[O~O)j-gO~O]&]a!X&]a!Y&]a![&]a!^&]a!_&]a!a&]a!b&]a!c&]a!e&]a!f&]a!h&]a(u&]a(w&]a(x&]a)T&]a)U&]a)V&]a)W&]a)X&]a!g&]a)j&]a!O&]a!W&]a!T&]a#v&]a(v&]a!U&]aQ&]a!d&]a~O)S-kO!V&]a~P$DbO!O-kO~O!W-kO~O!V-lO)S&]a~P$DbO](}Xd(}Xr(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}X}(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)S(}X)U(}X)V(}X~Ol;mO~P$GQO]&cO!V&bO)W-mO~Ol;cO!o-pO#V+yO#i-uO#t!fO${,yO%c!zO%k-tO%o!|O%v!}O(r;TO)PYO~P!8jO!n-yO(r,fO~O)PYO)W-{O~OPmO]$eOa%QOl:zO!T.QO!V$fO!X!XO!Y!WO!i!YO#V.XO#a.WO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO(x.PO)S$kO)V$kO)W-}O)X!ZO)YXO)hcO)idO~O!U.VO~P$JbO])^Xd)^Xr)^Xs)^Xt)^Xu)^Xv)^Xw)^Xx)^Xy)^X})^X!T)^X!V)^X!l)^X!r)^X!s)^X!t)^X!u)^X!v)^X!x)^X!{)^X%v)^X&r)^X&s)^X(r)^X(v)^X)S)^X)U)^X)V)^X)W)^X!O)^X!h)^X)X)^X!X)^X!Y)^X![)^X!^)^X!_)^X!a)^X!b)^X!c)^X!e)^X!f)^X(u)^X(w)^X(x)^X)T)^X!g)^X)j)^X!W)^XQ)^X!d)^X#T)^X#V)^X#p)^X#v)^Xa)^X{)^X!o)^X#a)^X#b)^X#i)^X#t)^X${)^X%c)^X%e)^X%k)^X%l)^X%o)^X&m)^X)P)^X!U)^X~Ol*[O~P$LlOl$oO!T(QO!l.^O(r$nO(v(PO)PYO~Op&fOl)^X~P$LlOl$oO!n.cO!o.cO(r$nO)PYO~Ol;dO!U.nO!n.pO!o.oO#i-uO${!tO$}!uO%g!{O%k-tO%o!|O%v!}O(r;VO)PYO~P!8jO!T(QO!l.^O(v(PO])OXd)OXl)OXr)OXs)OXt)OXu)OXv)OXw)OXx)OXy)OX})OX!V)OX!r)OX!s)OX!t)OX!u)OX!v)OX!x)OX!{)OX%v)OX&r)OX&s)OX(r)OX)S)OX)U)OX)V)OX~O)W)OX!O)OX!X)OX!Y)OX![)OX!^)OX!_)OX!a)OX!b)OX!c)OX!e)OX!f)OX!h)OX(u)OX(w)OX(x)OX)T)OX)X)OX!g)OX)j)OX!W)OXQ)OX!d)OX!U)OX#v)OX~P%%eO!T(QO~O!T(QO(v(PO~O(r%nO!U*QP~O!T(ZO(v.uO]&kad&kal&kar&kas&kat&kau&kav&kaw&kax&kay&ka}&ka!V&ka!r&ka!s&ka!t&ka!u&ka!v&ka!x&ka!{&ka%v&ka&r&ka&s&ka(r&ka)S&ka)U&ka)V&ka)W&ka!O&ka!X&ka!Y&ka![&ka!^&ka!_&ka!a&ka!b&ka!c&ka!e&ka!f&ka!h&ka(u&ka(w&ka(x&ka)T&ka)X&ka!g&ka)j&ka!W&kaQ&ka!d&ka!U&ka#v&ka~Ol$oO!T(ZO(r$nO~O&r#WO&s$wO]&pad&pal&par&pas&pat&pau&pav&paw&pax&pay&pa}&pa!V&pa!r&pa!s&pa!t&pa!u&pa!v&pa!x&pa!{&pa%v&pa(r&pa)S&pa)U&pa)V&pa)W&pa!O&pa!T&pa!X&pa!Y&pa![&pa!^&pa!_&pa!a&pa!b&pa!c&pa!e&pa!f&pa!h&pa(u&pa(w&pa(x&pa)T&pa)X&pa!g&pa)j&pa!W&paQ&pa!d&pa(v&pa!U&pa#v&pa~O&s.zO~P!(zO!Y#qO![#rO!f#zO)S#mO!^'Ua!_'Ua!a'Ua!b'Ua!c'Ua!e'Ua!h'Ua(u'Ua)T'Ua)U'Ua)V'Ua)W'Ua)X'Ua!g'Ua)j'Ua!O'Ua!W'Ua(v'Ua!U'UaQ'Ua!d'Ua~P#3zO!V'dX!X'dX!Y'dX!['dX!^'dX!_'dX!a'dX!b'dX!c'dX!e'dX!f'dX!h'dX(u'dX(w'dX(x'dX)S'dX)T'dX)U'dX)V'dX)X'dX!O'dX~O].|O)W'dX!g'dX)j'dX!W'dX(v'dX!U'dXQ'dX!d'dX~P%2xO!Y#qO![#rO!f#zO)S#mO!^'Wa!_'Wa!a'Wa!b'Wa!c'Wa!e'Wa!h'Wa(u'Wa)T'Wa)U'Wa)V'Wa)W'Wa)X'Wa!g'Wa)j'Wa!O'Wa!W'Wa(v'Wa!U'WaQ'Wa!d'Wa~P#3zO]#}O!T$WO!V.}O&r#WO&s$wO~O!X'Za!Y'Za!['Za!^'Za!_'Za!a'Za!b'Za!c'Za!e'Za!f'Za!h'Za(u'Za(w'Za(x'Za)S'Za)T'Za)U'Za)V'Za)W'Za)X'Za!g'Za)j'Za!O'Za!W'Za(v'Za!U'ZaQ'Za!d'Za~P%6oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!h'^a)W'^a!g'^a)j'^a!O'^a!W'^a(v'^a!U'^aQ'^a!d'^a~P#3zOPmO]$eOa%QOl:zO!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S$kO)V%]O)X!ZO)YXO)hcO)idO)j%[O~O!W/QO~P%:oOS(qOT(nO]#}O*W(pO~O]/TO'f/UO*W/RO~OS/YOT(nO*W/XO~O]#}O~Q'na!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO(v/[O)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O)W#Zi!O#Zi~P#3zO]cXlgXpcXpiX!VcX!XcX!YcX![cX!^cX!_cX!acX!bcX!ccX!ecX!fcX!gcX!hcX(ucX(wcX(xcX)ScX)TcX)UcX)VcX)WcX)XcX)jcX!OcX!WcX(vcX!TcX#vcX!UcXQcX!dcX~Od/^O%Y*TO(y/]O~Ol/_O~Ol/`O~Op&fO]bi!Vbi!Xbi!Ybi![bi!^bi!_bi!abi!bbi!cbi!ebi!fbi!gbi!hbi(ubi(wbi(xbi)Sbi)Tbi)Ubi)Vbi)Wbi)Xbi)jbi!Obi!Wbi(vbi!UbiQbi!dbi~O!W/bO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO![#rO)S#mO!Y&zi!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!f&zi!h&zi(u&zi)T&zi)U&zi)V&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y&zi![&zi!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!f&zi!h&zi(u&zi)S&zi)T&zi)U&zi)V&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)S#mO)V#pO!h&zi(u&zi)T&zi)U&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)S#mO)U#nO)V#pO!h&zi(u&zi)T&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)S#mO)V#pO!^&zi!h&zi(u&zi)T&zi)U&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!a#xO!b#yO!c#yO!e#yO!f#zO)S#mO)V#pO!^&zi!_&zi!h&zi(u&zi)T&zi)U&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!a#xO!b#yO!c#yO!e#yO!f#zO)S#mO!^&zi!_&zi!h&zi(u&zi)T&zi)U&zi)V&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!b#yO!c#yO!e#yO!f#zO)S#mO!^&zi!_&zi!a&zi!h&zi(u&zi)T&zi)U&zi)V&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!f#zO)S#mO!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!h&zi(u&zi)T&zi)U&zi)V&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO)S#mO!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!f&zi!h&zi(u&zi)T&zi)U&zi)V&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)S#mO)T#oO)U#nO)V#pO!h&zi(u&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h/cO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!O(sX~P#3zO!h/cO!O(sX~O!O/eO~O]%Xap%Xa!X%Xa!Y%Xa![%Xa!^%Xa!_%Xa!a%Xa!b%Xa!c%Xa!e%Xa!f%Xa!h%Xa(u%Xa(w%Xa(x%Xa)T%Xa)U%Xa)V%Xa)W%Xa)X%Xa!g%Xa)j%Xa!O%Xa!W%Xa!T%Xa#v%Xa(v%Xa!U%XaQ%Xa!d%Xa~O)S/fO!V%Xa~P&,aO!O/fO~O!W/fO~O!V/gO)S%Xa~P&,aO!X'Zi!Y'Zi!['Zi!^'Zi!_'Zi!a'Zi!b'Zi!c'Zi!e'Zi!f'Zi!h'Zi(u'Zi(w'Zi(x'Zi)S'Zi)T'Zi)U'Zi)V'Zi)W'Zi)X'Zi!g'Zi)j'Zi!O'Zi!W'Zi(v'Zi!U'ZiQ'Zi!d'Zi~P%6oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!h'^i)W'^i!g'^i)j'^i!O'^i!W'^i(v'^i!U'^iQ'^i!d'^i~P#3zO!W/lO~P%:oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h/nO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!U)rX~P#3zO(r/qO~O!V/sO(w)sO)j/uO~O!h/nO!U)rX~O!U/vO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)S#mO)T#oO)U#nO)V#pO)X#|O!h_i(u_i)W_i!g_i)j_i!O_i!W_i(v_i!U_iQ_i!d_i~P#3zO!R/wO~Ol){O]!Qa!h!Qa)X!Qa)]!Qa~OP0PO]0OOl0PO!R0PO!T/|O!V/}O!X0PO!Y0PO![0PO!^0PO!_0PO!a0PO!b0PO!c0PO!e0PO!f0PO!g0PO!h0PO!i0PO(oQO(v0PO(w0PO(x0PO)S/yO)T/zO)U/zO)V/{O)W0PO)X0PO)YXO~O!O0SO~P&6yO!R$[O~O!h*OO)X)Qa)])Qa~O)]0WO~O])dO!V)eO!X)bO!g)bO%Z)bO%[)bO%])bO%^)bO%_)fO%`)fO%a)bO(x)cO)j)bO)x)gO~Od)oO%Y*TO(y$OO~O)W0YO~O]nXdnXlmXpnXrnXsnXtnXunXvnXwnXxnXynX}nX!VnX!rnX!snX!tnX!unX!vnX!xnX!{nX%vnX&rnX&snX(rnX)SnX)UnX)VnX!TnX!hnX)XnX!OnXQnX!dnX~O!lnX(vnX)WnX!XnX!YnX![nX!^nX!_nX!anX!bnX!cnX!enX!fnX(unX(wnX(xnX)TnX!gnX)jnX!WnX!UnX#vnX#TnX#VnX#pnXanX{nX!onX#anX#bnX#inX#tnX${nX%cnX%enX%knX%lnX%onX&mnX)PnX~P&:uOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O}!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO~O])aid)ail)ai!V)ai!{)ai%v)ai(r)ai)S)ai)U)ai)V)aiQ)ai!d)ai!h)ai)X)ai)j)ai!O)ai!T)ai&r)ai(v)ai)W)ai~P&?sO]&cO!V&bO!O#Qi!T#Qi!h#Qi#v#Qi)W#Qi)j#QiQ#Qi!d#Qi(v#Qi~O!OqaQqa!dqa!hqa)Xqa)Wqa~P#9{O!OqaQqa!dqa!hqa)Xqa)Wqa~P#IkO]&cO!V+kO!OqaQqa!dqa!hqa)Xqa)Wqa~O!h*iO!W)ka~O!h*mO!W*Oa~OPmOa!]Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!X!XO!Y!WO!i!YO!s!aO!t!aO!v!aO!x!cO#V#QO#a#VO#b#TO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%e#UO%l#SO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO)PYO)WiO)X!ZO)YXO)hcO)idO~O]eOd!POlTO!T*qO!U&TO!V0hO!opO!r!`O!u!bO!{!dO#i#OO#p!xO#t!fO$R!gO$T!hO${!tO$}!uO%U!yO%c!zO%g!{O%o!|O%v!}O%|#PO(rRO(w)sO)SaO)U|O)V{O~P&DuO!h*tO)W)qa~OPmO]$eOa!]Ol:|O{#RO!T$WO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r;UO)PYO)S$kO)V$kO)X0nO)YXO)hcO)idO!O(sP!O)dP~P&?sO!h*mO!W*OX~O]#}O!T$WO~O!h0sO!T)zX#v)zX)j)zX~O)W0uO~O)W0vO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W0xO)X#|O~P#3zO)W0vO~P!?WO]1SOd!POl%bO!V1QO!{!dO%v$mO(r$xO)S0zO)X0}O~O)U1OO)V1OO)j0{OQ#PX!d#PX!h#PX!O#PX~P' dO!h1TOQ)lX!d)lX~OQ1VO!d1VO~O)X1YO)j1XOQ#`X!d#`X!h#`X~P!<[O)X1YO)j1XOQ#`X!d#`X!h#`X~P!;bOp&UO~O!O#ka!T#ka#v#ka)W#ka)j#kaQ#ka!d#ka!h#ka)X#ka!x#ka(v#ka~P#IkO]&cO!V+kO!O#ka!T#ka#v#ka)W#ka)j#kaQ#ka!d#ka!h#ka)X#ka!x#ka(v#ka~O!W1_O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W1_O)S1aO~P$%pO!W1_O~P!(zO]#ja!T#ja!V#ja!O#ja#v#ja)W#ja)j#jaQ#ja!d#ja!h#ja)X#ja!x#ja(v#ja~P$ xO]&cO!O1eO!V+kO~O!h1fO!O)dX~O!O1hO~O]&cO!V+kO!O#na!T#na#v#na)W#na)j#naQ#na!d#na!h#na)X#na!x#na(v#na~O]1lOr#SXs#SXt#SXu#SXv#SXw#SXx#SXy#SX!T#SX!V#SX#T#SX#p#SX(x#SX)U#SX)V#SX!l#SX!x#SX#V#SX#v#SX(v#SX)j#SX!O#SX!h#SX)W#SXQ#SX!d#SX)X#SX~O]1mO~O]1pOl$oO!V$fO#V#QO(r$nO)hcO)idO~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!l+zO#T+vO#V+yO#p+wO(x+tO)U+zO)V+zO~O])fX!T)fX!V)fX!x)fX#v)fX(v)fX)j)fX!O)fX!h)fX)W)fXQ)fX!d)fX~P'+}O!x!cO]#Ri!T#Ri!V#Ri#v#Ri(v#Ri)j#Ri!O#Ri!h#Ri)W#RiQ#Ri!d#Ri~O!W1xO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W1xO)S1zO~P$%pO!W1xO~P!(zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|OQ*RX!d*RX!h*RX~P#3zO)X1{OQ({X!d({X!h({X~O!h1|OQ(zX!d(zX~OQ2OO!d2OO~O!O2PO~O#t$lO)PYO~P8zOl-eO!TxO)j2TO~O!O2UO~O#x,aOP#ui]#uia#uid#uil#uir#uis#uit#uiu#uiv#uiw#uix#uiy#ui{#ui}#ui!T#ui!V#ui!X#ui!Y#ui!i#ui!o#ui!r#ui!s#ui!t#ui!u#ui!v#ui!x#ui!{#ui#V#ui#a#ui#b#ui#i#ui#p#ui#t#ui#v#ui$R#ui$T#ui$Y#ui$Z#ui$`#ui$e#ui$g#ui$h#ui$k#ui$m#ui$o#ui$q#ui$s#ui$u#ui$w#ui${#ui$}#ui%U#ui%_#ui%`#ui%a#ui%c#ui%e#ui%g#ui%l#ui%o#ui%v#ui%|#ui&m#ui&r#ui&s#ui'Q#ui'R#ui'V#ui'Y#ui'a#ui'b#ui(k#ui(o#ui(r#ui)P#ui)S#ui)U#ui)V#ui)W#ui)X#ui)Y#ui)h#ui)i#ui!U#ui$c#ui!n#ui%k#ui~O]&cO~O]&cO!TxO!V&bO#v!eO~O(v2ZO(w,cO)P$Ua)W$Ua~O)PYO)W2]O~O!O2^O~P,]O!O2^O)W#jO~O!O2^O~O$c2cOP$_i]$_ia$_id$_il$_ir$_is$_it$_iu$_iv$_iw$_ix$_iy$_i{$_i}$_i!T$_i!V$_i!X$_i!Y$_i!i$_i!o$_i!r$_i!s$_i!t$_i!u$_i!v$_i!x$_i!{$_i#V$_i#a$_i#b$_i#i$_i#p$_i#t$_i#v$_i$R$_i$T$_i$Y$_i$Z$_i$`$_i$e$_i$g$_i$h$_i$k$_i$m$_i$o$_i$q$_i$s$_i$u$_i$w$_i${$_i$}$_i%U$_i%_$_i%`$_i%a$_i%c$_i%e$_i%g$_i%l$_i%o$_i%v$_i%|$_i&m$_i&r$_i&s$_i'Q$_i'R$_i'V$_i'Y$_i'a$_i'b$_i(k$_i(o$_i(r$_i)P$_i)S$_i)U$_i)V$_i)W$_i)X$_i)Y$_i)h$_i)i$_i!U$_i~O]1pO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)W2fO)X#|O~P#3zOPmO]$eOa!]Ol:{O{#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r:}O)S$kO)V$kO)W2iO)X!ZO)YXO)hcO)idO~P&?sO)W2fO~O(r-UO~O)PYO)j2lO~O)W2nO~O]-YOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!{!dO!|%RO(r-UO)S-VO~O)S2sO~O]&cO!V2uO!h2vO)W)uX~O]-YO!{!dO(r-UO)S-VO~O)W2yO~O!TxO$`!iO$e!jO$g!kO$h!lO$k-bO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO$}!uO(r:nOd$Xi!o$Xi!{$Xi#i$Xi#p$Xi#t$Xi#v$Xi$R$Xi$T$Xi$Y$Xi$Z$Xi${$Xi%U$Xi%c$Xi%g$Xi%o$Xi%|$Xi(k$Xi)U$Xi!U$Xi$c$Xi~P$0kOl:{O(r:nO~P0zO]2}O~O)W2SO~O!u3PO(r%nO~O!O3SO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h3TO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O3UO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO]&cO!V+kO!T%ui#v%ui)W%ui)j%ui~O!W3VO~Ol:yO)W(}X~P$GQOa!TOl$oO{3]O#a#VO#b3[O#t!fO%e#UO%l3^O&m!RO&r#WO&s!TO(r$nO)PYO~P&?sOl;cO!o-pO#i-uO#t!fO${,yO%c!zO%k-tO%o!|O%v!}O(r;TO)PYO~P!8jO]&cO!V&bO)W3`O~O)W3aO~O)PYO)W3aO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)W3bO)X#|O~P#3zO)W3bO~O)W3eO~O!U3gO~P$JbOl$oO(r$nO~O]3iO!T'yO~P'+iO!T(QO!l3lO(v(PO])Oad)Oal)Oar)Oas)Oat)Oau)Oav)Oaw)Oax)Oay)Oa})Oa!V)Oa!r)Oa!s)Oa!t)Oa!u)Oa!v)Oa!x)Oa!{)Oa%v)Oa&r)Oa&s)Oa(r)Oa)S)Oa)U)Oa)V)Oa)W)Oa!O)Oa!X)Oa!Y)Oa![)Oa!^)Oa!_)Oa!a)Oa!b)Oa!c)Oa!e)Oa!f)Oa!h)Oa(u)Oa(w)Oa(x)Oa)T)Oa)X)Oa!g)Oa)j)Oa!W)OaQ)Oa!d)Oa!U)Oa#v)Oa~Ol$oO!n.cO!o.cO(r$nO~O!h3pO)X3rO!T)_X~O!o3tO)PYO~P8zO)W3uO~PGVO]3zOl({O!T$WO!{!dO%v$mO&r#WO(r(zO(v4OO)S3wO)U3{O)V3{O~O)W4PO)j4RO~P(&eOl;dO!U4TO!n.pO!o.oO#i-uO${!tO$}!uO%g!{O%k-tO%o!|O%v!}O(r;VO)PYO~P!8jOl;dO%v!}O(r;VO~P!8jO(v4UO~Ol$oO!T(QO(r$nO(v(PO)PYO~O!l3lO~P((sO)j4WO!U&oX!h&oX~O!h4XO!U*QX~O!U4ZO~Oa4]Ol$oO&m!RO(r$nO~O!T(ZO]&kid&kil&kir&kis&kit&kiu&kiv&kiw&kix&kiy&ki}&ki!V&ki!r&ki!s&ki!t&ki!u&ki!v&ki!x&ki!{&ki%v&ki&r&ki&s&ki(r&ki)S&ki)U&ki)V&ki)W&ki!O&ki!X&ki!Y&ki![&ki!^&ki!_&ki!a&ki!b&ki!c&ki!e&ki!f&ki!h&ki(u&ki(w&ki(x&ki)T&ki)X&ki!g&ki)j&ki!W&kiQ&ki!d&ki!U&ki#v&ki~O(v&ki~P(*TO(v.uO~P(*TO!O4`O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O4`O~O!O4aO~O]#}O!T$WO!V'Zi!X'Zi!Y'Zi!['Zi!^'Zi!_'Zi!a'Zi!b'Zi!c'Zi!e'Zi!f'Zi!h'Zi(u'Zi(w'Zi(x'Zi)S'Zi)T'Zi)U'Zi)V'Zi)W'Zi)X'Zi!g'Zi)j'Zi!O'Zi!W'Zi(v'Zi!U'ZiQ'Zi!d'Zi~OPmOa%QOl:zO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)X!ZO)YXO)hcO)idO]#]ap#]a!T#]a!V#]a)S#]a)U#]a)V#]a~O(r%nO)X4fO!O*YP~O*W4eO~O'f4hO*W4eO~O*W4iO~OlmXpnXp&wX~Od4kO%Y*TO(y/]O~Od4kO%Y*TO(y4lO~O!h/cO!O(sa~O!W4pO~O]&cO!V+kO!T%uq#v%uq)W%uq)j%uq~O]#}O!T$WO!X'Zq!Y'Zq!['Zq!^'Zq!_'Zq!a'Zq!b'Zq!c'Zq!e'Zq!f'Zq!h'Zq(u'Zq(w'Zq(x'Zq)S'Zq)T'Zq)U'Zq)V'Zq)W'Zq)X'Zq!g'Zq)j'Zq!O'Zq!W'Zq(v'Zq!U'ZqQ'Zq!d'Zq~O!V'Zq~P(5bO!V.}O&r#WO&s$wO~P(5bO!T$WO!V)rO(w)sO!U(UX!h(UX~P!JwO!h/nO!U)ra~O!W4xO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h*iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!U4|O~P&6yO!W4|O~P&6yO!O4|O~P&6yO!O5RO~P&6yO]5SO!h'ua)X'ua)]'ua~O!h*OO)X)Qi)])Qi~O]&cO!V&bO!O#Qq!T#Qq!h#Qq#v#Qq)W#Qq)j#QqQ#Qq!d#Qq(v#Qq~O!OqiQqi!dqi!hqi)Xqi)Wqi~P#IkO]&cO!V+kO!OqiQqi!dqi!hqi)Xqi)Wqi~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!h'Tq)W'Tq!g'Tq)j'Tq!O'Tq!W'Tq(v'Tq!U'TqQ'Tq!d'Tq~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!W'|a!h'|a~P#3zO!W5XO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h5YO(u#gO)S#mO)T#oO)U#nO)V#pO)W#jO)X#|O!U)rX~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!h#{i)W#{i~P#3zO]*vO!T$WO!V&bO)j*rO!h(Va)W(Va~O!h1fO]'dX!O)dX~P%2xO)X5[O!T%qa!h%qa#v%qa)j%qa~O!h0sO!T)za#v)za)j)za~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W5_O)X#|O~P#3zO]1SOd!POl;[O!V1QO!{!dO%v$mO(r$xO)S;xO)U5aO)V5aO~OQ#Pa!d#Pa!h#Pa!O#Pa~P(DjO]1SOd!POr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!V1QO!{!dO!|%RO%v$mO(r$xOQ#kX!d#kX!h#kX!O#kX~Ol%bO)S0zO)U;yO)V;yO~P(ElO]&cOQ#Pa!d#Pa!h#Pa!O#Pa~O!V&bO)j5eO~P(GZO(r%nOQ#dX!d#dX!h#dX!O#dX~O)U;yO)V;yOQ#nX!d#nX!h#nX!O#nX~P' dO!V+kO~P(GZO]1SOa!TOd!POl;]O{#RO!V1QO!{!dO#a#VO#b#TO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO(r;QO)PYO)S;xO)U5aO)V5aO)X+nO!O)dP~P&?sO!h1TOQ)la!d)la~Op&fO)j5jOQ#`al(}X!d#`a!h#`a)X(}X~P$GQO(r-UOQ#ga!d#ga!h#ga~Op&fO)j5jOQ#`a])^Xd)^Xl)^Xr)^Xs)^Xt)^Xu)^Xv)^Xw)^Xx)^Xy)^X})^X!T)^X!V)^X!d#`a!h#`a!l)^X!r)^X!s)^X!t)^X!u)^X!v)^X!x)^X!{)^X%v)^X&r)^X&s)^X(r)^X(v)^X)S)^X)U)^X)V)^X)X)^X~O#a5mO#b5mO~O]&cO!V+kO!O#ki!T#ki#v#ki)W#ki)j#kiQ#ki!d#ki!h#ki)X#ki!x#ki(v#ki~O!W5oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W5oO~P!(zO!W5oO)S5qO~P$%pO]#ji!T#ji!V#ji!O#ji#v#ji)W#ji)j#jiQ#ji!d#ji!h#ji)X#ji!x#ji(v#ji~P$ xO)PYO)X5sO~P8zO!h1fO!O)da~O&r#WO&s$wO!T#qa!x#qa#v#qa(v#qa)j#qa!O#qa!h#qa)W#qaQ#qa!d#qa)X#qa~P#NeO!O5xO~P!(zO!O)oP~P!4xO)T6OO)U5|O]#Ua!T#Ua!V#Ua)S#Ua)V#Uar#Uas#Uat#Uau#Uav#Uaw#Uax#Uay#Ua!l#Ua!x#Ua#T#Ua#V#Ua#p#Ua#v#Ua(v#Ua(x#Ua)j#Uaa#Uad#Ual#Ua{#Ua}#Ua!o#Ua!r#Ua!s#Ua!t#Ua!u#Ua!v#Ua!{#Ua#a#Ua#b#Ua#i#Ua#t#Ua${#Ua%c#Ua%e#Ua%k#Ua%l#Ua%o#Ua%v#Ua&m#Ua&r#Ua&s#Ua(r#Ua)P#Ua)W#Ua!O#Ua!h#UaQ#Ua!d#Ua~O!x!cO]#Rq!T#Rq!V#Rq#v#Rq(v#Rq)j#Rq!O#Rq!h#Rq)W#RqQ#Rq!d#Rq~O!W6TO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W6TO~P!(zO!h1|OQ(za!d(za~O)W6YO~Ol-eO!TxO)j6ZO~O]*vO!T$WO!V&bO!h*tO)W)qX~O)j6_O~P)+cO!O6aO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O6aO~O$c6cOP$_q]$_qa$_qd$_ql$_qr$_qs$_qt$_qu$_qv$_qw$_qx$_qy$_q{$_q}$_q!T$_q!V$_q!X$_q!Y$_q!i$_q!o$_q!r$_q!s$_q!t$_q!u$_q!v$_q!x$_q!{$_q#V$_q#a$_q#b$_q#i$_q#p$_q#t$_q#v$_q$R$_q$T$_q$Y$_q$Z$_q$`$_q$e$_q$g$_q$h$_q$k$_q$m$_q$o$_q$q$_q$s$_q$u$_q$w$_q${$_q$}$_q%U$_q%_$_q%`$_q%a$_q%c$_q%e$_q%g$_q%l$_q%o$_q%v$_q%|$_q&m$_q&r$_q&s$_q'Q$_q'R$_q'V$_q'Y$_q'a$_q'b$_q(k$_q(o$_q(r$_q)P$_q)S$_q)U$_q)V$_q)W$_q)X$_q)Y$_q)h$_q)i$_q!U$_q~O)W6dO~OPmO]$eOa!]Ol:{O{#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r:}O)S$kO)V$kO)W6fO)X!ZO)YXO)hcO)idO~P&?sO(v6hO)j*rO~P)+cO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W6fO)X#|O~P#3zO!O6jO~P!(zO)W6nO~O)W6oO~O]-YOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!{!dO(r-UO)S-VO~O]&cO!V2uO!h%Oa)W%Oa!O%Oa~O!W6uO)S6vO~P$%pO!h2vO)W)ua~O]&cO!O6yO!V2uO~O!TxO$`!iO$e!jO$g!kO$h!lO$k-bO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO$}!uO(r:nOd$Xq!o$Xq!{$Xq#i$Xq#p$Xq#t$Xq#v$Xq$R$Xq$T$Xq$Y$Xq$Z$Xq${$Xq%U$Xq%c$Xq%g$Xq%o$Xq%|$Xq(k$Xq)U$Xq!U$Xq$c$Xq~P$0kOPmO]$eOa!]Ol:{O{#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r:}O)PYO)S$kO)V$kO)W6{O)X!ZO)YXO)hcO)idO~P&?sO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W7OO)X#|O~P#3zO)W7PO~OP7QO(oQO~Ol*[O)W)^X~P$GQOp&fOl(}X)W)^X~P$GQO)W7SO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O)W&Sa~P#3zO!U7UO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO)W7VO~OPmO]$eOa!]Ol:|O{#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r;UO)PYO)S$kO)V$kO)X0nO)YXO)hcO)idO!O)dP~P&?sO!h3pO)X7ZO!T)_a~O!h3pO!T)_a~O)W7`O)j7bO~P(&eO)W7dO~PGVO]3zOl({Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!{!dO!|%RO%v$mO&r#WO(r(zO)S3wO)U3{O)V3{O~O)S7hO~O]&cO!T*qO!V7jO!h7kO#v!eO(v4OO~O)W7`O)j7mO~P)FwO]3zOl({O!{!dO%v$mO&r#WO(r(zO)S3wO)U3{O)V3{O~Op&fO])cX!T)cX!V)cX!h)cX#v)cX(v)cX)W)cX)j)cX!O)cX~O)W7`O~O!T(QO!l7sO(v(PO])Oid)Oil)Oir)Ois)Oit)Oiu)Oiv)Oiw)Oix)Oiy)Oi})Oi!V)Oi!r)Oi!s)Oi!t)Oi!u)Oi!v)Oi!x)Oi!{)Oi%v)Oi&r)Oi&s)Oi(r)Oi)S)Oi)U)Oi)V)Oi)W)Oi!O)Oi!X)Oi!Y)Oi![)Oi!^)Oi!_)Oi!a)Oi!b)Oi!c)Oi!e)Oi!f)Oi!h)Oi(u)Oi(w)Oi(x)Oi)T)Oi)X)Oi!g)Oi)j)Oi!W)OiQ)Oi!d)Oi!U)Oi#v)Oi~O(r%nO!U(fX!h(fX~O!h4XO!U*Qa~Op&fO]*Pad*Pal*Par*Pas*Pat*Pau*Pav*Paw*Pax*Pay*Pa}*Pa!T*Pa!V*Pa!r*Pa!s*Pa!t*Pa!u*Pa!v*Pa!x*Pa!{*Pa%v*Pa&r*Pa&s*Pa(r*Pa)S*Pa)U*Pa)V*Pa)W*Pa!O*Pa!X*Pa!Y*Pa![*Pa!^*Pa!_*Pa!a*Pa!b*Pa!c*Pa!e*Pa!f*Pa!h*Pa(u*Pa(w*Pa(x*Pa)T*Pa)X*Pa!g*Pa)j*Pa!W*PaQ*Pa!d*Pa(v*Pa!U*Pa#v*Pa~O!T(ZO]&kqd&kql&kqr&kqs&kqt&kqu&kqv&kqw&kqx&kqy&kq}&kq!V&kq!r&kq!s&kq!t&kq!u&kq!v&kq!x&kq!{&kq%v&kq&r&kq&s&kq(r&kq)S&kq)U&kq)V&kq)W&kq!O&kq!X&kq!Y&kq![&kq!^&kq!_&kq!a&kq!b&kq!c&kq!e&kq!f&kq!h&kq(u&kq(w&kq(x&kq)T&kq)X&kq!g&kq)j&kq!W&kqQ&kq!d&kq(v&kq!U&kq#v&kq~OPmOa%QOl:zO!T$WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)YXO)hcO)idO~O]*Ui!V*Ui!X*Ui!Y*Ui![*Ui!^*Ui!_*Ui!a*Ui!b*Ui!c*Ui!e*Ui!f*Ui!h*Ui(u*Ui(w*Ui(x*Ui)S*Ui)T*Ui)U*Ui)V*Ui)W*Ui)X*Ui!g*Ui)j*Ui!O*Ui!W*Ui(v*Ui!U*UiQ*Ui!d*Ui~P*&WO!O7xO~O!W7yO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!h'^q)W'^q!g'^q)j'^q!O'^q!W'^q(v'^q!U'^qQ'^q!d'^q~P#3zO!h7zO!O*YX~O!O7|O~O*W7}O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!h^y)W^y!g^y)j^y!O^y!W^y(v^y!U^yQ^y!d^y~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!O(ha!h(ha~P#3zO]#}O!T$WO!V'Zy!X'Zy!Y'Zy!['Zy!^'Zy!_'Zy!a'Zy!b'Zy!c'Zy!e'Zy!f'Zy!h'Zy(u'Zy(w'Zy(x'Zy)S'Zy)T'Zy)U'Zy)V'Zy)W'Zy)X'Zy!g'Zy)j'Zy!O'Zy!W'Zy(v'Zy!U'ZyQ'Zy!d'Zy~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!h'^y)W'^y!g'^y)j'^y!O'^y!W'^y(v'^y!U'^yQ'^y!d'^y~P#3zO]&cO!V+kO!T%uy#v%uy)W%uy)j%uy~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!U(Ua!h(Ua~P#3zO!W4xO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!U#}i!h#}i~P#3zO!U8PO~P&6yO!W8PO~P&6yO!O8PO~P&6yO!O8RO~P&6yO]&cO!V&bO!O#Qy!T#Qy!h#Qy#v#Qy)W#Qy)j#QyQ#Qy!d#Qy(v#Qy~O]&cO!V+kO!OqqQqq!dqq!hqq)Xqq)Wqq~O]&cOQ#Pi!d#Pi!h#Pi!O#Pi~O!V+kO~P*9jOQ#nX!d#nX!h#nX!O#nX~P(DjO!V&bO~P*9jOQ(OX](OXd'qXl'qXr(OXs(OXt(OXu(OXv(OXw(OXx(OXy(OX!V(OX!d(OX!h(OX!{'qX%v'qX(r'qX)S(OX)U(OX)V(OX!O(OX~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|OQ#_i!d#_i!h#_i!O#_i~P#3zO&r#WO&s$wOQ#fi!d#fi!h#fi~O(r-UO)X1YO)j1XOQ#`X!d#`X!h#`X~O!W8WO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W8WO~P!(zO!T#qi!x#qi#v#qi(v#qi)j#qi!O#qi!h#qi)W#qiQ#qi!d#qi)X#qi~O]&cO!V+kO~P*?fO]&YO!V&WO&r#WO&s$wO)S&VO)U&ZO)V&ZO~P*?fO!O8YO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!h8ZO!O)oX~O!O8]O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|OQ*TX!d*TX!h*TX~P#3zO)X8`OQ*SX!d*SX!h*SX~O)W8bO~O!O$bi!h#{a)W#{a~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W8eO)X#|O~P#3zO!O8gO~P!(zO!O8gO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O8gO~O]&cO!V&bO(v8mO~O)W8nO~O]&cO!V2uO!h%Oi)W%Oi!O%Oi~O!W8qO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W8qO)S8sO~P$%pO!W8qO~P!(zO]&cO!V2uO!h(Ya)W(Ya~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)W8tO)X#|O~P#3zO)W2iO~P!(zO)W8tO~OP%oO!O8uO(oQO~O!O8uO~O)W8vO~P%%eO#T8yO(x.PO)W8wO~O!h3pO!T)_i~O)X8}O!T'wa!h'wa~O)W9PO)j9RO~P)FwO)W9PO~O)W9PO)j9VO~P(&eOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O~P)GgO]&cO!V7jO!T!ya!h!ya#v!ya(v!ya)W!ya)j!ya!O!ya~O!W9^O)S9_O~P$%pO!T$WO!h7kO(v4OO)W9PO)j9VO~O!T$WO~P#EfO]&cO!O9bO!V7jO~O]&cO!V7jO!T&aa!h&aa#v&aa(v&aa)W&aa)j&aa!O&aa~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O)W&ba~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W9PO)X#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!U&oi!h&oi~P#3zO!V.}O]']i!T']i!X']i!Y']i![']i!^']i!_']i!a']i!b']i!c']i!e']i!f']i!h']i(u']i(w']i(x']i)S']i)T']i)U']i)V']i)W']i)X']i!g']i)j']i!O']i!W']i(v']i!U']iQ']i!d']i~O(r%nO)X9eO~O!h7zO!O*Ya~O!O9gO~P&6yO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!U(Ua)W#Zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|OQ#_q!d#_q!h#_q!O#_q~P#3zO&r#WO&s$wOQ#fq!d#fq!h#fq~O)j5jOQ#`a!d#`a!h#`a~O]&cO!V+kO!T#qq!x#qq#v#qq(v#qq)j#qq!O#qq!h#qq)W#qqQ#qq!d#qq)X#qq~O!h8ZO!O)oa~O)U5|O]&Vi!T&Vi!V&Vi)S&Vi)T&Vi)V&Vir&Vis&Vit&Viu&Viv&Viw&Vix&Viy&Vi!l&Vi!x&Vi#T&Vi#V&Vi#p&Vi#v&Vi(v&Vi(x&Vi)j&Via&Vid&Vil&Vi{&Vi}&Vi!o&Vi!r&Vi!s&Vi!t&Vi!u&Vi!v&Vi!{&Vi#a&Vi#b&Vi#i&Vi#t&Vi${&Vi%c&Vi%e&Vi%k&Vi%l&Vi%o&Vi%v&Vi&m&Vi&r&Vi&s&Vi(r&Vi)P&Vi)W&Vi!O&Vi!h&ViQ&Vi!d&Vi~O)W9jO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!O$bq!h#{i)W#{i~P#3zO!O9lO~P!(zO!O9lO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O9lO~O]&cO!V&bO(v9oO~O!O9pO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O9pO~O]&cO!V2uO!h%Oq)W%Oq!O%Oq~O!W9tO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W9tO~P!(zO)W6fO~P!(zO)W9uO~O)W9vO~O(x.PO)W9vO~O!h3pO!T)_q~O)X9xO!T'wi!h'wi~O!T$WO!h7kO(v4OO)W9yO)j9{O~O)W9yO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W9yO)X#|O~P#3zO)W9yO)j:OO~P)FwO]&cO!V7jO!T!yi!h!yi#v!yi(v!yi)W!yi)j!yi!O!yi~O!W:SO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W:SO)S:UO~P$%pO!W:SO~P!(zO]&cO!V7jO!T(da!h(da(v(da)W(da)j(da~O!O:WO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O:WO~O!O:]O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O:]O~O]&cO!V2uO!h%Oy)W%Oy!O%Oy~O)W:^O~O)W:_O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W:_O)X#|O~P#3zO!T$WO!h7kO(v4OO)W:_O)j:bO~O]&cO!V7jO!T!yq!h!yq#v!yq(v!yq)W!yq)j!yq!O!yq~O!W:dO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W:dO~P!(zO!O:fO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O:fO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W:hO)X#|O~P#3zO)W:hO~O]&cO!V7jO!T!yy!h!yy#v!yy(v!yy)W!yy)j!yy!O!yy~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W:lO)X#|O~P#3zO)W:lO~O]ZXlgXpZXpiX!TiX!VZX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX(uZX(v$]X(wZX(xZX)SZX)TZX)UZX)VZX)WZX)XZX)jZX~O]%WXlmXpnXp%WX!TnX!V%WX!X%WX!Y%WX![%WX!^%WX!_%WX!a%WX!b%WX!c%WX!e%WX!f%WX!gmX!h%WX(u%WX(w%WX(x%WX)S%WX)T%WX)U%WX)V%WX)X%WX)jmX!O%WXQ%WX!d%WX~O)W%WX!W%WX(v%WX!U%WX~P+GrO]nX]%WXdnXlmXpnXp%WXrnXsnXtnXunXvnXwnXxnXynX}nX!VnX!V%WX!rnX!snX!tnX!unX!vnX!xnX!{nX%vnX&rnX&snX(rnX)SnX)UnX)VnX!OnX!O%WX!hnX)XnX~O)WnX)jnX~P+JSO]%WXlmXpnXp%WX!V%WX!h%WXQ%WX!d%WX!O%WX~O!T%WX#v%WX)W%WX)j%WX(v%WX~P+LmOQnXQ%WX!TnX!X%WX!Y%WX![%WX!^%WX!_%WX!a%WX!b%WX!c%WX!dnX!d%WX!e%WX!f%WX!gmX!h%WX(u%WX(w%WX(x%WX)S%WX)T%WX)U%WX)V%WX)X%WX)jmX~P+JSO]nX]%WXlmXpnXp%WXrnXsnXtnXunXvnXwnXxnXynX}nX!V%WX!rnX!snX!tnX!unX!vnX!xnX!{nX%vnX&rnX&snX(rnX)SnX)UnX)VnX~O!TnX(vnX)WnX)jnX~P, eOdnX!VnX)W%WX~P, eOlmXpnX)W%WX~Od)oO%Y)pO(y:oO~Od)oO%Y)pO(y:tO~Od)oO%Y)pO(y:pO~Od$RO%Y*TO'[$TO'_$UO(y:oO~Od$RO%Y*TO'[$TO'_$UO(y:qO~Od$RO%Y*TO'[$TO'_$UO(y:sO~O]iXriXsiXtiXuiXviXwiXxiXyiX!OiX!ViX&riX&siX)SiX)UiX)ViXdiX}iX!riX!siX!tiX!uiX!viX!xiX!{iX%viX(riX~P#1jO]ZXlgXpZXpiX!VZX!hZX)WZX)jZX~O!TZX#vZX(vZX~P,'{OlgXpiX)PiX)WZX)jiX~O]ZX]iXdiXlgXpZXpiXriXsiXtiXuiXviXwiXxiXyiX}iX!VZX!ViX!riX!siX!tiX!uiX!viX!xiX!{iX%viX&riX&siX(riX)SiX)UiX)ViX!OZX!OiX!hiX)XiX)jiX~O)WZX~P,)VO]ZX]iXlgXpZXpiXriXsiXtiXuiXviXwiXxiXyiX!TiX!VZX!ViX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX!hiX&riX&siX(uZX(wZX(xZX)SZX)SiX)TZX)UZX)UiX)VZX)ViX)XZX)XiX)jZX~OQZXQiX!dZX!diX~P,+pO]iXdiXriXsiXtiXuiXviXwiXxiXyiX}iX!ViX!riX!siX!tiX!uiX!viX!xiX!{iX%viX&riX&siX(riX)SiX)UiX)ViX~P#1jO]ZX]iXdiXlgXpZXpiXriXsiXtiXuiXviXwiXxiXyiX}iX!VZX!ViX!riX!siX!tiX!uiX!viX!xiX!{iX%viX&riX&siX(riX)SiX)UiX)ViX~O)WiX~P,0rOdiX}iX!OZX!OiX!riX!siX!tiX!uiX!viX!xiX!{iX%viX(riX)jiX~P,+pO]ZX]iXlgXpZXpiXriXsiXtiXuiXviXwiXxiXyiX}iX!TiX!VZX!riX!siX!tiX!uiX!viX!xiX!{iX%viX&riX&siX(riX(viX)SiX)UiX)ViX)WiX)jiX~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O~PBUOd$RO%Y*TO(y:oO~Od$RO%Y*TO(y:pO~Od$RO%Y*TO(y:vO~Od$RO%Y*TO(y:uO~O]%hOd!POl%bOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!V%kO!{!dO!|%RO%v$mO(r$xO)S;aO)U;bO)V;bO~O]%hOd!POl%bO!V%kO!{!dO%v$mO(r$xO)S;aO)U;bO)V;bO~Od$RO%Y$SO(y:pO~Od$RO%Y$SO(y:tO~Ol:yO~Ol:xO~O]cXlgXpiX!TcX~Od)oO%Y*TO(y:oO~Od)oO%Y*TO(y:pO~Od)oO%Y*TO(y:qO~Od)oO%Y*TO(y:rO~Od)oO%Y*TO(y:sO~Od)oO%Y*TO(y:uO~Od)oO%Y*TO(y:vO~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O~P,9OO](}Xr(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}X}(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)S(}X)U(}X)V(}X)j(}X~Ol:xO!T(}X(v(}X)W(}X~P,<}O]&wXlmXpnX!T&wX~Od4kO%Y*TO(y;tO~Ol;[O)S;xO)U5aO)V5aO~P(ElOd!POl%bO!{!dO%v$mO(r$xO~O]1SO!V1QO)S0zO)U;yO)V;yOQ#nX!d#nX!h#nX!O#nX~P,?yO)S;YO~Ol;hO~Ol;iO~Ol;jO~Ol;lO~Ol;mO~Ol;nO~Ol;lO!T$WOQ(}X!d(}X!h(}X)X(}X!O(}X)j(}X~P$GQOl;jO!T$WO~P$GQOl;hO!g$YO)j$YO~Ol;jO!g$YO)j$YO~Ol;lO!g$YO)j$YO~Ol;iO!O(}X!h(}X)X(}X)j(}X~P$GQOd/^O%Y*TO(y;tO~Ol;uO~O)S<YO~OV'e'h'i'g(o)Y!R(rST%Z!Y!['jd%[!i'R!f]'f*Z'k(w!^!_'l'm'l~",goto:"%5]*ZPPPPPP*[P*_PP.T4iP7j7j:tP:t>OP>i>{?aFXMX!&]!,sP!3m!4b!5VP!5qPPPPPPPP!6[P!7tPP!9V!:oP!:uPPPPPP!:xP!:xPP!:xPPPPPPPPP!;U!>lP!>oPP!?]!@QPPPPP!@UP>l!AgPP>l!Cn!Eo!E}!Gd!ITP!I`P!Io!Io!MP#!`##v#'S#*^!Eo#*hPP!Eo#*o#*u#*h#*h#*xP#*|#+k#+k#+k#+k!ITP#,U#,g#.|P#/bP#0}P#1R#1Z#2O#2Z#4i#4q#4q#1RP#1RP#4x#5OP#5YPP#5u#6d#7U#5uP#7v#8SP#5uP#5uPP#5u#5uP#5uP#5uP#5uP#5uP#5uP#5uP#8V#5Y#8sP#9YP#9o#9o#9o#9o#9|#1RP#:d#?`#?}PPPPPPPP#@uP#ATP#ATP#Aa#Dn#9OPP#@}#EQP#Ee#Ep#Ev#Ev#@}#FlP#1R#1R#1R#1R#1RP!Io#GW#G_#G_#G_#Gc!Ly#Gm!Ly#Gq!E}!E}!E}#Gt#L^!E}>l>l>l$#V!@Q!@Q!@Q!@Q!@Q!@Q!6[!6[!6[$#jP$%V$%e!6[$%kPP!6[$'y$'|#@l$(P:t7j$+V$-Q$.q$0a7jPP7j$2T7jP7j7jP7jP$5Z7jP7jPP7j$5gPPPPPPPPP*[P$8o$8u$;^$=d$=j$>Q$>[$>g$>v$>|$@[$AZ$Ab$Ai$Ao$Aw$BR$BX$Bd$Bj$Bs$B{$CW$C^$Ch$Cn$Cx$DP$D`$Df$DlP$Dr$Dz$ER$Ea$F}$GT$GZ$Gb$GkPPPPPPPP$Gq$GuPPPPP$Nw$'y$Nz%$S%&[P%&i%&lPPPPPPPPPP%&x%'{%(R%(V%)|%+Z%+|%,T%.d%.jPPP%.t%/P%/S%/Y%0a%0d%0n%0x%0|%2Q%2s%2y#@uP%3d%3t%3w%4X%4e%4i%4o%4u$'y$'|$'|%4x%4{P%5V%5YR#cP'`mO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fU%om%p7QQ&m!`Q(j#]d0P)}/|/}0O0R4}5O5P5S8QR7Q3Tb}Oaewx{!g&S*q&v$i[!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0{1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fS%`f0h#d%jgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YS%qm!YS&u!h#PQ']!tQ'g!yQ'h!zQ(j#`Q(k#]Q(l#^Q*x%kQ,W&lQ,]&nQ-S'^Q-d'fQ-k'qS.r(Z4XQ/f)gQ0e*mQ2Q,[Q2X,cQ3O-eQ4b.|Q4f/TQ5f0}Q6[2TQ6}3PQ8a6ZQ9e7zR;Z1Q$|#hS!]$y%Q%T%Z&j&k'Q'X'Z'a'c(a(e(h(w(x)R)S)T)U)V)W)X)Y)Z)[)])^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:iQ&p!dQ(g#ZQ(s#bQ)j$T[*s%e*W0k2`2g2{Q,^&oQ/O(fQ/S(kQ/Z(tS/i)i/PQ0r+QS4q/j/kR8O4r'a![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f'a!VO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ)O#kS+Q%y0sQ/r)sk3}.g3s3w3z3{7c7e7f7h7k9X9Y:RQ)Q#kk3|.g3s3w3z3{7c7e7f7h7k9X9Y:Rl)P#k.g3s3w3z3{7c7e7f7h7k9X9Y:RT+Q%y0s[UOwx!g&S*qW$`[e$e(b#l$p_!f!u!}#R#S#T#U#V#Z$S$T$l%U&U&Y&c&m'_'}(P(U(^(g)j)p+[+a+b+t+y,X,k,z-Q-o-t.W.X._.`.d.q.u1T1X1f1k1m2l3[3]3^3p3t5j5}6P7[8Z![%cg$g%d%i&s*Y*t+],l,v-_0z1O2_;W;X;Y;a;b;o;p;q;r;v;w;y<W<X<YY%snp%w-p.fl(|#k.g3s3w3z3{7c7e7f7h7k9X9Y:RS;e't-wU;f(Q.m.o&|;{af{|!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k$|$}%S%]%h%m&Q&W&b&y&|'O'i'j'u'y(`(i)l)r*`*b*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0]0h0y0{1Q1a1b1l1p1z2c2i2j2u4O4R4W4a5Y5a5e5q6_6c6f6g6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f;`;xQ;|1Sd;}&x'P'b,w-]-^-a2f2z2}W<O&f*v1|3iQ<P#O[<Q!t'^'f,[2T6ZT<]%y0s[VOwx!g&S*qW$a[e$e(bQ$p.u!j$q_!f!u!}#V#Z$S$T$l%U&U&Y&c&m'_(g)j)p+[+a+t,X,k,z-Q-o.d1T1X1f1k1m2l3t5j8Z&^$zaf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f![%cg$g%d%i&s*Y*t+],l,v-_0z1O2_;W;X;Y;a;b;o;p;q;r;v;w;y<W<X<YY%snp%w-p.fQ'r#O|'|#R#S#T#U'}(P(U(^+b+y.W.X._.`.q3[3]3^3p5}6P7[l(|#k.g3s3w3z3{7c7e7f7h7k9X9Y:RS-n't-wQ3W-tU;s(Q.m.on;{|$|$}%S%h'u*`*b0]0y2j5a6g;`;x[<Q!t'^'f,[2T6ZW<R&f*v1|3id<S&x'P'b,w-]-^-a2f2z2}Q<Z1ST<]%y0s!Q!UO[ewx!g$e&S&f&x'P'b(b*q*v,w-]-^-a1|2f2z2}3i!v$t_!f!u!}#O#V#Z$S$T$l%U&U&Y&c&m'_'t(Q(g)j)p+[+t,X,k,z-Q-o-w.d.m.o1S1T1X1f1k1m2l3t5j8Z&^%Paf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f$Q%lgnp|#k$g$|$}%S%d%h%i%w%y&s'^'f'u*Y*`*b*t+],[,l,v-_-p.f.g0]0s0y0z1O2T2_2j3s3w3z3{5a6Z6g7c7e7f7h7k9X9Y:R;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YQ'[!tz(O#R#S#T#U'}(P(U(^+y.W.X._.`.q3[3]3^3p5}6P7[f-Z'`-T-V-Y2p2q2s2v6q6r8pQ1W+aQ1Z+bQ2k,yQ3X-tQ4[.uQ5l1YR8V5m!Q!UO[ewx!g$e&S&f&x'P'b(b*q*v,w-]-^-a1|2f2z2}3i!x$t_!f!u!}#O#V#Z$S$T$l%U&U&Y&c&m'_'t(Q(g)j)p+[+a+t,X,k,z-Q-o-w.d.m.o1S1T1X1f1k1m2l3t5j8Z&^%Paf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f$S%lgnp|!t#k$g$|$}%S%d%h%i%w%y&s'^'f'u*Y*`*b*t+],[,l,v-_-p.f.g0]0s0y0z1O2T2_2j3s3w3z3{5a6Z6g7c7e7f7h7k9X9Y:R;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Y|(O#R#S#T#U'}(P(U(^+b+y.W.X._.`.q3[3]3^3p5}6P7[Q3X-tR4[.u[WOwx!g&S*qW$b[e$e(b#l$p_!f!u!}#R#S#T#U#V#Z$S$T$l%U&U&Y&c&m'_'}(P(U(^(g)j)p+[+a+b+t+y,X,k,z-Q-o-t.W.X._.`.d.q.u1T1X1f1k1m2l3[3]3^3p3t5j5}6P7[8Z![%cg$g%d%i&s*Y*t+],l,v-_0z1O2_;W;X;Y;a;b;o;p;q;r;v;w;y<W<X<YY%snp%w-p.fl(|#k.g3s3w3z3{7c7e7f7h7k9X9Y:RS;e't-wU;f(Q.m.on;{|$|$}%S%h'u*`*b0]0y2j5a6g;`;xQ;|1SQ<P#O[<Q!t'^'f,[2T6Z&^<Taf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fd<U&x'P'b,w-]-^-a2f2z2}W<V&f*v1|3iT<]%y0sp$PT$_$o%b%r({:z:{:|;[;];^;_;c;d<[o)m$V*U*[/_:w:x:y;h;i;j;k;l;m;n;up$QT$_$o%b%r({:z:{:|;[;];^;_;c;d<[o)n$V*U*[/_:w:x:y;h;i;j;k;l;m;n;u^&e}!O$i$j%`%j;Zd&i!U$t%P%l'[(O1W1Z3X4[V/a)O)P3}S%Ye$eQ,T&fQ.{(bQ2m-QQ5y1mQ6V1|Q6m2lR9h8Z#}!TO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o1S1T1X1f1k1m1|2f2l2z2}3i3t5j8Z#[^O[_`wx!f!g!}#O$S$d$l$s$u&S&U&Y&c&m&r&x'P'b't(Q)p*]*q*v+[,X,k,w,z-]-^-a-o-t-w.d.m.o1S1T1f2f2z2}3i3t_(U#R#S#T+b3[3]3^#}ZO[wx!g!k#R#S#T%m&S&U&Y&c&m&w&x&y&|'O'P'['b't'x'}(P(Q(U*q*v+[+b,X,h,k,q-P-]-^-a-o-t-w-z._.d.m.q1S1T1f2c2k2z2}3[3]3^3i6c6j8g9l9p:W:]:fQ$]YR0T*OR*Q$]e0P)}/|/}0O0R4}5O5P5S8Q'`!YO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fe0P)}/|/}0O0R4}5O5P5S8QR5T0T^(T#R#S#T+b3[3]3^Y.]'}(R(U(V7TU3k.Z.^.qS7X3l4VR9c7s^(S#R#S#T+b3[3]3^[.['}(R(T(U(V7TW3j.Z.].^.qU7W3k3l4VS8z7X7sR:V9cT.k(Q.md]Owx!g&S't(Q*q-w.m!v^[_`!f!}#O$S$d$l$s$u&U&Y&c&m&r&x'P'b)p*]*v+[,X,k,w,z-]-^-a-o-t.d.o1S1T1f2f2z2}3i3tQ%tnT1u+}1v!jbOaenpwx{|!g#O$|$}%S%h%w&S't'u(Q*`*b*q-p-w.f.m.o0]0y1S2j5a6g;`;xf-W'`-T-V-Y2p2q2s2v6q6r8pj3x.g3s3w3z3{7c7e7f7h7k9X9Y:Rr;zg$g%d%i&s*Y*t,l,v-_2_;W;X;Y;o;q;vi<^+]0z1O;a;b;p;r;w;y<W<X<Y!O&^y%X&V&Y&Z'k)h*d*f+]+e+x/m0^0y0z1O1S1j5a5v;x;yz&az%O%W%e&d's*W*_,b-x0Z0[0k0|2`2g2{5V5b6l8iS'{#Q.Xn+l&X*g+f+m+p-j/h0_1R1^4t5W5`5u8XQ2W,a^2t-X2r2x6p6w8o9se7i3y7_7g7o7p9U9W9`:Q:cS+^&U1TY+n&Y&c*v1S3iR5s1f#w!POaegnpwx{|!g#O$g$|$}%S%d%h%i%w&S&s't'u(Q*Y*`*b*q*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Y`oOwx!g&S't*q-w#U!Paeg{|#O$g$|$}%S%d%h%i&s'u*Y*`*b*t+],l,v-_0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YU%vnp-pQ*}%wS.e(Q.mT3v.f.oW+r&^+l+s1cV+z&a+{7iQ+x&`U+z&a+{7iQ-w'tT.S'y.U'`![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fX1r+y.X5}6P'W!VO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fW1r+y.X5}6PR2e,s!WjO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fY%Ve$e(b1p3iQ'S!nS(y#i5YQ,m&xQ,x'PS.O'y.UQ2b,nQ6k2iQ6|2}Q8h6fR9m8e'W![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fX1r+y.X5}6P'ayO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k+y,P,R,n,q,w-]-^-a-g.P.Q.U.X.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q5}6P6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ&`yS't#O-uR1[+cS+^&U1TR5n1[Q1P+]R5g1OR1P+]T+^&U1Tz&[%X&V&Y&Z'k)h*d*f+]+e/m0^0y0z1O1S1j5a5v;x;yQ&]yR1n+x!P&[y%X&V&Y&Z'k)h*d*f+]+e+x/m0^0y0z1O1S1j5a5v;x;yQ+u&^S+|&a7iS1d+l+sQ1t+{R5r1c!WkO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fS%zo.eS&Oq-rQ&_yQ&q!eQ'e!yQ*p%eU*{%v%{3vS+P%x%}Q+q&]Q,Y&mS,Z&n'gQ,r&{S0X*W,bS0o*|*}Q0q+OQ1o+xS2S,]-fQ5U0ZQ5Z0pQ5{1nQ6Y2RQ6]2WQ7n3yQ9S7_R:P9U[uOwx!g&S*qQ,Y&mQ-v'tQ3Y-tR3_-wxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fU$h[&|-^S%zo.eS&Oq-rQ*p%eU*{%v%{3vS+P%x%}S0X*W,bS0o*|*}Q0q+OQ5U0ZQ5Z0pQ7n3yQ9S7_R:P9UT,_&q,`]uOwx!g&S*q[uOwx!g&S*qQ,Y&mQ,n&xQ,w'PW-`'b-]-a2zQ-v'tQ3Y-tQ3_-wR6{2}[%fg$g,l,v-_2_R0l*t^$XV!U$a$z%P<R<SQ'S!nS)`#}*vS)v$W*qQ)y$YY*s%e*W0k2g2{Q/O(fS/i)i/PS0a*h4aS0j*r6_Q0r+QQ4Q.gQ4n/cS4q/j/kS4v/n5YQ4{/uQ6`2`U7a3s3y4RQ8O4rQ8k6hY9Q7_7b7c7l7mQ9r8mW9z9O9R9U9VQ:Z9oU:a9{9}:OR:j:bS)v$W*qT4v/n5YZ)t$W)u*q/n5YQ&w!hR'x#PS,g&v'vQ2[,eR6^2ZxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fV$h[&|-^!XkO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:f!WhO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fR'W!q!WkO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fR,n&xQ&y!iQ&{!jQ'O!lR,q&zR,o&xxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fX-`'b-]-a2z[uOwx!g&S*qQ,z'PQ-v'tS.k(Q.mR3_-w[uOwx!g&S*qQ,z'PW-`'b-]-a2zT.k(Q.mg-Z'`-T-V-Y2p2q2s2v6q6r8pylOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fb!OOaewx{!g&S*q&|$j[f!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f#d%jgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YQ']!tQ-S'^Q-d'fQ2Q,[Q6[2TR8a6Zj$RT$_%b%r:z:{:|;[;];^;_;c;di)o$V*U:w:x:y;h;i;j;k;l;m;nj$RT$_%b%r:z:{:|;[;];^;_;c;dh)o$V*U:w:x:y;h;i;j;k;l;m;nS/^({<[V4k/_/`;u[uOwx!g&S*qQ-v'tR3_-w[uOwx!g&S*qT.k(Q.m'`!YO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fR7R3T[uOwx!g&S*qQ-v'tS.k(Q.mR3_-w[pOwx!g&S*qQ%wnS-p't-wT.f(Q.mS%{o.eS*|%v3vR0p*}Q+R%yR5]0sS%zo.eS&Oq-rU*{%v%{3vS+P%x%}S0o*|*}Q0q+OQ5Z0pQ7n3yQ9S7_R:P9U`qOwx!g&S(Q*q.mS%xn-pU%}p.f.oQ+O%wT-r't-wS'z#Q.XR.Y'{T.R'y.US.S'y.UQ8x7UR9w8yT5}1q8_R6P1q#d!Pgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Yb!QOaewx{!g&S*q&}![[f!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f#d!Pgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Yb!QOaewx{!g&S*q&|![[f!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fk3|.g3s3w3z3{7c7e7f7h7k9X9Y:RQ4Q.gS7a3s3yU9Q7_7c7lS9z9O9UR:a9}#|!TO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o1S1T1X1f1k1m1|2f2l2z2}3i3t5j8ZR4].uQ(]#US.v([(^S4^.w.xR7w4_Q.s(ZR7u4X#|!TO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o1S1T1X1f1k1m1|2f2l2z2}3i3t5j8Zp$w`$d$s%X&r'`(_(f)i*d-T/k1j5k5v8Uq(}#k%y.g0s3s3w3z3{7c7e7f7h7k9X9Y:RR,U&fR6W1|'X!VO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f$q#rS%T%Z'Q'X'Z'a'c(a(e(h(w(x)R)S)U)V)W)X)Y)Z)[)])^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i$]#sS%T%Z'Q'X'Z'a'c(h(w(x)R)V)^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i$Z#tS%T%Z'Q'X'Z'a'c(h(w(x)R)^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i$c#wS%T%Z'Q'X'Z'a'c(h(w(x)R)U)V)W)X)^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i'X![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ/P(fQ/j)iQ4r/kR9d7y']![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ#eQR(u#eU$|a;`;xb%Ue$e&f(b-Q1m1|2l8ZQ'_!u!Q*^$|%U'_*`*f+h,P0]0^1b2p6q6t7e8p9X9]:R;W;o;p;v;w<WS*`$}%SQ*f%XS+h&W1QQ,P&bQ0]*bQ0^*dQ1b+kQ2p-VS6q2q2sQ6t2uQ7e3wQ8p6rS9X7f7hQ9]7jQ:R9YQ;W%dS;o;X;YS;p<X<YQ;v;qQ;w;rT<W0z;a[[Owx!g&S*ql$c[&|'}+[,X,h,k-P-^-o-z._.d.ql&|!k%m&y'O,q2c6c6j8g9l9p:W:]:f^'}#R#S#T+b3[3]3^`+[&U&Y&c*v1S1T1f3iS,X&m-tQ,h&wU,k&x'P2}S-P'[2kW-^'b-]-a2zS-o't-wQ-z'xQ._(PS.d(Q.mR.q(UQ)|$[R/x)|Q0R)}Q4}/|Q5O/}Q5P0OY5Q0R4}5O5P8QR8Q5SQ*P$]S0U*P0VR0V*QS.`(P._S3n.`7[R7[3pQ3q.aS7Y3o3rU7^3q7Y8{R8{7ZQ.m(QR4S.m!|_O[wx!f!g!}#O$S$l&S&U&Y&c&m&x'P'b't(Q)p*q*v+[,X,k,w,z-]-^-a-o-t-w.d.m.o1S1T1f2f2z2}3i3tU$r_$u*]U$u`$d&rR*]$sU$}a;`;xd*a$}*b2q6r7f9Y;X;q;r<XQ*b%SQ2q-VQ6r2sQ7f3wQ9Y7hQ;X%dQ;q;YQ;r<YT<X0z;aS+{&a7iR1s+{S*j%Z/pR0c*jQ1U+_R5i1UU+e&V0z;xR1]+eQ+s&^Q1c+lT1i+s1cQ8[5yR9i8[QwOS&Rw&ST&Sx*qQ,`&qR2V,`W)u$W*q/n5YR/t)uU/o)q)v0gR4w/o[*u%e%f*W2`2g2{R0m*uQ,d&uR2Y,dQ-a'bQ2z-]T2|-a2zQ2w-XR6x2wQ-f'gQ2R,]T3Q-f2RS%pm7QR*z%pdnOwx!g&S't(Q*q-w.mR%unQ0t+RR5^0tQ.U'yR3f.UQ1v+}R6Q1vU*n%`*x;ZR0f*nS1g+n0nR5t1gQ7l3yQ9O7_U9a7l9O9}R9}9U$O!SO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o.u1S1T1X1f1k1m1|2f2l2z2}3i3t5j8ZR&g!SQ4Y.sR7v4YQ1},UR6X1}S/d)_)`R4o/dW(o#a(j(k/SR/W(oQ7{4fR9f7{T)a#}*v!USO[wx!g!k%m&S&y&|'O'b,q-]-^-a2c2z6c6j8g9l9p:W:]:fj$ya{$k%]+j,R1a1z5q6v8s9_:UY%Te$e(b1p3iY%Zf$f(i)l*lQ&j!WQ&k!XQ'Q!nQ'X!rQ'Z!sQ'a!vQ'c!xQ(a#XQ(e#YS(h#[+YQ(w#gQ(x#iQ)R#lQ)S#qQ)T#rQ)U#sQ)V#tQ)W#uQ)X#vQ)Y#wQ)Z#xQ)[#yQ)]#zQ)^#{S)_#}*vQ)k$UQ)q$WQ)x$YQ+X&QS+g&W1QQ,O&bQ,S&fQ,j&xQ,u'PQ-h'iQ-i'jS-|'y.UQ.y(`S/p)r0hS0`*h4aQ0b*iQ0g*qQ0i*rQ0w+WS1`+h+kQ1y,PQ2a,nS2h,w6{Q3R-gQ3c.PQ3d.QQ4c.}Q4d/QQ4j/[Q4m/cQ4s/lQ4u/nQ4y/sQ4z/uQ5d0{Q5p1bQ5w1lQ6U1|S6e2f8tQ6i2iQ6s2uQ6z2}Q7q4OQ7r4RQ7t4WQ8S5YQ8T5eQ8c6_Q8f6fQ8j6hQ8r6tS9T7b7mQ9[7jQ9k8eQ9q8mS9|9R9VQ:T9]Q:Y9oS:`9{:OR:i:bR,V&fd]Owx!g&S't(Q*q-w.m!v^[_`!f!}#O$S$d$l$s$u&U&Y&c&m&r&x'P'b)p*]*v+[,X,k,w,z-]-^-a-o-t.d.o1S1T1f2f2z2}3i3t#r${ae!u$e$|$}%S%U%X%d&W&b&f'_(b*`*b*d*f+h+k,P-Q-V0]0^1Q1b1m1|2l2p2q2s2u3w6q6r6t7e7f7h7j8Z8p9X9Y9]:R;W;X;Y;`;a;o;p;q;r;v;w<W<X<YQ%tnS+d&V+eW+r&^+l+s1cU+z&a+{7iQ1k+tT5c0z;x``Owx!g&S't*q-wS$d[-oQ$s_b%Xe$e&f(b-Q1m1|2l8Z!h&r!f!}#O$S$l&U&Y&c&m&x'P'b(Q)p*v+[,X,k,w,z-]-^-a-t.d.m.o1S1T1f2f2z2}3i3tQ'`!uS(_#V+aQ(f#ZS)i$T(gQ*d%UQ-T'_Q/k)jQ1j+tQ5k1XQ5v1kR8U5jS(W#R3]S(X#S3^V(Y#T+b3[R$^Ye0Q)}/|/}0O0R4}5O5P5S8QW(R#R#S#T+bQ([#US.Z'}(US.a(P._Q.x(^W1r+y.X5}6PQ3Z-tQ3h.WQ3o.`Q4V.qU7T3[3]3^Q7]3pR8|7[Q.b(PR3m._T.l(Q.mdgOwx!g&S&m't*q-t-wU$g[,X-oQ&s!fQ'k!}Q'u#OQ)h$SQ*Y$l`+]&U&Y&c*v1S1T1f3iQ,l&xQ,v'PY-_'b-]-a2z2}S.g(Q.mQ/m)pQ0y+[S2_,k-^S2j,w,zS3s.d.oQ6g2fR7c3td]Owx!g&S't(Q*q-w.m!v^[_`!f!}#O$S$d$l$s$u&U&Y&c&m&r&x'P'b)p*]*v+[,X,k,w,z-]-^-a-o-t.d.o1S1T1f2f2z2}3i3tR%tnQ3y.gQ7_3sQ7g3wQ7o3zQ7p3{Q9U7cU9W7e7f7hQ9`7kS:Q9X9YR:c:RZ+o&Y&c*v1S3ipzOnpwx!g%w&S't(Q*q-p-w.f.m.o[%Oa%d0z;`;a;xU%We%h1SQ%eg^&d{|%i1O5a;b;yQ's#OQ*W$gb*_$|$}%S;W;X;Y<W<X<YQ,b&sQ-x'uQ0Z*Y[0[*`*b;o;p;q;rQ0k*tQ0|+]Q2`,lQ2g,vS2{-_2_U5V0];v;wQ5b0yQ6l2jR8i6gQ+}&aR9Z7iS1q+y.XQ8^5}R8_6P[%^f$f(i)l)r0hR0d*lR+`&UQ+_&UR5h1TS&Xy+xQ*g%XU+f&V0z;xS+m&Y1SW+p&Z1O5a;yQ-j'kQ/h)hS0_*d*fQ1R+]Q1^+eQ4t/mQ5W0^Q5`0yQ5u1jR8X5vR5z1mYvOwx&S*qR&t!gW%gg,l,v-_T*X$g2_T)w$W*q[uOwx!g&S*qQ&}!kQ*y%mQ,p&yQ,t'OQ2d,qQ6b2cQ8d6cQ8l6jQ9n8gQ:X9lQ:[9pQ:e:WQ:g:]R:k:fxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fU$h[&|-^X-`'b-]-a2zQ-['`R2o-TS-X'`-TQ2r-VQ2x-YU6p2p2q2sQ6w2vS8o6q6rR9s8p[rOwx!g&S*qS-q't-wT.h(Q.mR+S%y[sOwx!g&S*qS-s't-wT.i(Q.m[tOwx!g&S*qT.j(Q.mT.T'y.UX%af%k0h1QQ.w([R4_.xR.t(ZR(d#XQ(r#aS/R(j(kR4e/SR/V(lR4g/T",nodeNames:"⚠ RawString > MacroName LineComment BlockComment PreprocDirective #include String EscapeSequence SystemLibString Identifier ArgumentList ( ConditionalExpression AssignmentExpression CallExpression PrimitiveType FieldExpression FieldIdentifier DestructorName TemplateMethod ScopedFieldIdentifier NamespaceIdentifier TemplateType TypeIdentifier ScopedTypeIdentifier ScopedNamespaceIdentifier :: NamespaceIdentifier TypeIdentifier TemplateArgumentList < TypeDescriptor const volatile restrict _Atomic mutable constexpr constinit consteval StructSpecifier struct MsDeclspecModifier __declspec ) Attribute AttributeName Identifier AttributeArgs { } [ ] UpdateOp ArithOp ArithOp ArithOp LogicOp BitOp BitOp BitOp CompareOp CompareOp CompareOp > CompareOp BitOp UpdateOp , Number CharLiteral AttributeArgs VirtualSpecifier BaseClassClause Access virtual FieldDeclarationList FieldDeclaration extern static register inline thread_local AttributeSpecifier __attribute__ PointerDeclarator MsBasedModifier __based MsPointerModifier FunctionDeclarator ParameterList ParameterDeclaration PointerDeclarator FunctionDeclarator Noexcept noexcept RequiresClause requires True False ParenthesizedExpression CommaExpression LambdaExpression LambdaCaptureSpecifier TemplateParameterList OptionalParameterDeclaration TypeParameterDeclaration typename class VariadicParameterDeclaration VariadicDeclarator ReferenceDeclarator OptionalTypeParameterDeclaration VariadicTypeParameterDeclaration TemplateTemplateParameterDeclaration template AbstractFunctionDeclarator AbstractPointerDeclarator AbstractArrayDeclarator AbstractParenthesizedDeclarator AbstractReferenceDeclarator ThrowSpecifier throw TrailingReturnType CompoundStatement FunctionDefinition MsCallModifier TryStatement try CatchClause catch LinkageSpecification Declaration InitDeclarator InitializerList InitializerPair SubscriptDesignator FieldDesignator ExportDeclaration export ImportDeclaration import ModuleName PartitionName HeaderName CaseStatement case default LabeledStatement StatementIdentifier ExpressionStatement IfStatement if ConditionClause Declaration else SwitchStatement switch DoStatement do while WhileStatement ForStatement for ReturnStatement return BreakStatement break ContinueStatement continue GotoStatement goto CoReturnStatement co_return CoYieldStatement co_yield AttributeStatement ForRangeLoop AliasDeclaration using TypeDefinition typedef PointerDeclarator FunctionDeclarator ArrayDeclarator ParenthesizedDeclarator ThrowStatement NamespaceDefinition namespace ScopedIdentifier Identifier OperatorName operator ArithOp BitOp CompareOp LogicOp new delete co_await ConceptDefinition concept UsingDeclaration enum StaticAssertDeclaration static_assert ConcatenatedString TemplateDeclaration FriendDeclaration friend union FunctionDefinition ExplicitFunctionSpecifier explicit FieldInitializerList FieldInitializer DefaultMethodClause DeleteMethodClause FunctionDefinition OperatorCast operator TemplateInstantiation FunctionDefinition FunctionDefinition Declaration ModuleDeclaration module RequiresExpression RequirementList SimpleRequirement TypeRequirement CompoundRequirement ReturnTypeRequirement ConstraintConjuction LogicOp ConstraintDisjunction LogicOp ArrayDeclarator ParenthesizedDeclarator ReferenceDeclarator TemplateFunction OperatorName StructuredBindingDeclarator ArrayDeclarator ParenthesizedDeclarator ReferenceDeclarator BitfieldClause FunctionDefinition FunctionDefinition Declaration FunctionDefinition Declaration AccessSpecifier UnionSpecifier ClassSpecifier EnumSpecifier SizedTypeSpecifier TypeSize EnumeratorList Enumerator DependentType Decltype decltype auto PlaceholderTypeSpecifier ParameterPackExpansion ParameterPackExpansion FieldIdentifier PointerExpression SubscriptExpression BinaryExpression ArithOp LogicOp LogicOp BitOp UnaryExpression LogicOp BitOp UpdateExpression CastExpression SizeofExpression sizeof CoAwaitExpression CompoundLiteralExpression NULL NewExpression new NewDeclarator DeleteExpression delete ParameterPackExpansion nullptr this UserDefinedLiteral ParamPack #define PreprocArg #if #ifdef #ifndef #else #endif #elif PreprocDirectiveName Macro Program",maxTerm:425,nodeProps:[["group",-35,1,8,11,14,15,16,18,71,72,100,101,102,104,191,208,229,242,243,270,271,272,277,280,281,282,284,285,286,287,290,292,293,294,295,296,"Expression",-13,17,24,25,26,42,255,256,257,258,262,263,265,266,"Type",-19,126,129,147,150,152,153,158,160,163,164,166,168,170,172,174,176,178,179,188,"Statement"]],propSources:[Rx],skippedNodes:[0,3,4,5,6,7,10,297,298,299,300,301,302,303,304,305,306,347,348],repeatNodeCount:41,tokenData:"&*r7ZR!UOX$eXY({YZ.gZ]$e]^+P^p$epq({qr.}rs0}st2ktu$euv!7dvw!9bwx!;exy!<Yyz!=Tz{!>O{|!?R|}!AV}!O!BQ!O!P!DX!P!Q#+y!Q!R#Az!R![$(x![!]$Ag!]!^$Cc!^!_$D^!_!`%1W!`!a%2X!a!b%5_!b!c$e!c!n%6Y!n!o%7q!o!w%6Y!w!x%7q!x!}%6Y!}#O%:n#O#P%<g#P#Q%Kz#Q#R%Ms#R#S%6Y#S#T$e#T#i%6Y#i#j%Nv#j#o%6Y#o#p&!e#p#q&#`#q#r&%f#r#s&&a#s;'S$e;'S;=`(u<%lO$e&t$nY)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e&r%eW)ZW'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^&j&SU'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&j&kX'f&jOY%}YZ%}Z]%}]^'W^#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&j']V'f&jOY%}YZ%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&j'uP;=`<%l%}&r'{P;=`<%l%^&l(VW(pQ'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O&l(rP;=`<%l(O&t(xP;=`<%l$e7Z)Y`)ZW(pQ(n.o'f&j*Z)`OX$eXY({YZ*[Z]$e]^+P^p$epq({qr$ers%^sw$ewx(Ox#O$e#O#P,^#P;'S$e;'S;=`(u<%lO$e.o*aT(n.oXY*[YZ*[]^*[pq*[#O#P*p.o*sQYZ*[]^*y.o*|PYZ*[4e+[`)ZW(pQ(n.o'f&jOX$eXY+PYZ*[Z]$e]^+P^p$epq+Pqr$ers%^sw$ewx(Ox#O$e#O#P,^#P;'S$e;'S;=`(u<%lO$e4Z,cX'f&jOY%}YZ-OZ]%}]^-{^#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}4Z-V[(n.o'f&jOX%}XY-OYZ*[Z]%}]^-O^p%}pq-Oq#O%}#O#P,^#P;'S%};'S;=`'r<%lO%}4Z.QV'f&jOY%}YZ-OZ#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}7P.nT*W)`(n.oXY*[YZ*[]^*[pq*[#O#P*p3o/[[%^!b'QP)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`0Q!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o0_Y%]!b!a,g)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e6e1YY)ZW(qQ(o/]'f&jOY%^Zr%^rs1xsw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^(U2RW)x!b)ZW'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^4e2tf)ZW(pQ'f&jOX$eXY2kZp$epq2kqr$ers%^sw$ewx(Ox!c$e!c!}4Y!}#O$e#O#P&f#P#T$e#T#W4Y#W#X5m#X#Y>u#Y#]4Y#]#^NZ#^#o4Y#o;'S$e;'S;=`(u<%lO$e4e4eb)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e5xd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y7W#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e7cd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z8q#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4e8|d)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#]4Y#]#^:[#^#o4Y#o;'S$e;'S;=`(u<%lO$e4e:gd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#b4Y#b#c;u#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e<Qd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y=`#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e=mb)ZW(pQ'e.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e?Qf)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#`4Y#`#a@f#a#b4Y#b#cHV#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e@qf)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#]4Y#]#^BV#^#g4Y#g#hEV#h#o4Y#o;'S$e;'S;=`(u<%lO$e4eBbd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#ZCp#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4eC}b)ZW(pQ'f&j'l.o'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4eEbd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#YFp#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4eF}b)ZW(pQ'j.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4eHbd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#XIp#X#o4Y#o;'S$e;'S;=`(u<%lO$e4eI{d)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#]4Y#]#^KZ#^#o4Y#o;'S$e;'S;=`(u<%lO$e4eKfd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#ZLt#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4eMRb)ZW(pQ'f&j'k.o'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4eNff)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z! z#Z#b4Y#b#c!.[#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e!!Xf)ZW(pQ'g.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#X!#m#X#b4Y#b#c!(W#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e!#xd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y!%W#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e!%cd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z!&q#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4e!'Ob)ZW(pQ'h.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e!(cd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#X!)q#X#o4Y#o;'S$e;'S;=`(u<%lO$e4e!)|d)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y!+[#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e!+gd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z!,u#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4e!-Sb)ZW(pQ'i.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e!.gd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#V4Y#V#W!/u#W#o4Y#o;'S$e;'S;=`(u<%lO$e4e!0Qd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#`4Y#`#a!1`#a#o4Y#o;'S$e;'S;=`(u<%lO$e4e!1kd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#i4Y#i#j!2y#j#o4Y#o;'S$e;'S;=`(u<%lO$e4e!3Ud)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#X!4d#X#o4Y#o;'S$e;'S;=`(u<%lO$e4e!4od)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y!5}#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e!6[b)ZW(pQV.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e3o!7q[)ZW(pQ%Z!b![,g'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!8rY!g-y)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!9o])V,g)ZW(pQ%[!b'f&jOY$eZr$ers%^sv$evw!:hwx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!:uY)U,g%^!b)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2X!;pW)[S(pQ)Y,g'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O6i!<eY)ZW(pQ]6_'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e'V!=`Y!Oa)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!>][)S,g)ZW(pQ%Z!b'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!?`^)ZW(pQ%Z!b!Y,g'f&jOY$eZr$ers%^sw$ewx(Ox{$e{|!@[|!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!@gY)ZW!X-y(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!AbY!h,k)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!B__)ZW(pQ%Z!b!Y,g'f&jOY$eZr$ers%^sw$ewx(Ox}$e}!O!@[!O!_$e!_!`!8g!`!a!C^!a#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!CiY(x-y)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!Dd^)ZW(pQ'f&j(w,gOY$eZr$ers%^sw$ewx(Ox!O$e!O!P!E`!P!Q$e!Q![!GY![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!Ei[)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!O$e!O!P!F_!P#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!FjY)X,k)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]!Gen)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx!Icx!Q$e!Q![!GY![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2T!IjY(pQ'f&jOY(OZr(Ors%}s!Q(O!Q![!JY![#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O2T!Jcn(pQ!i,g'f&jOY(OZr(Ors%}sw(Owx!Icx!Q(O!Q![!JY![!g(O!g!h!La!h!i##`!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#X(O#X#Y!La#Y#Z##`#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T!Ljl(pQ!i,g'f&jOY(OZr(Ors%}s{(O{|!Nb|}(O}!O!Nb!O!Q(O!Q![# e![!c(O!c!h# e!h!i# e!i!n(O!n!o##`!o!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#Y# e#Y#Z# e#Z#`(O#`#a##`#a#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T!Ni^(pQ'f&jOY(OZr(Ors%}s!Q(O!Q![# e![!c(O!c!i# e!i#O(O#O#P&f#P#T(O#T#Z# e#Z;'S(O;'S;=`(o<%lO(O2T# nj(pQ!i,g'f&jOY(OZr(Ors%}sw(Owx!Nbx!Q(O!Q![# e![!c(O!c!h# e!h!i# e!i!n(O!n!o##`!o!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#Y# e#Y#Z# e#Z#`(O#`#a##`#a#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T##id(pQ!i,g'f&jOY(OZr(Ors%}s!h(O!h!i##`!i!n(O!n!o##`!o!w(O!w!x##`!x#O(O#O#P&f#P#Y(O#Y#Z##`#Z#`(O#`#a##`#a#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2]#%Sn)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx(Ox{$e{|#'Q|}$e}!O#'Q!O!Q$e!Q![#(]![!c$e!c!h#(]!h!i#(]!i!n$e!n!o#*Y!o!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#Y#(]#Y#Z#(]#Z#`$e#`#a#*Y#a#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]#'Z`)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![#(]![!c$e!c!i#(]!i#O$e#O#P&f#P#T$e#T#Z#(]#Z;'S$e;'S;=`(u<%lO$e2]#(hj)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx!Nbx!Q$e!Q![#(]![!c$e!c!h#(]!h!i#(]!i!n$e!n!o#*Y!o!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#Y#(]#Y#Z#(]#Z#`$e#`#a#*Y#a#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]#*ef)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx(Ox!h$e!h!i#*Y!i!n$e!n!o#*Y!o!w$e!w!x#*Y!x#O$e#O#P&f#P#Y$e#Y#Z#*Y#Z#`$e#`#a#*Y#a#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e7Z#,W`)ZW(pQ%Z!b![,g'f&jOY$eZr$ers%^sw$ewx(Oxz$ez{#-Y{!P$e!P!Q#:s!Q!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z#-c])ZW(pQ'f&jOY#-YYZ#.[Zr#-Yrs#/csw#-Ywx#5wxz#-Yz{#8j{#O#-Y#O#P#2`#P;'S#-Y;'S;=`#:m<%lO#-Y1e#._TOz#.[z{#.n{;'S#.[;'S;=`#/]<%lO#.[1e#.qVOz#.[z{#.n{!P#.[!P!Q#/W!Q;'S#.[;'S;=`#/]<%lO#.[1e#/]OT1e1e#/`P;=`<%l#.[7X#/jZ)ZW'f&jOY#/cYZ#.[Zw#/cwx#0]xz#/cz{#4O{#O#/c#O#P#2`#P;'S#/c;'S;=`#5q<%lO#/c7P#0bX'f&jOY#0]YZ#.[Zz#0]z{#0}{#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#1SZ'f&jOY#0]YZ#.[Zz#0]z{#0}{!P#0]!P!Q#1u!Q#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#1|UT1e'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}7P#2eZ'f&jOY#0]YZ#0]Z]#0]]^#3W^z#0]z{#0}{#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#3]X'f&jOY#0]YZ#0]Zz#0]z{#0}{#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#3{P;=`<%l#0]7X#4V])ZW'f&jOY#/cYZ#.[Zw#/cwx#0]xz#/cz{#4O{!P#/c!P!Q#5O!Q#O#/c#O#P#2`#P;'S#/c;'S;=`#5q<%lO#/c7X#5XW)ZWT1e'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^7X#5tP;=`<%l#/c7R#6OZ(pQ'f&jOY#5wYZ#.[Zr#5wrs#0]sz#5wz{#6q{#O#5w#O#P#2`#P;'S#5w;'S;=`#8d<%lO#5w7R#6x](pQ'f&jOY#5wYZ#.[Zr#5wrs#0]sz#5wz{#6q{!P#5w!P!Q#7q!Q#O#5w#O#P#2`#P;'S#5w;'S;=`#8d<%lO#5w7R#7zW(pQT1e'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O7R#8gP;=`<%l#5w7Z#8s_)ZW(pQ'f&jOY#-YYZ#.[Zr#-Yrs#/csw#-Ywx#5wxz#-Yz{#8j{!P#-Y!P!Q#9r!Q#O#-Y#O#P#2`#P;'S#-Y;'S;=`#:m<%lO#-Y7Z#9}Y)ZW(pQT1e'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z#:pP;=`<%l#-Y7Z#;OY)ZW(pQS1e'f&jOY#:sZr#:srs#;nsw#:swx#@{x#O#:s#O#P#<z#P;'S#:s;'S;=`#At<%lO#:s7X#;wW)ZWS1e'f&jOY#;nZw#;nwx#<ax#O#;n#O#P#<z#P;'S#;n;'S;=`#@u<%lO#;n7P#<hUS1e'f&jOY#<aZ#O#<a#O#P#<z#P;'S#<a;'S;=`#>[<%lO#<a7P#=RXS1e'f&jOY#<aYZ%}Z]#<a]^#=n^#O#<a#O#P#>b#P;'S#<a;'S;=`#>[<%lO#<a7P#=uVS1e'f&jOY#<aYZ%}Z#O#<a#O#P#<z#P;'S#<a;'S;=`#>[<%lO#<a7P#>_P;=`<%l#<a7P#>i]S1e'f&jOY#<aYZ%}Z]#<a]^#=n^#O#<a#O#P#>b#P#b#<a#b#c#<a#c#f#<a#f#g#?b#g;'S#<a;'S;=`#>[<%lO#<a7P#?iUS1e'f&jOY#<aZ#O#<a#O#P#?{#P;'S#<a;'S;=`#>[<%lO#<a7P#@SZS1e'f&jOY#<aYZ%}Z]#<a]^#=n^#O#<a#O#P#>b#P#b#<a#b#c#<a#c;'S#<a;'S;=`#>[<%lO#<a7X#@xP;=`<%l#;n7R#AUW(pQS1e'f&jOY#@{Zr#@{rs#<as#O#@{#O#P#<z#P;'S#@{;'S;=`#An<%lO#@{7R#AqP;=`<%l#@{7Z#AwP;=`<%l#:s2]#BVt)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx#Dgx!O$e!O!P$ m!P!Q$e!Q![$(x![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#U$e#U#V$+X#V#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j#l$e#l#m$=`#m;'S$e;'S;=`(u<%lO$e2T#DnY(pQ'f&jOY(OZr(Ors%}s!Q(O!Q![#E^![#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O2T#Egp(pQ!i,g'f&jOY(OZr(Ors%}sw(Owx#Dgx!O(O!O!P#Gk!P!Q(O!Q![#E^![!g(O!g!h!La!h!i##`!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#X(O#X#Y!La#Y#Z##`#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T#Gtn(pQ!i,g'f&jOY(OZr(Ors%}s!Q(O!Q![#Ir![!c(O!c!g#Ir!g!h#MS!h!i#Ir!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X#Ir#X#Y#MS#Y#Z#Ir#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T#I{p(pQ!i,g'f&jOY(OZr(Ors%}sw(Owx#LPx!Q(O!Q![#Ir![!c(O!c!g#Ir!g!h#MS!h!i#Ir!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X#Ir#X#Y#MS#Y#Z#Ir#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T#LW^(pQ'f&jOY(OZr(Ors%}s!Q(O!Q![#Ir![!c(O!c!i#Ir!i#O(O#O#P&f#P#T(O#T#Z#Ir#Z;'S(O;'S;=`(o<%lO(O2T#M]t(pQ!i,g'f&jOY(OZr(Ors%}sw(Owx#LPx{(O{|!Nb|}(O}!O!Nb!O!Q(O!Q![#Ir![!c(O!c!g#Ir!g!h#MS!h!i#Ir!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X#Ir#X#Y#MS#Y#Z#Ir#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2]$ xp)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![$#|![!c$e!c!g$#|!g!h$&]!h!i$#|!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$#|#X#Y$&]#Y#Z$#|#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$$Xp)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx#LPx!Q$e!Q![$#|![!c$e!c!g$#|!g!h$&]!h!i$#|!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$#|#X#Y$&]#Y#Z$#|#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$&ht)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx#LPx{$e{|#'Q|}$e}!O#'Q!O!Q$e!Q![$#|![!c$e!c!g$#|!g!h$&]!h!i$#|!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$#|#X#Y$&]#Y#Z$#|#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$)Tp)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx#Dgx!O$e!O!P$ m!P!Q$e!Q![$(x![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$+b_)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!O$e!O!P$,a!P!Q$e!Q!R$-`!R![$(x![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$,j[)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![!GY![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$-kt)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx#Dgx!O$e!O!P$ m!P!Q$e!Q![$(x![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#U$e#U#V$/{#V#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j#l$e#l#m$0z#m;'S$e;'S;=`(u<%lO$e2]$0U[)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![$(x![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$1T`)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![$2V![!c$e!c!i$2V!i#O$e#O#P&f#P#T$e#T#Z$2V#Z;'S$e;'S;=`(u<%lO$e2]$2br)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx$4lx!O$e!O!P$ m!P!Q$e!Q![$2V![!c$e!c!g$2V!g!h$:p!h!i$2V!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$2V#X#Y$:p#Y#Z$2V#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2T$4s^(pQ'f&jOY(OZr(Ors%}s!Q(O!Q![$5o![!c(O!c!i$5o!i#O(O#O#P&f#P#T(O#T#Z$5o#Z;'S(O;'S;=`(o<%lO(O2T$5xr(pQ!i,g'f&jOY(OZr(Ors%}sw(Owx$4lx!O(O!O!P#Gk!P!Q(O!Q![$5o![!c(O!c!g$5o!g!h$8S!h!i$5o!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X$5o#X#Y$8S#Y#Z$5o#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T$8]u(pQ!i,g'f&jOY(OZr(Ors%}sw(Owx$4lx{(O{|!Nb|}(O}!O!Nb!O!P#Gk!P!Q(O!Q![$5o![!c(O!c!g$5o!g!h$8S!h!i$5o!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X$5o#X#Y$8S#Y#Z$5o#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2]$:{u)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx$4lx{$e{|#'Q|}$e}!O#'Q!O!P$ m!P!Q$e!Q![$2V![!c$e!c!g$2V!g!h$:p!h!i$2V!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$2V#X#Y$:p#Y#Z$2V#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$=ic)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!O$e!O!P$,a!P!Q$e!Q!R$>t!R![$2V![!c$e!c!i$2V!i#O$e#O#P&f#P#T$e#T#Z$2V#Z;'S$e;'S;=`(u<%lO$e2]$?Pv)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx$4lx!O$e!O!P$ m!P!Q$e!Q![$2V![!c$e!c!g$2V!g!h$:p!h!i$2V!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#U$2V#U#V$2V#V#X$2V#X#Y$:p#Y#Z$2V#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j#l$e#l#m$0z#m;'S$e;'S;=`(u<%lO$e4e$Ar[(v-X)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox![$e![!]$Bh!]#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3s$BsYl-})ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$CnY)W,g)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7V$Dk_p,g%]!b)ZW(pQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!^$Ej!^!_%+w!_!`%.U!`!a%0]!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej*[$Es])ZW(pQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!`$Ej!`!a%*t!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ejp$FoTO!`$Fl!`!a$GO!a;'S$Fl;'S;=`$GT<%lO$Flp$GTO$Wpp$GWP;=`<%l$Fl*Y$GbZ)ZW'f&jOY$GZYZ$FlZw$GZwx$HTx!`$GZ!`!a%(U!a#O$GZ#O#P$Ib#P;'S$GZ;'S;=`%(y<%lO$GZ*Q$HYX'f&jOY$HTYZ$FlZ!`$HT!`!a$Hu!a#O$HT#O#P$Ib#P;'S$HT;'S;=`$Mx<%lO$HT*Q$IOU$WpY#t'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}*Q$Ig['f&jOY$HTYZ$HTZ]$HT]^$J]^!`$HT!`!a$NO!a#O$HT#O#P%&n#P;'S$HT;'S;=`%'f;=`<%l%$z<%lO$HT*Q$JbX'f&jOY$HTYZ$J}Z!`$HT!`!a$Hu!a#O$HT#O#P$Ib#P;'S$HT;'S;=`$Mx<%lO$HT'[$KSX'f&jOY$J}YZ$FlZ!`$J}!`!a$Ko!a#O$J}#O#P$LY#P;'S$J};'S;=`$Mr<%lO$J}'[$KvU$Wp'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}'[$L_Z'f&jOY$J}YZ$J}Z]$J}]^$MQ^!`$J}!`!a$Ko!a#O$J}#O#P$LY#P;'S$J};'S;=`$Mr<%lO$J}'[$MVX'f&jOY$J}YZ$J}Z!`$J}!`!a$Ko!a#O$J}#O#P$LY#P;'S$J};'S;=`$Mr<%lO$J}'[$MuP;=`<%l$J}*Q$M{P;=`<%l$HT*Q$NVW$Wp'f&jOY$NoZ!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`$NtW'f&jOY$NoZ!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`% eUY#t'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%})`% |Y'f&jOY$NoYZ$NoZ]$No]^%!l^#O$No#O#P%#d#P;'S$No;'S;=`%$[;=`<%l%$z<%lO$No)`%!qX'f&jOY$NoYZ%}Z!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`%#aP;=`<%l$No)`%#iZ'f&jOY$NoYZ%}Z]$No]^%!l^!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`%$_XOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h;=`<%l$No<%lO%$z#t%$}WOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h<%lO%$z#t%%lOY#t#t%%oRO;'S%$z;'S;=`%%x;=`O%$z#t%%{XOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h;=`<%l%$z<%lO%$z#t%&kP;=`<%l%$z*Q%&sZ'f&jOY$HTYZ$J}Z]$HT]^$J]^!`$HT!`!a$Hu!a#O$HT#O#P$Ib#P;'S$HT;'S;=`$Mx<%lO$HT*Q%'iXOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h;=`<%l$HT<%lO%$z*Y%(aW$WpY#t)ZW'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^*Y%(|P;=`<%l$GZ*S%)WZ(pQ'f&jOY%)PYZ$FlZr%)Prs$HTs!`%)P!`!a%)y!a#O%)P#O#P$Ib#P;'S%)P;'S;=`%*n<%lO%)P*S%*UW$WpY#t(pQ'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O*S%*qP;=`<%l%)P*[%+RY$WpY#t)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e*[%+tP;=`<%l$Ej7V%,U^)ZW(pQ%[!b!f,g'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!_$Ej!_!`%-Q!`!a%*t!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej7V%-]]!g-y)ZW(pQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!`$Ej!`!a%*t!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej7V%.c]%]!b!b,g)ZW(pQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!`$Ej!`!a%/[!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej7V%/mY%]!b!b,g$WpY#t)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e)j%0hYY#t)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%1c[)j!c)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`0Q!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%2f]%]!b)ZW(pQ!d,g'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`%3_!`!a%4[!a#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%3lY%]!b!b,g)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%4i[)ZW(pQ%[!b!f,g'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e&u%5jY(uP)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z%6ib)ZW(yS(pQ!R,f(r%y'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![%6Y![!c$e!c!}%6Y!}#O$e#O#P&f#P#R$e#R#S%6Y#S#T$e#T#o%6Y#o;'S$e;'S;=`(u<%lO$e7Z%8Qb)ZW(yS(pQ!R,f(r%y'f&jOY$eZr$ers%9Ysw$ewx%9{x!Q$e!Q![%6Y![!c$e!c!}%6Y!}#O$e#O#P&f#P#R$e#R#S%6Y#S#T$e#T#o%6Y#o;'S$e;'S;=`(u<%lO$e5P%9cW)ZW(o/]'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^2T%:UW(pQ)Y,g'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O3o%:yZ!V-y)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!}$e!}#O%;l#O#P&f#P;'S$e;'S;=`(u<%lO$e&u%;wY)PP)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e4e%<la'f&jOY%=qYZ%>[Z]%=q]^%?Z^!Q%=q!Q![%?w![!w%=q!w!x%AX!x#O%=q#O#P%H_#P#i%=q#i#j%Ds#j#l%=q#l#m%IR#m;'S%=q;'S;=`%Kt<%lO%=q&t%=xUXY'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}4e%>e[XY(n.o'f&jOX%}XY-OYZ*[Z]%}]^-O^p%}pq-Oq#O%}#O#P,^#P;'S%};'S;=`'r<%lO%}4e%?bVXY'f&jOY%}YZ-OZ#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%@OWXY'f&jOY%}Z!Q%}!Q![%@h![#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%@oWXY'f&jOY%}Z!Q%}!Q![%=q![#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%A^['f&jOY%}Z!Q%}!Q![%BS![!c%}!c!i%BS!i#O%}#O#P&f#P#T%}#T#Z%BS#Z;'S%};'S;=`'r<%lO%}&t%BX['f&jOY%}Z!Q%}!Q![%B}![!c%}!c!i%B}!i#O%}#O#P&f#P#T%}#T#Z%B}#Z;'S%};'S;=`'r<%lO%}&t%CS['f&jOY%}Z!Q%}!Q![%Cx![!c%}!c!i%Cx!i#O%}#O#P&f#P#T%}#T#Z%Cx#Z;'S%};'S;=`'r<%lO%}&t%C}['f&jOY%}Z!Q%}!Q![%Ds![!c%}!c!i%Ds!i#O%}#O#P&f#P#T%}#T#Z%Ds#Z;'S%};'S;=`'r<%lO%}&t%Dx['f&jOY%}Z!Q%}!Q![%En![!c%}!c!i%En!i#O%}#O#P&f#P#T%}#T#Z%En#Z;'S%};'S;=`'r<%lO%}&t%Es['f&jOY%}Z!Q%}!Q![%Fi![!c%}!c!i%Fi!i#O%}#O#P&f#P#T%}#T#Z%Fi#Z;'S%};'S;=`'r<%lO%}&t%Fn['f&jOY%}Z!Q%}!Q![%Gd![!c%}!c!i%Gd!i#O%}#O#P&f#P#T%}#T#Z%Gd#Z;'S%};'S;=`'r<%lO%}&t%Gi['f&jOY%}Z!Q%}!Q![%=q![!c%}!c!i%=q!i#O%}#O#P&f#P#T%}#T#Z%=q#Z;'S%};'S;=`'r<%lO%}&t%HfXXY'f&jOY%}YZ%}Z]%}]^'W^#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%IW['f&jOY%}Z!Q%}!Q![%I|![!c%}!c!i%I|!i#O%}#O#P&f#P#T%}#T#Z%I|#Z;'S%};'S;=`'r<%lO%}&t%JR['f&jOY%}Z!Q%}!Q![%Jw![!c%}!c!i%Jw!i#O%}#O#P&f#P#T%}#T#Z%Jw#Z;'S%};'S;=`'r<%lO%}&t%KO[XY'f&jOY%}Z!Q%}!Q![%Jw![!c%}!c!i%Jw!i#O%}#O#P&f#P#T%}#T#Z%Jw#Z;'S%};'S;=`'r<%lO%}&t%KwP;=`<%l%=q2a%LVZ!W,V)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P#Q%Lx#Q;'S$e;'S;=`(u<%lO$e'Y%MTY)]d)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%NQ[)ZW(pQ%[!b'f&j!_,gOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z& Vd)ZW(yS(pQ!R,f(r%y'f&jOY$eZr$ers%9Ysw$ewx%9{x!Q$e!Q!Y%6Y!Y!Z%7q!Z![%6Y![!c$e!c!}%6Y!}#O$e#O#P&f#P#R$e#R#S%6Y#S#T$e#T#o%6Y#o;'S$e;'S;=`(u<%lO$e2]&!pY!T,g)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o&#m^)ZW(pQ%[!b'f&j!^,gOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P#p$e#p#q&$i#q;'S$e;'S;=`(u<%lO$e3o&$vY)T,g%^!b)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e'V&%qY!Ua)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e(]&&nc)ZW(pQ%[!b'RP'f&jOX$eXY&'yZp$epq&'yqr$ers%^sw$ewx(Ox!c$e!c!}&)_!}#O$e#O#P&f#P#R$e#R#S&)_#S#T$e#T#o&)_#o;'S$e;'S;=`(u<%lO$e&y&(Sc)ZW(pQ'f&jOX$eXY&'yZp$epq&'yqr$ers%^sw$ewx(Ox!c$e!c!}&)_!}#O$e#O#P&f#P#R$e#R#S&)_#S#T$e#T#o&)_#o;'S$e;'S;=`(u<%lO$e&y&)jb)ZW(pQdT'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![&)_![!c$e!c!}&)_!}#O$e#O#P&f#P#R$e#R#S&)_#S#T$e#T#o&)_#o;'S$e;'S;=`(u<%lO$e",tokenizers:[Tx,Ux,0,1,2,3,4,5,6,7,8,9],topRules:{Program:[0,307]},dynamicPrecedences:{87:1,94:1,119:1,184:1,187:-10,240:-10,241:1,244:-1,246:-10,247:1,262:-1,267:2,268:2,306:-10,365:3,417:1,418:3,419:1,420:1},specialized:[{term:356,get:n=>Wx[n]||-1},{term:32,get:n=>Yx[n]||-1},{term:66,get:n=>Ax[n]||-1},{term:363,get:n=>Vx[n]||-1}],tokenPrec:24891}),Zx=rs.define({name:"cpp",parser:Mx.configure({props:[Cu.add({IfStatement:oo({except:/^\s*({|else\b)/}),TryStatement:oo({except:/^\s*({|catch)\b/}),LabeledStatement:b0,CaseStatement:n=>n.baseIndent+n.unit,BlockComment:()=>null,CompoundStatement:x0({closing:"}"}),Statement:oo({except:/^{/})}),Ru.add({"DeclarationList CompoundStatement EnumeratorList FieldDeclarationList InitializerList":$0,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\})$/,closeBrackets:{stringPrefixes:["L","u","U","u8","LR","UR","uR","u8R","R"]}}});function zx(){return new u0(Zx)}const rd="#2e3235",sd="#505d64",yl="#606f7a",bs="#707d8b",qx="#a0a4ae",Ir="#bdbdbd",Lx="#e0e0e0",Ex="#fdf6e3",tn="#ff5f52",jx="#ff6e40",Dx="#fa5788",Oi="#facf4e",Yc="#ffad42",Tn="#56c8d8",_x="#7186f0",mo="#cf6edf",Bx="#6abf69",Ac="#99d066",Vc="#4ebaaa",Mc=tn,Zc="#202325",zc="#545b61",qc="rgba(84,91,97,0.35)",Ix=rd,vo=sd,Nx=sd,Lc=qx,Gx=D.theme({"&":{color:Ir,backgroundColor:Ix},".cm-content":{caretColor:Lc},".cm-cursor, .cm-dropCursor":{borderLeftColor:Lc},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Nx},".cm-panels":{backgroundColor:Zc,color:bs},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{outline:`1px solid ${Oi}`,backgroundColor:"transparent"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:zc},".cm-activeLine":{backgroundColor:qc},".cm-selectionMatch":{backgroundColor:Zc,outline:`1px solid ${Vc}`},"&.cm-focused .cm-matchingBracket":{color:Lx,outline:`1px solid ${Vc}`},"&.cm-focused .cm-nonmatchingBracket":{color:tn},".cm-gutters":{backgroundColor:rd,borderRight:"1px solid #4f5b66",color:yl},".cm-activeLineGutter":{backgroundColor:qc,color:Ex},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:vo},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:vo,borderBottomColor:vo},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:zc,color:bs}}},{dark:!0}),Fx=mn.define([{tag:Q.keyword,color:mo},{tag:[Q.name,Q.deleted,Q.character,Q.macroName],color:Tn},{tag:[Q.propertyName],color:Oi},{tag:[Q.variableName],color:Ir},{tag:[Q.function(Q.variableName)],color:Tn},{tag:[Q.labelName],color:mo},{tag:[Q.color,Q.constant(Q.name),Q.standard(Q.name)],color:Oi},{tag:[Q.definition(Q.name),Q.separator],color:Dx},{tag:[Q.brace],color:mo},{tag:[Q.annotation],color:Mc},{tag:[Q.number,Q.changed,Q.annotation,Q.modifier,Q.self,Q.namespace],color:Yc},{tag:[Q.typeName,Q.className],color:Yc},{tag:[Q.operator,Q.operatorKeyword],color:_x},{tag:[Q.tagName],color:jx},{tag:[Q.squareBracket],color:tn},{tag:[Q.angleBracket],color:yl},{tag:[Q.attributeName],color:Ir},{tag:[Q.regexp],color:Mc},{tag:[Q.quote],color:Bx},{tag:[Q.string],color:Ac},{tag:Q.link,color:Tn,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[Q.url,Q.escape,Q.special(Q.string)],color:Oi},{tag:[Q.meta],color:bs},{tag:[Q.comment],color:bs,fontStyle:"italic"},{tag:Q.monospace,color:Ir},{tag:Q.strong,fontWeight:"bold",color:tn},{tag:Q.emphasis,fontStyle:"italic",color:Ac},{tag:Q.strikethrough,textDecoration:"line-through"},{tag:Q.heading,fontWeight:"bold",color:Oi},{tag:Q.heading1,fontWeight:"bold",color:Oi},{tag:[Q.heading2,Q.heading3,Q.heading4],fontWeight:"bold",color:Oi},{tag:[Q.heading5,Q.heading6],color:Oi},{tag:[Q.atom,Q.bool,Q.special(Q.variableName)],color:Tn},{tag:[Q.processingInstruction,Q.inserted],color:tn},{tag:[Q.contentSeparator],color:Tn},{tag:Q.invalid,color:yl,borderBottom:`1px dotted ${tn}`}]),od=[Gx,El(Fx)],Ec="#2e3440",ld="#3b4252",jc="#434c5e",Vr="#4c566a",xl="#e5e9f0",bl="#eceff4",yo="#8fbcbb",Dc="#88c0d0",Hx="#81a1c1",Ut="#5e81ac",Kx="#bf616a",Gi="#d08770",xo="#ebcb8b",_c="#a3be8c",Jx="#b48ead",Bc="#d30102",ra=bl,eb=ra,Ic="rgba(191,97,106,0.05)",tb="#ffffff",bo=xl,ib=ra,Nc=ld,nb=D.theme({"&":{color:Ec,backgroundColor:tb},".cm-content":{caretColor:Nc},".cm-cursor, .cm-dropCursor":{borderLeftColor:Nc},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:ib},".cm-panels":{backgroundColor:ra,color:Vr},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${Vr}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:xl},".cm-activeLine":{backgroundColor:Ic},".cm-selectionMatch":{backgroundColor:xl},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${Vr}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:bl},".cm-gutters":{backgroundColor:bl,color:Ec,border:"none"},".cm-activeLineGutter":{backgroundColor:Ic},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:bo},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:bo,borderBottomColor:bo},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:eb,color:Vr}}},{dark:!1}),rb=mn.define([{tag:Q.keyword,color:Ut},{tag:[Q.name,Q.deleted,Q.character,Q.propertyName,Q.macroName],color:Gi},{tag:[Q.variableName],color:Gi},{tag:[Q.function(Q.variableName)],color:Ut},{tag:[Q.labelName],color:Hx},{tag:[Q.color,Q.constant(Q.name),Q.standard(Q.name)],color:Ut},{tag:[Q.definition(Q.name),Q.separator],color:_c},{tag:[Q.brace],color:yo},{tag:[Q.annotation],color:Bc},{tag:[Q.number,Q.changed,Q.annotation,Q.modifier,Q.self,Q.namespace],color:Dc},{tag:[Q.typeName,Q.className],color:xo},{tag:[Q.operator,Q.operatorKeyword],color:_c},{tag:[Q.tagName],color:Jx},{tag:[Q.squareBracket],color:Kx},{tag:[Q.angleBracket],color:Gi},{tag:[Q.attributeName],color:xo},{tag:[Q.regexp],color:Ut},{tag:[Q.quote],color:ld},{tag:[Q.string],color:Gi},{tag:Q.link,color:yo,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[Q.url,Q.escape,Q.special(Q.string)],color:Gi},{tag:[Q.meta],color:Dc},{tag:[Q.comment],color:jc,fontStyle:"italic"},{tag:Q.strong,fontWeight:"bold",color:Ut},{tag:Q.emphasis,fontStyle:"italic",color:Ut},{tag:Q.strikethrough,textDecoration:"line-through"},{tag:Q.heading,fontWeight:"bold",color:Ut},{tag:Q.special(Q.heading1),fontWeight:"bold",color:Ut},{tag:Q.heading1,fontWeight:"bold",color:Ut},{tag:[Q.heading2,Q.heading3,Q.heading4],fontWeight:"bold",color:Ut},{tag:[Q.heading5,Q.heading6],color:Ut},{tag:[Q.atom,Q.bool,Q.special(Q.variableName)],color:Gi},{tag:[Q.processingInstruction,Q.inserted],color:yo},{tag:[Q.contentSeparator],color:xo},{tag:Q.invalid,color:jc,borderBottom:`1px dotted ${Bc}`}]),sb=[nb,El(rb)];function ob(){const[n,e]=di.useState("light");return di.useEffect(()=>{window.matchMedia("(prefers-color-scheme: dark)").matches;const t=i=>{const r=i.matches?"dark":"light";e(r)};return e(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t),()=>{window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",t)}},[]),[n,e]}const ad=new pn,hd=new pn;function Gc(n,e){const{enableVim:t,preferColorMode:i}=e,r=[],s=[];e.hasOwnProperty("enableVim")&&(t&&r.push(id({status:!0})),n.dispatch({effects:hd.reconfigure(r)})),e.hasOwnProperty("preferColorMode")&&(i==="dark"?s.push(od):s.push(sb),n.dispatch({effects:ad.reconfigure(s)}))}function fb(n){const e=di.useRef(null),{onChange:t,code:i}=n,[r,s]=di.useState(!0),[o,l]=di.useState();di.useEffect(()=>{let O=D.updateListener.of(y=>{if(y.docChanged){const w=y.state.doc.toString();t(w)}}),p=he.create({doc:i,extensions:[hd.of([id({status:!0})]),R1,zx(),O,ad.of([od])]});const v=document.querySelector("#code-mirror");if(v!==null){const y=new D({state:p,parent:v});l(y)}},[e]),di.useEffect(()=>{o&&Gc(o,{enableVim:r,preferColorMode:h})},[o,r]);const[h,f]=ob();return di.useEffect(()=>{o&&Gc(o,{preferColorMode:h})},[h,o]),ei.jsxs("div",{children:[ei.jsxs("div",{className:"prose dark:prose-invert prose-slate flex flex-row items-center",children:[ei.jsxs("div",{className:"flex flex-row items-center",children:[ei.jsx("input",{checked:r,onChange:O=>s(O.target.checked),type:"checkbox",id:"vimMode",name:"vimMode",className:"enabled:hover:border-gray-400 disabled:opacity-75"}),ei.jsx("label",{htmlFor:"vimMode",className:"ml-2",children:"vim mode"})]}),ei.jsxs("div",{className:"flex flex-row items-center ml-4",children:[ei.jsx("input",{checked:h==="dark",onChange:O=>f(O.target.checked?"dark":"light"),type:"checkbox",id:"darkMode",name:"darkMode",className:"enabled:hover:border-gray-400 disabled:opacity-75"}),ei.jsx("label",{htmlFor:"darkMode",className:"ml-2",children:"dark mode"})]})]}),ei.jsx("div",{id:"code-mirror",ref:e})]})}export{fb as default};
